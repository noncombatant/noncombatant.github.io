if("undefined"==typeof tiger)var tiger={};"undefined"==typeof tiger.components&&(tiger.components={}),"undefined"==typeof tiger.components.ad&&(tiger.components.ad={}),"undefined"==typeof tiger.components.forms&&(tiger.components.forms={}),"undefined"==typeof tiger.components.forms.modals&&(tiger.components.forms.modals={}),"undefined"==typeof tiger.components.forms.modals.headers&&(tiger.components.forms.modals.headers={}),"undefined"==typeof tiger.components.forms.modals.modal&&(tiger.components.forms.modals.modal={}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(s,tv){function J(t){var n=t.length,s=e.type(t);return"function"!==s&&!e.isWindow(t)&&(!!(1===t.nodeType&&n)||"array"===s||0===n||"number"==typeof n&&n>0&&n-1 in t)}function Q(n,t,s){if(e.isFunction(t))return e.grep(n,function(e,n){return!!t.call(e,n,e)!==s});if(t.nodeType)return e.grep(n,function(e){return e===t!==s});if("string"==typeof t){if(tt.test(t))return e.filter(t,n,s);t=e.filter(t,n)}return e.grep(n,function(e){return V.call(t,e)>=0!==s})}function eL(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function t7(t){var n=W[t]={};return e.each(t.match(l)||[],function(t,e){n[e]=!0}),n}function E(){n.removeEventListener("DOMContentLoaded",E,!1),s.removeEventListener("load",E,!1),e.ready()}function g(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=e.expando+Math.random()}function ez(n,s,t){var o;if(void 0===t&&1===n.nodeType)if(o="data-"+s.replace(te,"-$1").toLowerCase(),t=n.getAttribute(o),"string"==typeof t){try{t="true"===t||"false"!==t&&("null"===t?null:+t+""===t?+t:t9.test(t)?e.parseJSON(t):t)}catch(e){}i.set(n,s,t)}else t=void 0;return t}function P(){return!0}function v(){return!1}function eT(){try{return n.activeElement}catch(e){}}function eS(t,n){return e.nodeName(t,"table")&&e.nodeName(11!==n.nodeType?n:n.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function t5(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function tg(e){var t=eY.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function en(n,s){for(var e=0,o=n.length;o>e;e++)t.set(n[e],"globalEval",!s||t.get(s[e],"globalEval"))}function eA(n,s){var o,a,r,c,l,d,u,h;if(1===s.nodeType){if(t.hasData(n)&&(c=t.access(n),l=t.set(s,c),a=c.events)){delete l.handle,l.events={};for(r in a)for(o=0,h=a[r].length;h>o;o++)e.event.add(s,r,a[r][o])}i.hasData(n)&&(d=i.access(n),u=e.extend({},d),i.set(s,u))}}function r(t,n){var s=t.getElementsByTagName?t.getElementsByTagName(n||"*"):t.querySelectorAll?t.querySelectorAll(n||"*"):[];return void 0===n||n&&e.nodeName(t,n)?e.merge([t],s):s}function t8(e,t){var n=t.nodeName.toLowerCase();"input"===n&&e5.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function ek(i,n){var o,t=e(n.createElement(i)).appendTo(n.body),a=s.getDefaultComputedStyle&&(o=s.getDefaultComputedStyle(t[0]))?o.display:e.css(t[0],"display");return t.detach(),a}function et(o){var s=n,t=eM[o];return t||(t=ek(o,s),"none"!==t&&t||(k=(k||e("<iframe frameborder='0' width='0' height='0'/>")).appendTo(s.documentElement),s=k[0].contentDocument,s.write(),s.close(),t=ek(o,s),k.detach()),eM[o]=t),t}function w(o,i,s){var t,a,r,c,n=o.style;return s=s||H(o),s&&(t=s.getPropertyValue(i)||s[i]),s&&(""!==t||e.contains(o.ownerDocument,o)||(t=e.style(o,i)),Z.test(t)&&eF.test(i)&&(a=n.width,r=n.minWidth,c=n.maxWidth,n.minWidth=n.maxWidth=n.width=t,t=s.width,n.width=a,n.minWidth=r,n.maxWidth=c)),void 0!==t?t+"":t}function ex(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function ew(t,e){if(e in t)return e;for(var s=e[0].toUpperCase()+e.slice(1),o=e,n=es.length;n--;)if(e=es[n]+s,e in t)return e;return o}function ev(s,t,n){var e=e$.exec(t);return e?Math.max(0,e[1]-(n||0))+(e[2]||"px"):t}function e7(i,r,s,a,o){for(var t=s===(a?"border":"content")?4:"width"===r?1:0,n=0;4>t;t+=2)"margin"===s&&(n+=e.css(i,s+f[t],!0,o)),a?("content"===s&&(n-=e.css(i,"padding"+f[t],!0,o)),"margin"!==s&&(n-=e.css(i,"border"+f[t]+"Width",!0,o))):(n+=e.css(i,"padding"+f[t],!0,o),"padding"!==s&&(n+=e.css(i,"border"+f[t]+"Width",!0,o)));return n}function eg(n,s,c){var a=!0,t="width"===s?n.offsetWidth:n.offsetHeight,i=H(n),r="border-box"===e.css(n,"boxSizing",!1,i);if(0>=t||null==t){if(t=w(n,s,i),(0>t||null==t)&&(t=n.style[s]),Z.test(t))return t;a=r&&(o.boxSizingReliable()||t===n.style[s]),t=parseFloat(t)||0}return t+e7(n,s,c||(r?"border":"content"),a,i)+"px"}function ep(a,r){for(var n,o,c,i=[],s=0,l=a.length;l>s;s++)n=a[s],n.style&&(i[s]=t.get(n,"olddisplay"),o=n.style.display,r?(i[s]||"none"!==o||(n.style.display=""),""===n.style.display&&O(n)&&(i[s]=t.access(n,"olddisplay",et(n.nodeName)))):(c=O(n),"none"===o&&c||t.set(n,"olddisplay",c?o:e.css(n,"display"))));for(s=0;l>s;s++)n=a[s],n.style&&(r&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=r?i[s]||"":"none"));return a}function a(e,t,n,s,o){return new a.prototype.init(e,t,n,s,o)}function e6(){return setTimeout(function(){y=void 0}),y=e.now()}function M(n,t){var s,o=0,e={height:n};for(t=t?1:0;4>o;o+=2-t)s=f[o],e["margin"+s]=e["padding"+s]=n;return t&&(e.opacity=e.width=n),e}function ef(o,t,i){for(var n,s=(C[t]||[]).concat(C["*"]),e=0,a=s.length;a>e;e++)if(n=s[e].call(i,t,o))return n}function tp(n,u,d){var s,a,r,h,f,p,g,v,l=this,m={},i=n.style,c=n.nodeType&&O(n),o=t.get(n,"fxshow");d.queue||(a=e._queueHooks(n,"fx"),null==a.unqueued&&(a.unqueued=0,v=a.empty.fire,a.empty.fire=function(){a.unqueued||v()}),a.unqueued++,l.always(function(){l.always(function(){a.unqueued--,e.queue(n,"fx").length||a.empty.fire()})})),1===n.nodeType&&("height"in u||"width"in u)&&(d.overflow=[i.overflow,i.overflowX,i.overflowY],r=e.css(n,"display"),g="none"===r?t.get(n,"olddisplay")||et(n.nodeName):r,"inline"===g&&"none"===e.css(n,"float")&&(i.display="inline-block")),d.overflow&&(i.overflow="hidden",l.always(function(){i.overflow=d.overflow[0],i.overflowX=d.overflow[1],i.overflowY=d.overflow[2]}));for(s in u)if(f=u[s],eV.exec(f)){if(delete u[s],p=p||"toggle"===f,f===(c?"hide":"show")){if("show"!==f||!o||void 0===o[s])continue;c=!0}m[s]=o&&o[s]||e.style(n,s)}else r=void 0;if(e.isEmptyObject(m))"inline"===("none"===r?et(n.nodeName):r)&&(i.display=r);else{o?"hidden"in o&&(c=o.hidden):o=t.access(n,"fxshow",{}),p&&(o.hidden=!c),c?e(n).show():l.done(function(){e(n).hide()}),l.done(function(){var s;t.remove(n,"fxshow");for(s in m)e.style(n,s,m[s])});for(s in m)h=ef(c?o[s]:0,s,l),s in o||(o[s]=h.start,c&&(h.end=h.start,h.start="width"===s||"height"===s?1:0))}}function t6(s,r){var t,n,o,i,a;for(t in s)if(o=e.camelCase(t),i=r[o],n=s[t],e.isArray(n)&&(i=n[1],n=s[t]=n[0]),t!==o&&(s[o]=n,delete s[t]),a=e.cssHooks[o],a&&"expand"in a){n=a.expand(n),delete s[o];for(t in n)t in s||(s[t]=n[t],r[t]=i)}else r[o]=i}function em(n,c,o){var i,d,a=0,u=N.length,s=e.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var c=y||e6(),e=Math.max(0,t.startTime+t.duration-c),l=e/t.duration||0,o=1-l,a=0,r=t.tweens.length;r>a;a++)t.tweens[a].run(o);return s.notifyWith(n,[t,o,e]),1>o&&r?e:(s.resolveWith(n,[t]),!1)},t=s.promise({elem:n,props:e.extend({},c),opts:e.extend(!0,{specialEasing:{}},o),originalProperties:c,originalOptions:o,startTime:y||e6(),duration:o.duration,tweens:[],createTween:function(s,i){var o=e.Tween(n,t.opts,s,i,t.opts.specialEasing[s]||t.opts.easing);return t.tweens.push(o),o},stop:function(e){var o=0,a=e?t.tweens.length:0;if(i)return this;for(i=!0;a>o;o++)t.tweens[o].run(1);return e?s.resolveWith(n,[t,e]):s.rejectWith(n,[t,e]),this}}),r=t.props;for(t6(r,t.opts.specialEasing);u>a;a++)if(d=N[a].call(t,n,r,t.opts))return d;return e.map(r,ef,t),e.isFunction(t.opts.start)&&t.opts.start.call(n,t),e.fx.timer(e.extend(l,{elem:n,anim:t,queue:t.opts.queue})),t.progress(t.opts.progress).done(t.opts.done,t.opts.complete).fail(t.opts.fail).always(t.opts.always)}function eh(t){return function(s,o){"string"!=typeof s&&(o=s,s="*");var n,i=0,a=s.toLowerCase().match(l)||[];if(e.isFunction(o))for(;n=a[i++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(o)):(t[n]=t[n]||[]).push(o)}}function e8(o,t,a,r){function n(c){var l;return s[c]=!0,e.each(o[c]||[],function(c,o){var e=o(t,a,r);return"string"!=typeof e||i||s[e]?i?!(l=e):void 0:(t.dataTypes.unshift(e),n(e),!1)}),l}var s={},i=o===Y;return n(t.dataTypes[0])||!s["*"]&&n("*")}function $(s,o){var t,n,i=e.ajaxSettings.flatOptions||{};for(t in o)void 0!==o[t]&&((i[t]?s:n||(n={}))[t]=o[t]);return n&&e.extend(!0,s,n),s}function t2(s,c,r){for(var t,n,o,a,i=s.contents,e=s.dataTypes;"*"===e[0];)e.shift(),void 0===o&&(o=s.mimeType||c.getResponseHeader("Content-Type"));if(o)for(t in i)if(i[t]&&i[t].test(o)){e.unshift(t);break}if(e[0]in r)n=e[0];else{for(t in r){if(!e[0]||s.converters[t+" "+e[0]]){n=t;break}a||(a=t)}n=n||a}return n?(n!==e[0]&&e.unshift(n),r[n]):void 0}function t1(n,s,l,d){var e,t,o,a,r,i={},c=n.dataTypes.slice();if(c[1])for(t in n.converters)i[t.toLowerCase()]=n.converters[t];for(e=c.shift();e;)if(n.responseFields[e]&&(l[n.responseFields[e]]=s),!o&&d&&n.dataFilter&&(s=n.dataFilter(s,n.dataType)),o=e,e=c.shift())if("*"===e)e=o;else if("*"!==o&&o!==e){if(t=i[o+" "+e]||i["* "+e],!t)for(r in i)if(a=r.split(" "),a[1]===e&&(t=i[o+" "+a[0]]||i["* "+a[0]])){t===!0?t=i[r]:i[r]!==!0&&(e=a[0],c.unshift(a[1]));break}if(t!==!0)if(t&&n.throws)s=t(s);else try{s=t(s)}catch(n){return{state:"parsererror",error:t?n:"No conversion from "+o+" to "+e}}}return{state:"success",data:s}}function q(n,t,s,o){var i;if(e.isArray(t))e.each(t,function(t,e){s||t0.test(n)?o(n,e):q(n+"["+("object"==typeof e?t:"")+"]",e,s,o)});else if(s||"object"!==e.type(t))o(n,t);else for(i in t)q(n+"["+i+"]",t[i],s,o)}function e2(t){return e.isWindow(t)?t:9===t.nodeType&&t.defaultView}var l,d,m,j,_,A,F,z,D,R,B,W,G,X,b=[],h=b.slice,e0=b.concat,U=b.push,V=b.indexOf,I={},tu=I.toString,K=I.hasOwnProperty,o={},n=s.document,ec="2.1.1",e=function(t,n){return new e.fn.init(t,n)},td=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tl=/^-ms-/,to=/-([\da-z])/gi,tn=function(t,e){return e.toUpperCase()},el,ed,eu,e1,eq,eE,eO,e9,ee,eR,eD;e.fn=e.prototype={jquery:ec,constructor:e,selector:"",length:0,toArray:function(){return h.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:h.call(this)},pushStack:function(n){var t=e.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(t,n){return e.each(this,t,n)},map:function(t){return this.pushStack(e.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var n=this.length,e=+t+(0>t?n:0);return this.pushStack(e>=0&&n>e?[this[e]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:b.sort,splice:b.splice},e.extend=e.fn.extend=function(){var n,o,i,a,r,c,t=arguments[0]||{},s=1,d=arguments.length,l=!1;for("boolean"==typeof t&&(l=t,t=arguments[s]||{},s++),"object"==typeof t||e.isFunction(t)||(t={}),s===d&&(t=this,s--);d>s;s++)if(null!=(c=arguments[s]))for(i in c)o=t[i],n=c[i],t!==n&&(l&&n&&(e.isPlainObject(n)||(a=e.isArray(n)))?(a?(a=!1,r=o&&e.isArray(o)?o:[]):r=o&&e.isPlainObject(o)?o:{},t[i]=e.extend(l,r,n)):void 0!==n&&(t[i]=n));return t},e.extend({expando:"jQuery"+(ec+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(t){return"function"===e.type(t)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(t){return!e.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return!("object"!==e.type(t)||t.nodeType||e.isWindow(t))&&(!t.constructor||!!K.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?I[tu.call(e)]||"object":typeof e},globalEval:function(t){var s,o=eval;t=e.trim(t),t&&(1===t.indexOf("use strict")?(s=n.createElement("script"),s.text=t,n.head.appendChild(s).parentNode.removeChild(s)):o(t))},camelCase:function(e){return e.replace(tl,"ms-").replace(to,tn)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(t,s,o){var n,e=0,i=t.length,a=J(t);if(o){if(a)for(;i>e&&(n=s.apply(t[e],o),n!==!1);e++);else for(e in t)if(n=s.apply(t[e],o),n===!1)break}else if(a)for(;i>e&&(n=s.call(t[e],e,t[e]),n!==!1);e++);else for(e in t)if(n=s.call(t[e],e,t[e]),n===!1)break;return t},trim:function(e){return null==e?"":(e+"").replace(td,"")},makeArray:function(t,s){var n=s||[];return null!=t&&(J(Object(t))?e.merge(n,"string"==typeof t?[t]:t):U.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:V.call(e,t,n)},merge:function(e,n){for(var o=+n.length,t=0,s=e.length;o>t;t++)e[s++]=n[t];return e.length=s,e},grep:function(t,o,i){for(var n,s=[],e=0,a=t.length,r=!i;a>e;e++)n=!o(t[e],e),n!==r&&s.push(t[e]);return s},map:function(n,i,o){var t,e=0,a=n.length,r=J(n),s=[];if(r)for(;a>e;e++)t=i(n[e],e,o),null!=t&&s.push(t);else for(e in n)t=i(n[e],e,o),null!=t&&s.push(t);return e0.apply([],s)},guid:1,proxy:function(t,n){var s,o,i;return"string"==typeof n&&(o=t[n],n=t,t=o),e.isFunction(t)?(i=h.call(arguments,2),s=function(){return t.apply(n||this,i.concat(h.call(arguments)))},s.guid=t.guid=t.guid||e.guid++,s):void 0},now:Date.now,support:o}),e.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){I["[object "+e+"]"]=e.toLowerCase()}),m=function(L){function n(n,e,t,_){var r,c,d,u,m,g,v,b,j,y;if((e?e.ownerDocument||e:l)!==i&&p(e),e=e||i,t=t||[],!n||"string"!=typeof n)return t;if(1!==(m=e.nodeType)&&9!==m)return[];if(h&&!_){if(v=em.exec(n))if(c=v[1]){if(9===m){{if(r=e.getElementById(c),!r||!r.parentNode)return t;if(r.id===c)return t.push(r),t}}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(c))&&k(e,r)&&r.id===c)return t.push(r),t}else{if(v[2])return f.apply(t,e.getElementsByTagName(n)),t;if((c=v[3])&&s.getElementsByClassName&&e.getElementsByClassName)return f.apply(t,e.getElementsByClassName(c)),t}if(s.qsa&&(!a||!a.test(n))){if(d=b=o,y=e,j=9===m&&n,1===m&&"object"!==e.nodeName.toLowerCase()){for(u=A(n),(b=e.getAttribute("id"))?d=b.replace(ef,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",g=u.length;g--;)u[g]=d+D(u[g]);y=P.test(n)&&Y(e.parentNode)||e,j=u.join(",")}if(j)try{return f.apply(t,y.querySelectorAll(j)),t}catch(e){}finally{b||e.removeAttribute("id")}}}return es(n.replace(z,"$1"),e,t,_)}function R(){function t(s,o){return n.push(s+" ")>e.cacheLength&&delete t[n.shift()],t[s+" "]=o}var n=[];return t}function c(e){return e[o]=!0,e}function r(t){var e=i.createElement("div");try{return!!t(e)}catch(e){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function $(t,s){for(var o=t.split("|"),n=t.length;n--;)e.attrHandle[o[n]]=s}function ei(t,n){var e=n&&t,s=e&&1===t.nodeType&&1===n.nodeType&&(~n.sourceIndex||X)-(~t.sourceIndex||X);if(s)return s;if(e)for(;e=e.nextSibling;)if(e===n)return-1;return t?1:-1}function ec(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function e4(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function y(e){return c(function(t){return t=+t,c(function(n,a){for(var s,o=e([],n.length,t),i=o.length;i--;)n[s=o[i]]&&(n[s]=!(a[s]=n[s]))})})}function Y(e){return e&&typeof e.getElementsByTagName!==O&&e}function et(){}function D(t){for(var e=0,s=t.length,n="";s>e;e++)n+=t[e].value;return n}function H(t,s,a){var e=s.dir,n=a&&"parentNode"===e,i=eh++;return s.first?function(s,o,i){for(;s=s[e];)if(1===s.nodeType||n)return t(s,o,i)}:function(s,u,r){var a,c,l=[d,i];if(r){for(;s=s[e];)if((1===s.nodeType||n)&&t(s,u,r))return!0}else for(;s=s[e];)if(1===s.nodeType||n){if(c=s[o]||(s[o]={}),(a=c[e])&&a[0]===d&&a[1]===i)return l[2]=a[2];if(c[e]=l,l[2]=t(s,u,r))return!0}}}function U(e){return e.length>1?function(n,s,o){for(var t=e.length;t--;)if(!e[t](n,s,o))return!1;return!0}:e[0]}function e6(o,t,s){for(var e=0,i=t.length;i>e;e++)n(o,t[e],s);return s}function N(n,i,s,a,r){for(var t,o=[],e=0,c=n.length,l=null!=i;c>e;e++)(t=n[e])&&(!s||s(t,a,r))&&(o.push(t),l&&i.push(e));return o}function I(n,i,s,t,e,a){return t&&!t[o]&&(t=I(t)),e&&!e[o]&&(e=I(e,a)),c(function(u,d,l,h){var a,r,c,g=[],p=[],v=d.length,b=u||e6(i||"*",l.nodeType?[l]:l,[]),m=!n||!u&&i?b:N(b,g,n,l,h),o=s?e||(u?n:v||t)?[]:d:m;if(s&&s(m,o,l,h),t)for(r=N(o,p),t(r,[],l,h),a=r.length;a--;)(c=r[a])&&(o[p[a]]=!(m[p[a]]=c));if(u){if(e||n){if(e){for(r=[],a=o.length;a--;)(c=o[a])&&r.push(m[a]=c);e(null,o=[],r,h)}for(a=o.length;a--;)(c=o[a])&&(r=e?_.call(u,c):g[a])>-1&&(u[r]=!(d[r]=c))}}else o=N(o===d?o.splice(v,o.length):o),e?e(null,d,o,h):f.apply(d,o)})}function B(t){for(var s,i,l,r=t.length,c=e.relative[t[0].type],d=c||e.relative[" "],n=c?1:0,u=H(function(e){return e===l},d,!0),h=H(function(e){return _.call(l,e)>-1},d,!0),a=[function(n,e,t){return!c&&(t||e!==S)||((l=e).nodeType?u(n,e,t):h(n,e,t))}];r>n;n++)if(i=e.relative[t[n].type])a=[H(U(a),i)];else{if(i=e.filter[t[n].type].apply(null,t[n].matches),i[o]){for(s=++n;r>s&&!e.relative[t[s].type];s++);return I(n>1&&U(a),n>1&&D(t.slice(0,n-1).concat({value:" "===t[n-2].type?"*":""})).replace(z,"$1"),i,s>n&&B(t.slice(n,s)),r>s&&B(t=t.slice(s)),r>s&&D(t))}a.push(i)}return U(a)}function e8(o,t){var s=t.length>0,a=o.length>0,r=function(p,j,y,v,m){var l,u,g,h=0,r="0",b=p&&[],c=[],_=S,w=p||a&&e.find.TAG("*",m),O=d+=null==_?1:Math.random()||.1,x=w.length;for(m&&(S=j!==i&&j);r!==x&&null!=(l=w[r]);r++){if(a&&l){for(g=0;u=o[g++];)if(u(l,j,y)){v.push(l);break}m&&(d=O)}s&&((l=!u&&l)&&h--,p&&b.push(l))}if(h+=r,s&&r!==h){for(g=0;u=t[g++];)u(b,c,j,y);if(p){if(h>0)for(;r--;)b[r]||c[r]||(c[r]=er.call(v));c=N(c)}f.apply(v,c),m&&!p&&c.length>0&&h+t.length>1&&n.uniqueSort(v)}return m&&(d=O,S=_),b};return s?c(r):r}var e,s,i,a,u,h,p,b,j,w,x,k,A,S,F,T,V,en,es,o="sizzle"+-new Date,l=L.document,d=0,eh=0,J=R(),Z=R(),Q=R(),K=function(e,t){return e===t&&(x=!0),0},O="undefined",X=1<<31,e3={}.hasOwnProperty,m=[],er=m.pop,e0=m.push,f=m.push,ee=m.slice,_=m.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},W="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",t="[\\x20\\t\\r\\n\\f]",C="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",G=C.replace("w","w#"),eo="\\["+t+"*("+C+")(?:"+t+"*([*^$|!~]?=)"+t+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+G+"))|)"+t+"*\\]",q=":("+C+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+eo+")*)|.*)\\)|)",z=new RegExp("^"+t+"+|((?:^|[^\\\\])(?:\\\\.)*)"+t+"+$","g"),el=new RegExp("^"+t+"*,"+t+"*"),ed=new RegExp("^"+t+"*([>+~]|"+t+")"+t+"*"),eu=new RegExp("="+t+"*([^\\]'\"]*?)"+t+"*\\]","g"),e1=new RegExp(q),ea=new RegExp("^"+G+"$"),M={ID:new RegExp("^#("+C+")"),CLASS:new RegExp("^\\.("+C+")"),TAG:new RegExp("^("+C.replace("w","w*")+")"),ATTR:new RegExp("^"+eo),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+t+"*(even|odd|(([+-]|)(\\d*)n|)"+t+"*(?:([+-]|)"+t+"*(\\d+)|))"+t+"*\\)|)","i"),bool:new RegExp("^(?:"+W+")$","i"),needsContext:new RegExp("^"+t+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+t+"*((?:-\\d)?\\d*)"+t+"*\\)|)(?=[^-]|$)","i")},e2=/^(?:input|select|textarea|button)$/i,ep=/^h\d$/i,E=/^[^{]+\{\s*\[native \w/,em=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,P=/[+~]/,ef=/'|\\/g,v=new RegExp("\\\\([\\da-f]{1,6}"+t+"?|("+t+")|.)","ig"),g=function(s,t,n){var e="0x"+t-65536;return e!==e||n?t:0>e?String.fromCharCode(e+65536):String.fromCharCode(e>>10|55296,1023&e|56320)};try{f.apply(m=ee.call(l.childNodes),l.childNodes),m[l.childNodes.length].nodeType}catch(e){f={apply:m.length?function(e,t){e0.apply(e,ee.call(t))}:function(e,n){for(var t=e.length,s=0;e[t++]=n[s++];);e.length=t-1}}}s=n.support={},en=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=n.setDocument=function(d){var m,n=d?d.ownerDocument||d:l,c=n.defaultView;return n!==i&&9===n.nodeType&&n.documentElement?(i=n,u=n.documentElement,h=!en(n),c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",function(){p()},!1):c.attachEvent&&c.attachEvent("onunload",function(){p()})),s.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),s.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),s.getElementsByClassName=E.test(n.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),s.getById=r(function(e){return u.appendChild(e).id=o,!n.getElementsByName||!n.getElementsByName(o).length}),s.getById?(e.find.ID=function(n,t){if(typeof t.getElementById!==O&&h){var e=t.getElementById(n);return e&&e.parentNode?[e]:[]}},e.filter.ID=function(e){var t=e.replace(v,g);return function(e){return e.getAttribute("id")===t}}):(delete e.find.ID,e.filter.ID=function(e){var t=e.replace(v,g);return function(e){var n=typeof e.getAttributeNode!==O&&e.getAttributeNode("id");return n&&n.value===t}}),e.find.TAG=s.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==O?e.getElementsByTagName(t):void 0}:function(t,o){var e,n=[],i=0,s=o.getElementsByTagName(t);if("*"===t){for(;e=s[i++];)1===e.nodeType&&n.push(e);return n}return s},e.find.CLASS=s.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==O&&h?e.getElementsByClassName(t):void 0},j=[],a=[],(s.qsa=E.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&a.push("[*^$]="+t+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||a.push("\\["+t+"*(?:value|"+W+")"),e.querySelectorAll(":checked").length||a.push(":checked")}),r(function(e){var s=n.createElement("input");s.setAttribute("type","hidden"),e.appendChild(s).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&a.push("name"+t+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||a.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),a.push(",.*:")})),(s.matchesSelector=E.test(T=u.matches||u.webkitMatchesSelector||u.mozMatchesSelector||u.oMatchesSelector||u.msMatchesSelector))&&r(function(e){s.disconnectedMatch=T.call(e,"div"),T.call(e,"[s!='']:x"),j.push("!=",q)}),a=a.length&&new RegExp(a.join("|")),j=j.length&&new RegExp(j.join("|")),m=E.test(u.compareDocumentPosition),k=m||E.test(u.contains)?function(e,n){var s=9===e.nodeType?e.documentElement:e,t=n&&n.parentNode;return e===t||!(!t||1!==t.nodeType||!(s.contains?s.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K=m?function(e,t){if(e===t)return x=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o||(o=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&o||!s.sortDetached&&t.compareDocumentPosition(e)===o?e===n||e.ownerDocument===l&&k(l,e)?-1:t===n||t.ownerDocument===l&&k(l,t)?1:b?_.call(b,e)-_.call(b,t):0:4&o?-1:1)}:function(s,o){if(s===o)return x=!0,0;var e,t=0,r=s.parentNode,c=o.parentNode,i=[s],a=[o];if(!r||!c)return s===n?-1:o===n?1:r?-1:c?1:b?_.call(b,s)-_.call(b,o):0;if(r===c)return ei(s,o);for(e=s;e=e.parentNode;)i.unshift(e);for(e=o;e=e.parentNode;)a.unshift(e);for(;i[t]===a[t];)t++;return t?ei(i[t],a[t]):i[t]===l?-1:a[t]===l?1:0},n):i},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==i&&p(e),t=t.replace(eu,"='$1']"),s.matchesSelector&&h&&(!j||!j.test(t))&&(!a||!a.test(t)))try{var o=T.call(e,t);if(o||s.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){}return n(t,i,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==i&&p(e),k(e,t)},n.attr=function(t,n){(t.ownerDocument||t)!==i&&p(t);var a=e.attrHandle[n.toLowerCase()],o=a&&e3.call(e.attrHandle,n.toLowerCase())?a(t,n,!h):void 0;return void 0!==o?o:s.attributes||!h?t.getAttribute(n):(o=t.getAttributeNode(n))&&o.specified?o.value:null},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var o,i=[],t=0,n=0;if(x=!s.detectDuplicates,b=!s.sortStable&&e.slice(0),e.sort(K),x){for(;o=e[n++];)o===e[n]&&(t=i.push(n));for(;t--;)e.splice(i[t],1)}return b=null,e},F=n.getText=function(e){var s,n="",o=0,t=e.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=F(e)}else if(3===t||4===t)return e.nodeValue}else for(;s=e[o++];)n+=F(s);return n},e=n.selectors={cacheLength:50,createPseudo:c,match:M,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(v,g),e[3]=(e[3]||e[4]||e[5]||"").replace(v,g),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,t=!e[6]&&e[2];return M.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":t&&e1.test(t)&&(n=A(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(e[0]=e[0].slice(0,n),e[2]=t.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(v,g).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var n=J[e+" "];return n||(n=new RegExp("(^|"+t+")"+e+"("+t+"|$)"))&&J(e,function(e){return n.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==O&&e.getAttribute("class")||"")})},ATTR:function(s,t,e){return function(i){var o=n.attr(i,s);return null==o?"!="===t:!t||(o+="","="===t?o===e:"!="===t?o!==e:"^="===t?e&&0===o.indexOf(e):"*="===t?e&&o.indexOf(e)>-1:"$="===t?e&&o.slice(-e.length)===e:"~="===t?(" "+o+" ").indexOf(e)>-1:"|="===t&&(o===e||o.slice(0,e.length+1)===e+"-"))}},CHILD:function(e,r,c,n,i){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),t="of-type"===r;return 1===n&&0===i?function(e){return!!e.parentNode}:function(h,y,j){var r,c,l,u,f,g,p=a!==s?"nextSibling":"previousSibling",m=h.parentNode,b=t&&h.nodeName.toLowerCase(),v=!j&&!t;if(m){if(a){for(;p;){for(r=h;r=r[p];)if(t?r.nodeName.toLowerCase()===b:1===r.nodeType)return!1;f=p="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&v){for(g=m[o]||(m[o]={}),u=g[e]||[],l=u[0]===d&&u[1],c=u[0]===d&&u[2],r=l&&m.childNodes[l];r=++l&&r&&r[p]||(c=l=0)||f.pop();)if(1===r.nodeType&&++c&&r===h){g[e]=[d,l,c];break}}else if(v&&(u=(h[o]||(h[o]={}))[e])&&u[0]===d)c=u[1];else for(;(r=++l&&r&&r[p]||(c=l=0)||f.pop())&&((t?r.nodeName.toLowerCase()!==b:1!==r.nodeType)||!++c||(v&&((r[o]||(r[o]={}))[e]=[d,c]),r!==h)););return c-=i,c===n||c%n===0&&c/n>=0}}},PSEUDO:function(t,i){var a,s=e.pseudos[t]||e.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return s[o]?s(i):s.length>1?(a=[t,t,"",i],e.setFilters.hasOwnProperty(t.toLowerCase())?c(function(e,a){for(var t,n=s(e,i),o=n.length;o--;)t=_.call(e,n[o]),e[t]=!(a[t]=n[o])}):function(e){return s(e,0,a)}):s}},pseudos:{not:c(function(s){var t=[],n=[],e=V(s.replace(z,"$1"));return e[o]?c(function(n,o,r,i){for(var s,a=e(n,null,i,[]),t=n.length;t--;)(s=a[t])&&(n[t]=!(o[t]=s))}):function(s,i,o){return t[0]=s,e(t,null,o,n),!n.pop()}}),has:c(function(e){return function(t){return n(e,t).length>0}}),contains:c(function(e){return function(t){return(t.textContent||t.innerText||F(t)).indexOf(e)>-1}}),lang:c(function(e){return ea.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(v,g).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType)return!1}}),target:function(t){var e=L.location&&L.location.hash;return e&&e.slice(1)===t.id},root:function(e){return e===u},focus:function(e){return e===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(t){return!e.pseudos.empty(t)},header:function(e){return ep.test(e.nodeName)},input:function(e){return e2.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:y(function(){return[0]}),last:y(function(t,e){return[e-1]}),eq:y(function(n,t,e){return[0>e?e+t:e]}),even:y(function(t,n){for(var e=0;n>e;e+=2)t.push(e);return t}),odd:y(function(t,n){for(var e=1;n>e;e+=2)t.push(e);return t}),lt:y(function(t,s,e){for(var n=0>e?e+s:e;--n>=0;)t.push(n);return t}),gt:y(function(t,n,e){for(var s=0>e?e+n:e;++s<n;)t.push(s);return t})}},e.pseudos.nth=e.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[w]=ec(w);for(w in{submit:!0,reset:!0})e.pseudos[w]=e4(w);return et.prototype=e.filters=e.pseudos,e.setFilters=new et,A=n.tokenize=function(a,d){var t,s,o,i,r,c,l,u=Z[a+" "];if(u)return d?0:u.slice(0);for(t=a,r=[],l=e.preFilter;t;){(!o||(s=el.exec(t)))&&(s&&(t=t.slice(s[0].length)||t),r.push(c=[])),o=!1,(s=ed.exec(t))&&(o=s.shift(),c.push({value:o,type:s[0].replace(z," ")}),t=t.slice(o.length));for(i in e.filter)!(s=M[i].exec(t))||l[i]&&!(s=l[i](s))||(o=s.shift(),c.push({value:o,type:i,matches:s}),t=t.slice(o.length));if(!o)break}return d?t.length:t?n.error(a):Z(a,r).slice(0)},V=n.compile=function(t,n){var s,i=[],a=[],e=Q[t+" "];if(!e){for(n||(n=A(t)),s=n.length;s--;)e=B(n[s]),e[o]?i.push(e):a.push(e);e=Q(t,e8(a,i)),e.selector=t}return e},es=n.select=function(t,n,i,a){var o,r,c,u,m,d="function"==typeof t&&t,l=!a&&A(t=d.selector||t);if(i=i||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&s.getById&&9===n.nodeType&&h&&e.relative[o[1].type]){if(n=(e.find.ID(r.matches[0].replace(v,g),n)||[])[0],!n)return i;d&&(n=n.parentNode),t=t.slice(o.shift().value.length)}for(c=M.needsContext.test(t)?0:o.length;c--&&(r=o[c],!e.relative[u=r.type]);)if((m=e.find[u])&&(a=m(r.matches[0].replace(v,g),P.test(o[0].type)&&Y(n.parentNode)||n))){if(o.splice(c,1),t=a.length&&D(o),!t)return f.apply(i,a),i;break}}return(d||V(t,l))(a,n,!h,i,P.test(t)&&Y(n.parentNode)||n),i},s.sortStable=o.split("").sort(K).join("")===o,s.detectDuplicates=!!x,p(),s.sortDetached=r(function(e){return 1&e.compareDocumentPosition(i.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||$("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),s.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||$("value",function(e,n,t){return t||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||$(W,function(n,e,s){var t;return s?void 0:n[e]===!0?e.toLowerCase():(t=n.getAttributeNode(e))&&t.specified?t.value:null}),n}(s),e.find=m,e.expr=m.selectors,e.expr[":"]=e.expr.pseudos,e.unique=m.uniqueSort,e.text=m.getText,e.isXMLDoc=m.isXML,e.contains=m.contains;var ei=e.expr.match.needsContext,ea=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,tt=/^.[^:#[.,]*$/;e.filter=function(t,n,o){var s=n[0];return o&&(t=":not("+t+")"),1===n.length&&1===s.nodeType?e.find.matchesSelector(s,t)?[s]:[]:e.find.matches(t,e.grep(n,function(e){return 1===e.nodeType}))},e.fn.extend({find:function(s){var t,o=this.length,n=[],i=this;if("string"!=typeof s)return this.pushStack(e(s).filter(function(){for(t=0;o>t;t++)if(e.contains(i[t],this))return!0}));for(t=0;o>t;t++)e.find(s,i[t],n);return n=this.pushStack(o>1?e.unique(n):n),n.selector=this.selector?this.selector+" "+s:s,n},filter:function(e){return this.pushStack(Q(this,e||[],!1))},not:function(e){return this.pushStack(Q(this,e||[],!0))},is:function(t){return!!Q(this,"string"==typeof t&&ei.test(t)?e(t):t||[],!1).length}}),el=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ed=e.fn.init=function(t,s){var o,i;if(!t)return this;if("string"==typeof t){if(o="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:el.exec(t),!o||!o[1]&&s)return!s||s.jquery?(s||A).find(t):this.constructor(s).find(t);if(o[1]){if(s=s instanceof e?s[0]:s,e.merge(this,e.parseHTML(o[1],s&&s.nodeType?s.ownerDocument||s:n,!0)),ea.test(o[1])&&e.isPlainObject(s))for(o in s)e.isFunction(this[o])?this[o](s[o]):this.attr(o,s[o]);return this}return i=n.getElementById(o[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=n,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):e.isFunction(t)?"undefined"!=typeof A.ready?A.ready(t):t(e):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),e.makeArray(t,this))},ed.prototype=e.fn,A=e(n),eu=/^(?:parents|prev(?:Until|All))/,e1={children:!0,contents:!0,next:!0,prev:!0},e.extend({dir:function(t,o,n){for(var s=[],i=void 0!==n;(t=t[o])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&e(t).is(n))break;s.push(t)}return s},sibling:function(e,n){for(var t=[];e;e=e.nextSibling)1===e.nodeType&&e!==n&&t.push(e);return t}}),e.fn.extend({has:function(n){var t=e(n,this),s=t.length;return this.filter(function(){for(var n=0;s>n;n++)if(e.contains(this,t[n]))return!0})},closest:function(n,i){for(var t,o=0,r=this.length,s=[],a=ei.test(n)||"string"!=typeof n?e(n,i||this.context):0;r>o;o++)for(t=this[o];t&&t!==i;t=t.parentNode)if(t.nodeType<11&&(a?a.index(t)>-1:1===t.nodeType&&e.find.matchesSelector(t,n))){s.push(t);break}return this.pushStack(s.length>1?e.unique(s):s)},index:function(t){return t?"string"==typeof t?V.call(e(t),this[0]):V.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,n){return this.pushStack(e.unique(e.merge(this.get(),e(t,n))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),e.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return e.dir(t,"parentNode")},parentsUntil:function(t,s,n){return e.dir(t,"parentNode",n)},next:function(e){return eL(e,"nextSibling")},prev:function(e){return eL(e,"previousSibling")},nextAll:function(t){return e.dir(t,"nextSibling")},prevAll:function(t){return e.dir(t,"previousSibling")},nextUntil:function(t,s,n){return e.dir(t,"nextSibling",n)},prevUntil:function(t,s,n){return e.dir(t,"previousSibling",n)},siblings:function(t){return e.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return e.sibling(t.firstChild)},contents:function(t){return t.contentDocument||e.merge([],t.childNodes)}},function(t,n){e.fn[t]=function(i,o){var s=e.map(this,n,i);return"Until"!==t.slice(-5)&&(o=i),o&&"string"==typeof o&&(s=e.filter(o,s)),this.length>1&&(e1[t]||e.unique(s),eu.test(t)&&s.reverse()),this.pushStack(s)}}),l=/\S+/g,W={},e.Callbacks=function(n){n="string"==typeof n?W[n]||t7(n):e.extend({},n);var o,i,a,r,l,u,t=[],s=!n.once&&[],d=function(e){for(o=n.memory&&e,l=!0,a=u||0,u=0,i=t.length,r=!0;t&&i>a;a++)if(t[a].apply(e[0],e[1])===!1&&n.stopOnFalse){o=!1;break}r=!1,t&&(s?s.length&&d(s.shift()):o?t=[]:c.disable())},c={add:function(){if(t){var s=t.length;!function s(o){e.each(o,function(a,o){var i=e.type(o);"function"===i?n.unique&&c.has(o)||t.push(o):o&&o.length&&"string"!==i&&s(o)})}(arguments),r?i=t.length:o&&(u=s,d(o))}return this},remove:function(){return t&&e.each(arguments,function(o,s){for(var n;(n=e.inArray(s,t,n))>-1;)t.splice(n,1),r&&(i>=n&&i--,a>=n&&a--)}),this},has:function(n){return n?e.inArray(n,t)>-1:!!t&&!!t.length},empty:function(){return t=[],i=0,this},disable:function(){return t=s=o=void 0,this},disabled:function(){return!t},lock:function(){return s=void 0,o||c.disable(),this},locked:function(){return!s},fireWith:function(n,e){return!t||l&&!s||(e=e||[],e=[n,e.slice?e.slice():e],r?s.push(e):d(e)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!l}};return c},e.extend({Deferred:function(o){var s=[["resolve","done",e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var o=arguments;return e.Deferred(function(i){e.each(s,function(a,r){var s=e.isFunction(o[a])&&o[a];t[r[1]](function(){var t=s&&s.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),o=null}).promise()},promise:function(t){return null!=t?e.extend(t,n):n}},t={};return n.pipe=n.then,e.each(s,function(r,e){var o=e[2],a=e[3];n[e[1]]=o.add,a&&o.add(function(){i=a},s[1^r][2].disable,s[2][2].lock),t[e[0]]=function(){return t[e[0]+"With"](this===t?n:this,arguments),this},t[e[0]+"With"]=o.fireWith}),n.promise(t),o&&o.call(t,t),t},when:function(r){var a,c,l,n=0,s=h.call(arguments),t=s.length,i=1!==t||r&&e.isFunction(r.promise)?t:0,o=1===i?r:e.Deferred(),d=function(n,t,e){return function(s){t[n]=this,e[n]=arguments.length>1?h.call(arguments):s,e===c?o.notifyWith(t,e):--i||o.resolveWith(t,e)}};if(t>1)for(c=new Array(t),l=new Array(t),a=new Array(t);t>n;n++)s[n]&&e.isFunction(s[n].promise)?s[n].promise().done(d(n,a,s)).fail(o.reject).progress(d(n,l,c)):--i;return i||o.resolveWith(a,s),o.promise()}}),e.fn.ready=function(t){return e.ready.promise().done(t),this},e.extend({isReady:!1,readyWait:1,holdReady:function(t){t?e.readyWait++:e.ready(!0)},ready:function(t){(t===!0?--e.readyWait:e.isReady)||(e.isReady=!0,t!==!0&&--e.readyWait>0||(B.resolveWith(n,[e]),e.fn.triggerHandler&&(e(n).triggerHandler("ready"),e(n).off("ready"))))}}),e.ready.promise=function(t){return B||(B=e.Deferred(),"complete"===n.readyState?setTimeout(e.ready):(n.addEventListener("DOMContentLoaded",E,!1),s.addEventListener("load",E,!1))),B.promise(t)},e.ready.promise(),d=e.access=function(n,t,o,i,c,l,a){var s=0,d=n.length,r=null==o;if("object"===e.type(o)){c=!0;for(s in o)e.access(n,t,s,o[s],!0,l,a)}else if(void 0!==i&&(c=!0,e.isFunction(i)||(a=!0),r&&(a?(t.call(n,i),t=null):(r=t,t=function(t,s,n){return r.call(e(t),n)})),t))for(;d>s;s++)t(n[s],o,a?i:i.call(n[s],s,t(n[s],o)));return c?n:r?t.call(n):d?t(n[0],o):l},e.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},g.uid=1,g.accepts=e.acceptData,g.prototype={key:function(n){if(!g.accepts(n))return 0;var s={},t=n[this.expando];if(!t){t=g.uid++;try{s[this.expando]={value:t},Object.defineProperties(n,s)}catch(o){s[this.expando]=t,e.extend(n,s)}}return this.cache[t]||(this.cache[t]={}),t},set:function(i,t,a){var s,o=this.key(i),n=this.cache[o];if("string"==typeof t)n[t]=a;else if(e.isEmptyObject(n))e.extend(this.cache[o],t);else for(s in t)n[s]=t[s];return n},get:function(n,e){var t=this.cache[this.key(n)];return void 0===e?t:t[e]},access:function(s,t,n){var o;return void 0===t||t&&"string"==typeof t&&void 0===n?(o=this.get(s,t),void 0!==o?o:this.get(s,e.camelCase(t))):(this.set(s,t,n),void 0!==n?n:t)},remove:function(r,n){var t,o,i,a=this.key(r),s=this.cache[a];if(void 0===n)this.cache[a]={};else for(e.isArray(n)?t=n.concat(n.map(e.camelCase)):(i=e.camelCase(n),n in s?t=[n,i]:(t=i,t=t in s?[t]:t.match(l)||[])),o=t.length;o--;)delete s[t[o]]},hasData:function(t){return!e.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var t=new g,i=new g,t9=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/([A-Z])/g;e.extend({hasData:function(e){return i.hasData(e)||t.hasData(e)},data:function(e,t,n){return i.access(e,t,n)},removeData:function(e,t){i.remove(e,t)},_data:function(e,n,s){return t.access(e,n,s)},_removeData:function(e,n){t.remove(e,n)}}),e.fn.extend({data:function(s,l){var o,a,r,n=this[0],c=n&&n.attributes;if(void 0===s){if(this.length&&(r=i.get(n),1===n.nodeType&&!t.get(n,"hasDataAttrs"))){for(a=c.length;a--;)c[a]&&(o=c[a].name,0===o.indexOf("data-")&&(o=e.camelCase(o.slice(5)),ez(n,o,r[o])));t.set(n,"hasDataAttrs",!0)}return r}return"object"==typeof s?this.each(function(){i.set(this,s)}):d(this,function(a){var t,o=e.camelCase(s);if(n&&void 0===a){{if(t=i.get(n,s),void 0!==t)return t;if(t=i.get(n,o),void 0!==t)return t;if(t=ez(n,o,void 0),void 0!==t)return t}}else this.each(function(){var e=i.get(this,o);i.set(this,o,a),-1!==s.indexOf("-")&&void 0!==e&&i.set(this,s,a)})},null,l,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){i.remove(this,e)})}}),e.extend({queue:function(i,s,o){var n;return i?(s=(s||"fx")+"queue",n=t.get(i,s),o&&(!n||e.isArray(o)?n=t.access(i,s,e.makeArray(o)):n.push(o)),n||[]):void 0},dequeue:function(n,t){t=t||"fx";var s=e.queue(n,t),a=s.length,o=s.shift(),i=e._queueHooks(n,t),r=function(){e.dequeue(n,t)};"inprogress"===o&&(o=s.shift(),a--),o&&("fx"===t&&s.unshift("inprogress"),delete i.stop,o.call(n,r,i)),!a&&i&&i.empty.fire()},_queueHooks:function(n,o){var s=o+"queueHooks";return t.get(n,s)||t.access(n,s,{empty:e.Callbacks("once memory").add(function(){t.remove(n,[o+"queue",s])})})}}),e.fn.extend({queue:function(t,n){var s=2;return"string"!=typeof t&&(n=t,t="fx",s--),arguments.length<s?e.queue(this[0],t):void 0===n?this:this.each(function(){var s=e.queue(this,t,n);e._queueHooks(this,t),"fx"===t&&"inprogress"!==s[0]&&e.dequeue(this,t)})},dequeue:function(t){return this.each(function(){e.dequeue(this,t)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(n,i){var s,a=1,r=e.Deferred(),o=this,c=this.length,l=function(){--a||r.resolveWith(o,[o])};for("string"!=typeof n&&(i=n,n=void 0),n=n||"fx";c--;)s=t.get(o[c],n+"queueHooks"),s&&s.empty&&(a++,s.empty.add(l));return l(),r.promise(i)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,f=["Top","Right","Bottom","Left"],O=function(t,n){return t=n||t,"none"===e.css(t,"display")||!e.contains(t.ownerDocument,t)},e5=/^(?:checkbox|radio)$/i;!function(){var s=n.createDocumentFragment(),e=s.appendChild(n.createElement("div")),t=n.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),o.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}(),j="undefined",o.focusinBubbles="onfocusin"in s;var eJ=/^key/,eZ=/^(?:mouse|pointer|contextmenu)|click/,eb=/^(?:focusinfocus|focusoutblur)$/,ej=/^([^.]*)(?:\.(.+)|)$/;e.event={global:{},add:function(i,m,s,b,r){var n,o,a,c,u,h,f,p,g,v,y,d=t.get(i);if(d)for(s.handler&&(h=s,s=h.handler,r=h.selector),s.guid||(s.guid=e.guid++),(f=d.events)||(f=d.events={}),(u=d.handle)||(u=d.handle=function(t){return typeof e!==j&&e.event.triggered!==t.type?e.event.dispatch.apply(i,arguments):void 0}),m=(m||"").match(l)||[""],g=m.length;g--;)p=ej.exec(m[g])||[],n=y=p[1],v=(p[2]||"").split(".").sort(),n&&(o=e.event.special[n]||{},n=(r?o.delegateType:o.bindType)||n,o=e.event.special[n]||{},c=e.extend({type:n,origType:y,data:b,handler:s,guid:s.guid,selector:r,needsContext:r&&e.expr.match.needsContext.test(r),namespace:v.join(".")},h),(a=f[n])||(a=f[n]=[],a.delegateCount=0,o.setup&&o.setup.call(i,b,v,u)!==!1||i.addEventListener&&i.addEventListener(n,u,!1)),o.add&&(o.add.call(i,c),c.handler.guid||(c.handler.guid=s.guid)),r?a.splice(a.delegateCount++,0,c):a.push(c),e.event.global[n]=!0)},remove:function(a,d,p,c,j){var n,s,o,i,r,u,m,f,g,v,b,h=t.hasData(a)&&t.get(a);if(h&&(u=h.events)){for(d=(d||"").match(l)||[""],m=d.length;m--;)if(o=ej.exec(d[m])||[],n=v=o[1],g=(o[2]||"").split(".").sort(),n){for(i=e.event.special[n]||{},n=(c?i.delegateType:i.bindType)||n,r=u[n]||[],o=o[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),b=f=r.length;f--;)s=r[f],!j&&v!==s.origType||p&&p.guid!==s.guid||o&&!o.test(s.namespace)||c&&c!==s.selector&&("**"!==c||!s.selector)||(r.splice(f,1),s.selector&&r.delegateCount--,i.remove&&i.remove.call(a,s));b&&!r.length&&(i.teardown&&i.teardown.call(a,g,h.handle)!==!1||e.removeEvent(a,n,h.handle),delete u[n])}else for(n in u)e.event.remove(a,n+d[m],p,c,!0);e.isEmptyObject(u)&&(delete h.handle,t.remove(a,"events"))}},trigger:function(o,u,i,p){var r,c,l,d,h,g,v,f=[i||n],a=K.call(o,"type")?o.type:o,m=K.call(o,"namespace")?o.namespace.split("."):[];if(r=c=i=i||n,3!==i.nodeType&&8!==i.nodeType&&!eb.test(a+e.event.triggered)&&(a.indexOf(".")>=0&&(m=a.split("."),a=m.shift(),m.sort()),h=a.indexOf(":")<0&&"on"+a,o=o[e.expando]?o:new e.Event(a,"object"==typeof o&&o),o.isTrigger=p?2:3,o.namespace=m.join("."),o.namespace_re=o.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,o.result=void 0,o.target||(o.target=i),u=null==u?[o]:e.makeArray(u,[o]),l=e.event.special[a]||{},p||!l.trigger||l.trigger.apply(i,u)!==!1)){if(!p&&!l.noBubble&&!e.isWindow(i)){for(v=l.delegateType||a,eb.test(v+a)||(r=r.parentNode);r;r=r.parentNode)f.push(r),c=r;c===(i.ownerDocument||n)&&f.push(c.defaultView||c.parentWindow||s)}for(g=0;(r=f[g++])&&!o.isPropagationStopped();)o.type=g>1?v:l.bindType||a,d=(t.get(r,"events")||{})[o.type]&&t.get(r,"handle"),d&&d.apply(r,u),d=h&&r[h],d&&d.apply&&e.acceptData(r)&&(o.result=d.apply(r,u),o.result===!1&&o.preventDefault());return o.type=a,p||o.isDefaultPrevented()||l._default&&l._default.apply(f.pop(),u)!==!1||!e.acceptData(i)||h&&e.isFunction(i[a])&&!e.isWindow(i)&&(c=i[h],c&&(i[h]=null),e.event.triggered=a,i[a](),e.event.triggered=void 0,c&&(i[h]=c)),o.result}},dispatch:function(n){n=e.event.fix(n);var s,i,a,r,c,l=[],d=h.call(arguments),u=(t.get(this,"events")||{})[n.type]||[],o=e.event.special[n.type]||{};if(d[0]=n,n.delegateTarget=this,!o.preDispatch||o.preDispatch.call(this,n)!==!1){for(l=e.event.handlers.call(this,n,u),r=0;(i=l[r++])&&!n.isPropagationStopped();)for(n.currentTarget=i.elem,c=0;(s=i.handlers[c++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(s.namespace))&&(n.handleObj=s,n.data=s.data,a=((e.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,d),void 0!==a&&(n.result=a)===!1&&(n.preventDefault(),n.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,n),n.result}},handlers:function(o,i){var n,s,a,c,l=[],r=i.delegateCount,t=o.target;if(r&&t.nodeType&&(!o.button||"click"!==o.type))for(;t!==this;t=t.parentNode||this)if(t.disabled!==!0||"click"!==o.type){for(n=[],c=0;r>c;c++)a=i[c],s=a.selector+" ",void 0===n[s]&&(n[s]=a.needsContext?e(s,this).index(t)>=0:e.find(s,this,null,[t]).length),n[s]&&n.push(a);n.length&&l.push({elem:t,handlers:n})}return r<i.length&&l.push({elem:this,handlers:i.slice(r)}),l},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(s,o){var e,t,a,i=o.button;return null==s.pageX&&null!=o.clientX&&(a=s.target.ownerDocument||n,e=a.documentElement,t=a.body,s.pageX=o.clientX+(e&&e.scrollLeft||t&&t.scrollLeft||0)-(e&&e.clientLeft||t&&t.clientLeft||0),s.pageY=o.clientY+(e&&e.scrollTop||t&&t.scrollTop||0)-(e&&e.clientTop||t&&t.clientTop||0)),s.which||void 0===i||(s.which=1&i?1:2&i?3:4&i?2:0),s}},fix:function(t){if(t[e.expando])return t;var i,a,r,o=t.type,c=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=eZ.test(o)?this.mouseHooks:eJ.test(o)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new e.Event(c),i=r.length;i--;)a=r[i],t[a]=c[a];return t.target||(t.target=n),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,c):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==eT()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===eT()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&e.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return e.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(o,n,s,i){var t=e.extend(new e.Event,s,{type:o,isSimulated:!0,originalEvent:{}});i?e.event.trigger(t,null,n):e.event.dispatch.call(n,t),t.isDefaultPrevented()&&s.preventDefault()}},e.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},e.Event=function(t,n){return this instanceof e.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?P:v):this.type=t,n&&e.extend(this,n),this.timeStamp=t&&t.timeStamp||e.now(),void(this[e.expando]=!0)):new e.Event(t,n)},e.Event.prototype={isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=P,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=P,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=P,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){e.event.special[n]={delegateType:t,bindType:t,handle:function(n){var o,i=this,s=n.relatedTarget,a=n.handleObj;return(!s||s!==i&&!e.contains(i,s))&&(n.type=a.origType,o=a.handler.apply(this,arguments),n.type=t),o}}}),o.focusinBubbles||e.each({focus:"focusin",blur:"focusout"},function(s,n){var o=function(t){e.event.simulate(n,t.target,e.event.fix(t),!0)};e.event.special[n]={setup:function(){var e=this.ownerDocument||this,i=t.access(e,n);i||e.addEventListener(s,o,!0),t.access(e,n,(i||0)+1)},teardown:function(){var e=this.ownerDocument||this,i=t.access(e,n)-1;i?t.access(e,n,i):(e.removeEventListener(s,o,!0),t.remove(e,n))}}}),e.fn.extend({on:function(o,n,s,t,r){var i,a;if("object"==typeof o){"string"!=typeof n&&(s=s||n,n=void 0);for(a in o)this.on(a,n,s,o[a],r);return this}if(null==s&&null==t?(t=n,s=n=void 0):null==t&&("string"==typeof n?(t=s,s=void 0):(t=s,s=n,n=void 0)),t===!1)t=v;else if(!t)return this;return 1===r&&(i=t,t=function(t){return e().off(t),i.apply(this,arguments)},t.guid=i.guid||(i.guid=e.guid++)),this.each(function(){e.event.add(this,o,t,s,n)})},one:function(e,t,n,s){return this.on(e,t,n,s,1)},off:function(t,s,o){var n,i;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,e(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(i in t)this.off(i,s,t[i]);return this}return(s===!1||"function"==typeof s)&&(o=s,s=void 0),o===!1&&(o=v),this.each(function(){e.event.remove(this,t,o,s)})},trigger:function(t,n){return this.each(function(){e.event.trigger(t,n,this)})},triggerHandler:function(n,s){var t=this[0];return t?e.event.trigger(n,s,t,!0):void 0}});var ey=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,e_=/<([\w:]+)/,eQ=/<|&#?\w+;/,eX=/<(?:script|style|link)/i,eG=/checked\s*(?:[^=]|=\s*.checked.)/i,eC=/^$|\/(?:java|ecma)script/i,eY=/^true\/(.*)/,eK=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,c={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};c.optgroup=c.option,c.tbody=c.tfoot=c.colgroup=c.caption=c.thead,c.th=c.td,e.extend({clone:function(t,d,l){var n,s,i,c,a=t.cloneNode(!0),u=e.contains(t.ownerDocument,t);if(!(o.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||e.isXMLDoc(t)))for(s=r(a),i=r(t),n=0,c=i.length;c>n;n++)t8(i[n],s[n]);if(d)if(l)for(i=i||r(t),s=s||r(a),n=0,c=i.length;c>n;n++)eA(i[n],s[n]);else eA(t,a);return s=r(a,"script"),s.length>0&&en(s,!u&&r(t,"script")),a},buildFragment:function(u,d,p,f){for(var t,n,i,l,h,m,s=d.createDocumentFragment(),a=[],o=0,g=u.length;g>o;o++)if(t=u[o],t||0===t)if("object"===e.type(t))e.merge(a,t.nodeType?[t]:t);else if(eQ.test(t)){for(n=n||s.appendChild(d.createElement("div")),m=(e_.exec(t)||["",""])[1].toLowerCase(),i=c[m]||c._default,n.innerHTML=i[1]+t.replace(ey,"<$1></$2>")+i[2],l=i[0];l--;)n=n.lastChild;e.merge(a,n.childNodes),n=s.firstChild,n.textContent=""}else a.push(d.createTextNode(t));for(s.textContent="",o=0;t=a[o++];)if((!f||-1===e.inArray(t,f))&&(h=e.contains(t.ownerDocument,t),n=r(s.appendChild(t),"script"),h&&en(n),p))for(l=0;t=n[l++];)eC.test(t.type||"")&&p.push(t);return s},cleanData:function(l){for(var n,s,o,a,c=e.event.special,r=0;void 0!==(n=l[r]);r++){if(e.acceptData(n)&&(s=n[t.expando],s&&(o=t.cache[s]))){if(o.events)for(a in o.events)c[a]?e.event.remove(n,a):e.removeEvent(n,a,o.handle);t.cache[s]&&delete t.cache[s]}delete i.cache[n[i.expando]]}}}),e.fn.extend({text:function(t){return d(this,function(t){return void 0===t?e.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=eS(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=eS(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(n,s){for(var t,i=n?e.filter(n,this):this,o=0;null!=(t=i[o]);o++)s||1!==t.nodeType||e.cleanData(r(t)),t.parentNode&&(s&&e.contains(t.ownerDocument,t)&&en(r(t,"script")),t.parentNode.removeChild(t));return this},empty:function(){for(var t,n=0;null!=(t=this[n]);n++)1===t.nodeType&&(e.cleanData(r(t,!1)),t.textContent="");return this},clone:function(t,n){return t=t??!1,n=n??t,this.map(function(){return e.clone(this,t,n)})},html:function(t){return d(this,function(t){var n=this[0]||{},s=0,o=this.length;if(void 0===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!eX.test(t)&&!c[(e_.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(ey,"<$1></$2>");try{for(;o>s;s++)n=this[s]||{},1===n.nodeType&&(e.cleanData(r(n,!1)),n.innerHTML=t);n=0}catch(e){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(n){t=this.parentNode,e.cleanData(r(this)),t&&t.replaceChild(n,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(a,f){a=e0.apply([],a);var n,i,c,l,h,m,s=0,d=this.length,v=this,g=d-1,u=a[0],p=e.isFunction(u);if(p||d>1&&"string"==typeof u&&!o.checkClone&&eG.test(u))return this.each(function(e){var t=v.eq(e);p&&(a[0]=u.call(this,e,t.html())),t.domManip(a,f)});if(d&&(c=e.buildFragment(a,this[0].ownerDocument,!1,this),h=c.firstChild,1===c.childNodes.length&&(c=h),h)){for(i=e.map(r(c,"script"),t5),l=i.length;d>s;s++)n=c,s!==g&&(n=e.clone(n,!0,!0),l&&e.merge(i,r(n,"script"))),f.call(this[s],n,s);if(l)for(m=i[i.length-1].ownerDocument,e.map(i,tg),s=0;l>s;s++)n=i[s],eC.test(n.type||"")&&!t.access(n,"globalEval")&&e.contains(m,n)&&(n.src?e._evalUrl&&e._evalUrl(n.src):e.globalEval(n.textContent.replace(eK,"")))}return this}}),e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(r){for(var s,o=[],i=e(r),a=i.length-1,t=0;a>=t;t++)s=t===a?this:this.clone(!0),e(i[t])[n](s),U.apply(o,s.get());return this.pushStack(o)}});var k,eM={},eF=/^margin/,Z=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),H=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function c(){t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",t.innerHTML="",a.appendChild(i);var e=s.getComputedStyle(t,null),l="1%"!==e.top,r="4px"===e.width;a.removeChild(i)}var r,l,a=n.documentElement,i=n.createElement("div"),t=n.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===t.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(t),s.getComputedStyle&&e.extend(o,{pixelPosition:function(){return c(),l},boxSizingReliable:function(){return null==r&&c(),r},reliableMarginRight:function(){var o,e=t.appendChild(n.createElement("div"));return e.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",t.style.width="1px",a.appendChild(i),o=!parseFloat(s.getComputedStyle(e,null).marginRight),a.removeChild(i),o}}))}(),e.swap=function(t,n,i,a){var e,s,o={};for(e in n)o[e]=t.style[e],t.style[e]=n[e];s=i.apply(t,a||[]);for(e in n)t.style[e]=o[e];return s};var eU=/^(none|table(?!-c[ea]).+)/,e$=new RegExp("^("+S+")(.*)$","i"),eB=new RegExp("^([+-])=("+S+")","i"),eI={position:"absolute",visibility:"hidden",display:"block"},eP={letterSpacing:"0",fontWeight:"400"},es=["Webkit","O","Moz","ms"];e.extend({cssHooks:{opacity:{get:function(t,n){if(n){var e=w(t,"opacity");return""===e?"1":e}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,s,t,d){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var i,a,c,r=e.camelCase(s),l=n.style;return s=e.cssProps[r]||(e.cssProps[r]=ew(l,r)),i=e.cssHooks[s]||e.cssHooks[r],void 0===t?i&&"get"in i&&void 0!==(a=i.get(n,!1,d))?a:l[s]:(c=typeof t,"string"===c&&(a=eB.exec(t))&&(t=(a[1]+1)*a[2]+parseFloat(e.css(n,s)),c="number"),null!=t&&t===t&&("number"!==c||e.cssNumber[r]||(t+="px"),o.clearCloneStyle||""!==t||0!==s.indexOf("background")||(l[s]="inherit"),i&&"set"in i&&void 0===(t=i.set(n,t,d))||(l[s]=t)),void 0)}},css:function(r,n,o,c){var t,s,a,i=e.camelCase(n);return n=e.cssProps[i]||(e.cssProps[i]=ew(r.style,i)),s=e.cssHooks[n]||e.cssHooks[i],s&&"get"in s&&(t=s.get(r,!0,o)),void 0===t&&(t=w(r,n,c)),"normal"===t&&n in eP&&(t=eP[n]),""===o||o?(a=parseFloat(t),o===!0||e.isNumeric(a)?a||0:t):t}}),e.each(["height","width"],function(n,t){e.cssHooks[t]={get:function(n,o,s){return o?eU.test(e.css(n,"display"))&&0===n.offsetWidth?e.swap(n,eI,function(){return eg(n,t,s)}):eg(n,t,s):void 0},set:function(n,i,s){var o=s&&H(n);return ev(n,i,s?e7(n,t,s,"border-box"===e.css(n,"boxSizing",!1,o),o):0)}}}),e.cssHooks.marginRight=ex(o.reliableMarginRight,function(t,n){return n?e.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),e.each({margin:"",padding:"",border:"Width"},function(t,n){e.cssHooks[t+n]={expand:function(s){for(var e=0,i={},o="string"==typeof s?s.split(" "):[s];4>e;e++)i[t+f[e]+n]=o[e]||o[e-2]||o[0];return i}},eF.test(t)||(e.cssHooks[t+n].set=ev)}),e.fn.extend({css:function(t,n){return d(this,function(n,t,o){var i,a,r={},s=0;if(e.isArray(t)){for(i=H(n),a=t.length;a>s;s++)r[t[s]]=e.css(n,t[s],!1,i);return r}return void 0!==o?e.style(n,t,o):e.css(n,t)},t,n,arguments.length>1)},show:function(){return ep(this,!0)},hide:function(){return ep(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){O(this)?e(this).show():e(this).hide()})}}),e.Tween=a,a.prototype={constructor:a,init:function(n,s,t,o,i,a){this.elem=n,this.prop=t,this.easing=i||"swing",this.options=s,this.start=this.now=this.cur(),this.end=o,this.unit=a||(e.cssNumber[t]?"":"px")},cur:function(){var e=a.propHooks[this.prop];return e&&e.get?e.get(this):a.propHooks._default.get(this)},run:function(t){var n,s=a.propHooks[this.prop];return this.options.duration?this.pos=n=e.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=n=t,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),s&&s.set?s.set(this):a.propHooks._default.set(this),this}},a.prototype.init.prototype=a.prototype,a.propHooks={_default:{get:function(t){var n;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(n=e.css(t.elem,t.prop,""),n&&"auto"!==n?n:0):t.elem[t.prop]},set:function(t){e.fx.step[t.prop]?e.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[e.cssProps[t.prop]]||e.cssHooks[t.prop])?e.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},a.propHooks.scrollTop=a.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},e.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},e.fx=a.prototype.init,e.fx.step={};var y,T,eV=/^(?:toggle|show|hide)$/,eN=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),eW=/queueHooks$/,N=[tp],C={"*":[function(a,c){var s=this.createTween(a,c),r=s.cur(),n=eN.exec(c),i=n&&n[3]||(e.cssNumber[a]?"":"px"),t=(e.cssNumber[a]||"px"!==i&&+r)&&eN.exec(e.css(s.elem,a)),o=1,l=20;if(t&&t[3]!==i){i=i||t[3],n=n||[],t=+r||1;do o=o||".5",t/=o,e.style(s.elem,a,t+i);while(o!==(o=s.cur()/r)&&1!==o&&--l)}return n&&(t=s.start=+t||+r||0,s.unit=i,s.end=n[1]?t+(n[1]+1)*n[2]:+n[2]),s}]};e.Animation=e.extend(em,{tweener:function(t,o){e.isFunction(t)?(o=t,t=["*"]):t=t.split(" ");for(var n,s=0,i=t.length;i>s;s++)n=t[s],C[n]=C[n]||[],C[n].unshift(o)},prefilter:function(e,t){t?N.unshift(e):N.push(e)}}),e.speed=function(n,s,o){var t=n&&"object"==typeof n?e.extend({},n):{complete:o||!o&&s||e.isFunction(n)&&n,duration:n,easing:o&&s||s&&!e.isFunction(s)&&s};return t.duration=e.fx.off?0:"number"==typeof t.duration?t.duration:t.duration in e.fx.speeds?e.fx.speeds[t.duration]:e.fx.speeds._default,(null==t.queue||t.queue===!0)&&(t.queue="fx"),t.old=t.complete,t.complete=function(){e.isFunction(t.old)&&t.old.call(this),t.queue&&e.dequeue(this,t.queue)},t},e.fn.extend({fadeTo:function(e,t,n,s){return this.filter(O).css("opacity",0).show().end().animate({opacity:t},e,n,s)},animate:function(i,a,r,c){var o=e.isEmptyObject(i),s=e.speed(a,r,c),n=function(){var n=em(this,e.extend({},i),s);(o||t.get(this,"finish"))&&n.stop(!0)};return n.finish=n,o||s.queue===!1?this.each(n):this.queue(s.queue,n)},stop:function(n,o,s){var i=function(e){var t=e.stop;delete e.stop,t(s)};return"string"!=typeof n&&(s=o,o=n,n=void 0),o&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var c=!0,o=null!=n&&n+"queueHooks",r=e.timers,a=t.get(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&eW.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=n&&r[o].queue!==n||(r[o].anim.stop(s),c=!1,r.splice(o,1));(c||!s)&&e.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var s,a=t.get(this),o=a[n+"queue"],r=a[n+"queueHooks"],i=e.timers,c=o?o.length:0;for(a.finish=!0,e.queue(this,n,[]),r&&r.stop&&r.stop.call(this,!0),s=i.length;s--;)i[s].elem===this&&i[s].queue===n&&(i[s].anim.stop(!0),i.splice(s,1));for(s=0;c>s;s++)o[s]&&o[s].finish&&o[s].finish.call(this);delete a.finish})}}),e.each(["toggle","show","hide"],function(s,t){var n=e.fn[t];e.fn[t]=function(e,s,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(M(t,!0),e,s,o)}}),e.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){e.fn[t]=function(e,t,s){return this.animate(n,e,t,s)}}),e.timers=[],e.fx.tick=function(){var s,t=0,n=e.timers;for(y=e.now();t<n.length;t++)s=n[t],s()||n[t]!==s||n.splice(t--,1);n.length||e.fx.stop(),y=void 0},e.fx.timer=function(t){e.timers.push(t),t()?e.fx.start():e.timers.pop()},e.fx.interval=13,e.fx.start=function(){T||(T=setInterval(e.fx.tick,e.fx.interval))},e.fx.stop=function(){clearInterval(T),T=null},e.fx.speeds={slow:600,fast:200,_default:400},e.fn.delay=function(t,n){return t=e.fx?e.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(e,n){var s=setTimeout(e,t);n.stop=function(){clearTimeout(s)}})},function(){var e=n.createElement("input"),t=n.createElement("select"),s=t.appendChild(n.createElement("option"));e.type="checkbox",o.checkOn=""!==e.value,o.optSelected=s.selected,t.disabled=!0,o.optDisabled=!s.disabled,e=n.createElement("input"),e.value="t",e.type="radio",o.radioValue="t"===e.value}(),_=e.expr.attrHandle,e.fn.extend({attr:function(t,n){return d(this,e.attr,t,n,arguments.length>1)},removeAttr:function(t){return this.each(function(){e.removeAttr(this,t)})}}),e.extend({attr:function(t,n,i){var s,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===j?e.prop(t,n,i):(1===a&&e.isXMLDoc(t)||(n=n.toLowerCase(),s=e.attrHooks[n]||(e.expr.match.bool.test(n)?eE:eq)),void 0===i?s&&"get"in s&&null!==(o=s.get(t,n))?o:(o=e.find.attr(t,n),o??void 0):null!==i?s&&"set"in s&&void 0!==(o=s.set(t,i,n))?o:(t.setAttribute(n,i+""),i):void e.removeAttr(t,n))},removeAttr:function(n,s){var t,o,a=0,i=s&&s.match(l);if(i&&1===n.nodeType)for(;t=i[a++];)o=e.propFix[t]||t,e.expr.match.bool.test(t)&&(n[o]=!1),n.removeAttribute(t)},attrHooks:{type:{set:function(t,n){if(!o.radioValue&&"radio"===n&&e.nodeName(t,"input")){var s=t.value;return t.setAttribute("type",n),s&&(t.value=s),n}}}}}),eE={set:function(n,s,t){return s===!1?e.removeAttr(n,t):n.setAttribute(t,t),t}},e.each(e.expr.match.bool.source.match(/\w+/g),function(s,t){var n=_[t]||e.find.attr;_[t]=function(i,e,s){var t,o;return s||(o=_[e],_[e]=t,t=null!=n(i,e,s)?e.toLowerCase():null,_[e]=o),t}}),eO=/^(?:input|select|textarea|button)$/i,e.fn.extend({prop:function(t,n){return d(this,e.prop,t,n,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[e.propFix[t]||t]})}}),e.extend({propFix:{for:"htmlFor",class:"className"},prop:function(n,t,a){var s,o,r,i=n.nodeType;if(n&&3!==i&&8!==i&&2!==i)return r=1!==i||!e.isXMLDoc(n),r&&(t=e.propFix[t]||t,s=e.propHooks[t]),void 0!==a?s&&"set"in s&&void 0!==(o=s.set(n,a,t))?o:n[t]=a:s&&"get"in s&&null!==(o=s.get(n,t))?o:n[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||eO.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),o.optSelected||(e.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),e.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){e.propFix[this.toLowerCase()]=this}),D=/[\t\r\n\f]/g,e.fn.extend({addClass:function(n){var t,s,o,i,r,c,d="string"==typeof n&&n,a=0,u=this.length;if(e.isFunction(n))return this.each(function(t){e(this).addClass(n.call(this,t,this.className))});if(d)for(r=(n||"").match(l)||[];u>a;a++)if(t=this[a],s=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(D," "):" ")){for(c=0;o=r[c++];)s.indexOf(" "+o+" ")<0&&(s+=o+" ");i=e.trim(s),t.className!==i&&(t.className=i)}return this},removeClass:function(t){var n,s,o,i,r,c,d=0===arguments.length||"string"==typeof t&&t,a=0,u=this.length;if(e.isFunction(t))return this.each(function(n){e(this).removeClass(t.call(this,n,this.className))});if(d)for(r=(t||"").match(l)||[];u>a;a++)if(n=this[a],s=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(D," "):"")){for(c=0;o=r[c++];)for(;s.indexOf(" "+o+" ")>=0;)s=s.replace(" "+o+" "," ");i=t?e.trim(s):"",n.className!==i&&(n.className=i)}return this},toggleClass:function(n,s){var o=typeof n;return"boolean"==typeof s&&"string"===o?s?this.addClass(n):this.removeClass(n):e.isFunction(n)?this.each(function(t){e(this).toggleClass(n.call(this,t,this.className,s),s)}):this.each(function(){if("string"===o)for(var s,a=0,i=e(this),r=n.match(l)||[];s=r[a++];)i.hasClass(s)?i.removeClass(s):i.addClass(s);else(o===j||"boolean"===o)&&(this.className&&t.set(this,"__className__",this.className),this.className=this.className||n===!1?"":t.get(this,"__className__")||"")})},hasClass:function(t){for(var n=" "+t+" ",e=0,s=this.length;s>e;e++)if(1===this[e].nodeType&&(" "+this[e].className+" ").replace(D," ").indexOf(n)>=0)return!0;return!1}}),e9=/\r/g,e.fn.extend({val:function(o){var t,n,i,s=this[0];{if(arguments.length)return i=e.isFunction(o),this.each(function(s){var n;1===this.nodeType&&(n=i?o.call(this,s,e(this).val()):o,null==n?n="":"number"==typeof n?n+="":e.isArray(n)&&(n=e.map(n,function(e){return null==e?"":e+""})),t=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))});if(s)return t=e.valHooks[s.type]||e.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(s,"value"))?n:(n=s.value,"string"==typeof n?n.replace(e9,""):n??"")}}}),e.extend({valHooks:{option:{get:function(t){var n=e.find.attr(t,"value");return n??e.trim(e.text(t))}},select:{get:function(a){for(var t,r,c=a.options,n=a.selectedIndex,s="select-one"===a.type||0>n,l=s?null:[],d=s?n+1:c.length,i=0>n?d:s?n:0;d>i;i++)if(t=c[i],(t.selected||i===n)&&(o.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!e.nodeName(t.parentNode,"optgroup"))){if(r=e(t).val(),s)return r;l.push(r)}return l},set:function(n,r){for(var t,s,o=n.options,i=e.makeArray(r),a=o.length;a--;)t=o[a],(t.selected=e.inArray(t.value,i)>=0)&&(s=!0);return s||(n.selectedIndex=-1),i}}}}),e.each(["radio","checkbox"],function(){e.valHooks[this]={set:function(t,n){return e.isArray(n)?t.checked=e.inArray(e(t).val(),n)>=0:void 0}},o.checkOn||(e.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),e.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){e.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),e.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,s){return this.on(t,e,n,s)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),z=e.now(),F=/\?/,e.parseJSON=function(e){return JSON.parse(e+"")},e.parseXML=function(n){var t,s;if(!n||"string"!=typeof n)return null;try{s=new DOMParser,t=s.parseFromString(n,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+n),t};var u,p,ts=/#.*$/,eo=/([?&])_=[^&]*/,ti=/^(.*?):[ \t]*([^\r\n]*)$/gm,ta=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,tr=/^(?:GET|HEAD)$/,tc=/^\/\//,eH=/^([\w.+-]+:)(?:\/\/(?:[^/?#]*@|)([^/?#:]*)(?::(\d+)|)|)/,er={},Y={},e4="*/".concat("*");try{u=location.href}catch(e){u=n.createElement("a"),u.href="",u=u.href}p=eH.exec(u.toLowerCase())||[],e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:u,type:"GET",isLocal:ta.test(p[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":e4,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,n){return n?$($(t,e.ajaxSettings),n):$(e.ajaxSettings,t)},ajaxPrefilter:eh(er),ajaxTransport:eh(Y),ajax:function(v,i){function g(i,g,v,w){var c,l,u,m,p,r=g;2!==o&&(o=2,y&&clearTimeout(y),d=void 0,_=w||"",n.readyState=i>0?4:0,c=i>=200&&300>i||304===i,v&&(l=t2(t,n,v)),l=t1(t,l,n,c),c?(t.ifModified&&(u=n.getResponseHeader("Last-Modified"),u&&(e.lastModified[s]=u),u=n.getResponseHeader("etag"),u&&(e.etag[s]=u)),204===i||"HEAD"===t.type?r="nocontent":304===i?r="notmodified":(r=l.state,p=l.data,m=l.error,c=!m)):(m=r,(i||!r)&&(r="error",0>i&&(i=0))),n.status=i,n.statusText=(g||r)+"",c?j.resolveWith(a,[p,r,n]):j.rejectWith(a,[n,r,m]),n.statusCode(f),f=void 0,h&&b.trigger(c?"ajaxSuccess":"ajaxError",[n,t,c?p:m]),C.fireWith(a,[n,r]),h&&(b.trigger("ajaxComplete",[n,t]),--e.active||e.event.trigger("ajaxStop")))}"object"==typeof v&&(i=v,v=void 0),i=i||{};var s,r,c,d,h,m,y,_,t=e.ajaxSetup({},i),a=t.context||t,b=t.context&&(a.nodeType||a.jquery)?e(a):e.event,j=e.Deferred(),C=e.Callbacks("once memory"),f=t.statusCode||{},w={},O={},o=0,x="canceled",n={readyState:0,getResponseHeader:function(t){var e;if(2===o){if(!m)for(m={};e=ti.exec(_);)m[e[1].toLowerCase()]=e[2];e=m[t.toLowerCase()]}return e??null},getAllResponseHeaders:function(){return 2===o?_:null},setRequestHeader:function(e,n){var t=e.toLowerCase();return o||(e=O[t]=O[t]||e,w[e]=n),this},overrideMimeType:function(e){return o||(t.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>o)for(t in e)f[t]=[f[t],e[t]];else n.always(e[n.status]);return this},abort:function(t){var e=t||x;return d&&d.abort(e),g(0,e),this}};if(j.promise(n).complete=C.add,n.success=n.done,n.error=n.fail,t.url=((v||t.url||u)+"").replace(ts,"").replace(tc,p[1]+"//"),t.type=i.method||i.type||t.method||t.type,t.dataTypes=e.trim(t.dataType||"*").toLowerCase().match(l)||[""],null==t.crossDomain&&(r=eH.exec(t.url.toLowerCase()),t.crossDomain=!(!r||r[1]===p[1]&&r[2]===p[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(p[3]||("http:"===p[1]?"80":"443")))),t.data&&t.processData&&"string"!=typeof t.data&&(t.data=e.param(t.data,t.traditional)),e8(er,t,i,n),2===o)return n;h=t.global,h&&0===e.active++&&e.event.trigger("ajaxStart"),t.type=t.type.toUpperCase(),t.hasContent=!tr.test(t.type),s=t.url,t.hasContent||(t.data&&(s=t.url+=(F.test(s)?"&":"?")+t.data,delete t.data),t.cache===!1&&(t.url=eo.test(s)?s.replace(eo,"$1_="+z++):s+(F.test(s)?"&":"?")+"_="+z++)),t.ifModified&&(e.lastModified[s]&&n.setRequestHeader("If-Modified-Since",e.lastModified[s]),e.etag[s]&&n.setRequestHeader("If-None-Match",e.etag[s])),(t.data&&t.hasContent&&t.contentType!==!1||i.contentType)&&n.setRequestHeader("Content-Type",t.contentType),n.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", "+e4+"; q=0.01":""):t.accepts["*"]);for(c in t.headers)n.setRequestHeader(c,t.headers[c]);if(t.beforeSend&&(t.beforeSend.call(a,n,t)===!1||2===o))return n.abort();x="abort";for(c in{success:1,error:1,complete:1})n[c](t[c]);if(d=e8(Y,t,i,n)){n.readyState=1,h&&b.trigger("ajaxSend",[n,t]),t.async&&t.timeout>0&&(y=setTimeout(function(){n.abort("timeout")},t.timeout));try{o=1,d.send(w,g)}catch(e){if(!(2>o))throw e;g(-1,e)}}else g(-1,"No Transport");return n},getJSON:function(t,n,s){return e.get(t,n,s,"json")},getScript:function(t,n){return e.get(t,void 0,n,"script")}}),e.each(["get","post"],function(n,t){e[t]=function(i,n,s,o){return e.isFunction(n)&&(o=o||s,s=n,n=void 0),e.ajax({url:i,type:t,dataType:o,data:n,success:s})}}),e.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){e.fn[t]=function(e){return this.on(t,e)}}),e._evalUrl=function(t){return e.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},e.fn.extend({wrapAll:function(t){var n;return e.isFunction(t)?this.each(function(n){e(this).wrapAll(t.call(this,n))}):(this[0]&&(n=e(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(t){return e.isFunction(t)?this.each(function(n){e(this).wrapInner(t.call(this,n))}):this.each(function(){var n=e(this),s=n.contents();s.length?s.wrapAll(t):n.append(t)})},wrap:function(t){var n=e.isFunction(t);return this.each(function(s){e(this).wrapAll(n?t.call(this,s):t)})},unwrap:function(){return this.parent().each(function(){e.nodeName(this,"body")||e(this).replaceWith(this.childNodes)}).end()}}),e.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},e.expr.filters.visible=function(t){return!e.expr.filters.hidden(t)};var t4=/%20/g,t0=/\[\]$/,e3=/\r?\n/g,t3=/^(?:submit|button|image|reset|file)$/i,th=/^(?:input|select|textarea|keygen)/i;e.param=function(t,n){var s,o=[],i=function(n,t){t=e.isFunction(t)?t():t??"",o[o.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(void 0===n&&(n=e.ajaxSettings&&e.ajaxSettings.traditional),e.isArray(t)||t.jquery&&!e.isPlainObject(t))e.each(t,function(){i(this.name,this.value)});else for(s in t)q(s,t[s],n,i);return o.join("&").replace(t4,"+")},e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=e.prop(this,"elements");return t?e.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!e(this).is(":disabled")&&th.test(this.nodeName)&&!t3.test(t)&&(this.checked||!e5.test(t))}).map(function(s,n){var t=e(this).val();return null==t?null:e.isArray(t)?e.map(t,function(e){return{name:n.name,value:e.replace(e3,"\r\n")}}):{name:n.name,value:t.replace(e3,"\r\n")}}).get()}}),e.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var tm=0,L={},tf={0:200,1223:204},x=e.ajaxSettings.xhr();return s.ActiveXObject&&e(s).on("unload",function(){for(var e in L)L[e]()}),o.cors=!!x&&"withCredentials"in x,o.ajax=x=!!x,e.ajaxTransport(function(e){var t;return o.cors||x&&!e.crossDomain?{send:function(o,i){var s,n=e.xhr(),a=++tm;if(n.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)n[s]=e.xhrFields[s];e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(s in o)n.setRequestHeader(s,o[s]);t=function(e){return function(){t&&(delete L[a],t=n.onload=n.onerror=null,"abort"===e?n.abort():"error"===e?i(n.status,n.statusText):i(tf[n.status]||n.status,n.statusText,"string"==typeof n.responseText?{text:n.responseText}:void 0,n.getAllResponseHeaders()))}},n.onload=t(),n.onerror=t("error"),t=L[a]=t("abort");try{n.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0}),e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),e.ajaxTransport("script",function(s){if(s.crossDomain){var t,o;return{send:function(a,i){o=e("<script>").prop({async:!0,charset:s.scriptCharset,src:s.url}).on("load error",t=function(e){o.remove(),t=null,e&&i("error"===e.type?404:200,e.type)}),n.head.appendChild(o[0])},abort:function(){t&&t()}}}}),X=[],R=/(=)\?(?=&|$)|\?\?/,e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=X.pop()||e.expando+"_"+z++;return this[t]=!0,t}}),e.ajaxPrefilter("json jsonp",function(t,r,c){var n,o,i,a=t.jsonp!==!1&&(R.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&R.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(n=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(R,"$1"+n):t.jsonp!==!1&&(t.url+=(F.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||e.error(n+" was not called"),o[0]},t.dataTypes[0]="json",i=s[n],s[n]=function(){o=arguments},c.always(function(){s[n]=i,t[n]&&(t.jsonpCallback=r.jsonpCallback,X.push(n)),o&&e.isFunction(i)&&i(o[0]),o=i=void 0}),"script"):void 0}),e.parseHTML=function(s,t,a){if(!s||"string"!=typeof s)return null;"boolean"==typeof t&&(a=t,t=!1),t=t||n;var o=ea.exec(s),i=!a&&[];return o?[t.createElement(o[1])]:(o=e.buildFragment([s],t,i),i&&i.length&&e(i).remove(),e.merge([],o.childNodes))},ee=e.fn.load,e.fn.load=function(t,n,s){if("string"!=typeof t&&ee)return ee.apply(this,arguments);var o,r,c,i=this,a=t.indexOf(" ");return a>=0&&(o=e.trim(t.slice(a)),t=t.slice(0,a)),e.isFunction(n)?(s=n,n=void 0):n&&"object"==typeof n&&(r="POST"),i.length>0&&e.ajax({url:t,type:r,dataType:"html",data:n}).done(function(t){c=arguments,i.html(o?e("<div>").append(e.parseHTML(t)).find(o):t)}).complete(s&&function(e,t){i.each(s,c||[e.responseText,t,e])}),this},e.expr.filters.animated=function(t){return e.grep(e.timers,function(e){return t===e.elem}).length},G=s.document.documentElement,e.offset={setOffset:function(n,t,m){var s,i,a,r,c,u,h,l=e.css(n,"position"),d=e(n),o={};"static"===l&&(n.style.position="relative"),s=d.offset(),a=e.css(n,"top"),c=e.css(n,"left"),h=("absolute"===l||"fixed"===l)&&(a+c).indexOf("auto")>-1,h?(r=d.position(),u=r.top,i=r.left):(u=parseFloat(a)||0,i=parseFloat(c)||0),e.isFunction(t)&&(t=t.call(n,m,s)),null!=t.top&&(o.top=t.top-s.top+u),null!=t.left&&(o.left=t.left-s.left+i),"using"in t?t.using.call(n,o):d.css(o)}},e.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(t){e.offset.setOffset(this,a,t)});var n,o,t=this[0],s={top:0,left:0},i=t&&t.ownerDocument;if(i)return n=i.documentElement,e.contains(n,t)?(typeof t.getBoundingClientRect!==j&&(s=t.getBoundingClientRect()),o=e2(i),{top:s.top+o.pageYOffset-n.clientTop,left:s.left+o.pageXOffset-n.clientLeft}):s},position:function(){if(this[0]){var t,s,o=this[0],n={top:0,left:0};return"fixed"===e.css(o,"position")?s=o.getBoundingClientRect():(t=this.offsetParent(),s=this.offset(),e.nodeName(t[0],"html")||(n=t.offset()),n.top+=e.css(t[0],"borderTopWidth",!0),n.left+=e.css(t[0],"borderLeftWidth",!0)),{top:s.top-n.top-e.css(o,"marginTop",!0),left:s.left-n.left-e.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||G;t&&!e.nodeName(t,"html")&&"static"===e.css(t,"position");)t=t.offsetParent;return t||G})}}),e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var o="pageYOffset"===n;e.fn[t]=function(e){return d(this,function(i,a,e){var t=e2(i);return void 0===e?t?t[n]:i[a]:void(t?t.scrollTo(o?s.pageXOffset:e,o?e:s.pageYOffset):i[a]=e)},t,e,arguments.length,null)}}),e.each(["top","left"],function(n,t){e.cssHooks[t]=ex(o.pixelPosition,function(s,n){return n?(n=w(s,t),Z.test(n)?e(s).position()[t]+"px":n):void 0})}),e.each({Height:"height",Width:"width"},function(t,n){e.each({padding:"inner"+t,content:n,"":"outer"+t},function(s,o){e.fn[o]=function(o,r){var i=arguments.length&&(s||"boolean"!=typeof o),a=s||(o===!0||r===!0?"margin":"border");return d(this,function(n,o,i){var s;return e.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+t],s["scroll"+t],n.body["offset"+t],s["offset"+t],s["client"+t])):void 0===i?e.css(n,o,a):e.style(n,o,i,a)},n,i?o:void 0,i,null)}})}),e.fn.size=function(){return this.length},e.fn.andSelf=e.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return e}),eR=s.jQuery,eD=s.$,e.noConflict=function(t){return s.$===e&&(s.$=eD),t&&s.jQuery===e&&(s.jQuery=eR),e},typeof tv===j&&(s.jQuery=s.$=e),e}),function(){function F(t){function s(s,a,n,o,e,r){for(;e>=0&&r>e;e+=t){var i=o?o[e]:e;n=a(n,s[i],i,s)}return n}return function(o,c,l,u){c=a(c,u,4);var i=!n(o)&&e.keys(o),d=(i||o).length,r=t>0?0:d-1;return arguments.length<3&&(l=o[i?i[r]:r],r+=t),s(o,c,l,i,r,d)}}function x(e){return function(s,i,r){i=t(i,r);for(var a=o(s),n=e>0?0:a-1;n>=0&&a>n;n+=e)if(i(s[n],n,s))return n;return-1}}function C(t,i,n){return function(c,l,a){var d=0,r=o(c);if("number"==typeof a)t>0?d=a>=0?a:Math.max(a+r,d):r=a>=0?Math.min(a+1,r):a+r+1;else if(n&&a&&r)return a=n(c,l),c[a]===l?a:-1;if(l!==l)return a=i(s.call(c,d,r),e.isNaN),a>=0?a+d:-1;for(a=t>0?d:r-1;a>=0&&r>a;a+=t)if(c[a]===l)return a;return-1}}function S(n,s){var o=y.length,i=n.constructor,a=e.isFunction(i)&&i.prototype||g,t="constructor";for(e.has(n,t)&&!e.contains(s,t)&&s.push(t);o--;)t=y[o],t in n&&n[t]!==a[t]&&!e.contains(s,t)&&s.push(t)}var t,i,a,c,l,d,m,j,y,_,h=this,D=h._,u=Array.prototype,g=Object.prototype,T=Function.prototype,z=u.push,s=u.slice,r=g.toString,B=g.hasOwnProperty,L=Array.isArray,M=Object.keys,p=T.bind,E=Object.create,v=function(){},e=function(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports._=e):h._=e,e.VERSION="1.8.3",a=function(e,t,n){if(void 0===t)return e;switch(n??3){case 1:return function(n){return e.call(t,n)};case 2:return function(n,s){return e.call(t,n,s)};case 3:return function(n,s,o){return e.call(t,n,s,o)};case 4:return function(n,s,o,i){return e.call(t,n,s,o,i)}}return function(){return e.apply(t,arguments)}},t=function(t,n,s){return null==t?e.identity:e.isFunction(t)?a(t,n,s):e.isObject(t)?e.matcher(t):e.property(t)},e.iteratee=function(e,n){return t(e,n,1/0)};var f=function(e,t){return function(n){if(a=arguments.length,2>a||null==n)return n;for(o=1;a>o;o++)for(var s,o,a,r=arguments[o],c=e(r),l=c.length,i=0;l>i;i++)s=c[i],t&&void 0!==n[s]||(n[s]=r[s]);return n}},w=function(t){if(!e.isObject(t))return{};if(E)return E(t);v.prototype=t;var n=new v;return v.prototype=null,n},O=function(e){return function(t){return null==t?void 0:t[e]}},R=Math.pow(2,53)-1,o=O("length"),n=function(t){var e=o(t);return"number"==typeof e&&e>=0&&R>=e};e.each=e.forEach=function(s,o,c){if(o=a(o,c),n(s))for(t=0,i=s.length;i>t;t++)o(s[t],t,s);else{var t,i,r=e.keys(s);for(t=0,i=r.length;i>t;t++)o(s[r[t]],r[t],s)}return s},e.map=e.collect=function(s,i,d){i=t(i,d);for(var r,a=!n(s)&&e.keys(s),c=(a||s).length,l=Array(c),o=0;c>o;o++)r=a?a[o]:o,l[o]=i(s[r],r,s);return l},e.reduce=e.foldl=e.inject=F(1),e.reduceRight=e.foldr=F(-1),e.find=e.detect=function(t,o,i){var s;return s=n(t)?e.findIndex(t,o,i):e.findKey(t,o,i),void 0!==s&&-1!==s?t[s]:void 0},e.filter=e.select=function(o,n,i){var s=[];return n=t(n,i),e.each(o,function(e,t,o){n(e,t,o)&&s.push(e)}),s},e.reject=function(n,s,o){return e.filter(n,e.negate(t(s)),o)},e.every=e.all=function(s,i,c){i=t(i,c);for(var r,a=!n(s)&&e.keys(s),l=(a||s).length,o=0;l>o;o++)if(r=a?a[o]:o,!i(s[r],r,s))return!1;return!0},e.some=e.any=function(s,i,c){i=t(i,c);for(var r,a=!n(s)&&e.keys(s),l=(a||s).length,o=0;l>o;o++)if(r=a?a[o]:o,i(s[r],r,s))return!0;return!1},e.contains=e.includes=e.include=function(t,o,s,i){return n(t)||(t=e.values(t)),("number"!=typeof s||i)&&(s=0),e.indexOf(t,o,s)>=0},e.invoke=function(n,t){var o=s.call(arguments,2),i=e.isFunction(t);return e.map(n,function(n){var e=i?t:n[t];return null==e?e:e.apply(n,o)})},e.pluck=function(t,n){return e.map(t,e.property(n))},e.where=function(t,n){return e.filter(t,e.matcher(n))},e.findWhere=function(t,n){return e.find(t,e.matcher(n))},e.max=function(s,i,u){var a,r,c,l,o=-(1/0),d=-(1/0);if(null==i&&null!=s){s=n(s)?s:e.values(s);for(r=0,l=s.length;l>r;r++)c=s[r],c>o&&(o=c)}else i=t(i,u),e.each(s,function(e,t,n){a=i(e,t,n),(a>d||a===-(1/0)&&o===-(1/0))&&(o=e,d=a)});return o},e.min=function(s,i,u){var a,r,c,l,o=1/0,d=1/0;if(null==i&&null!=s){s=n(s)?s:e.values(s);for(r=0,l=s.length;l>r;r++)c=s[r],o>c&&(o=c)}else i=t(i,u),e.each(s,function(e,t,n){a=i(e,t,n),(d>a||a===1/0&&o===1/0)&&(o=e,d=a)});return o},e.shuffle=function(i){for(var s,a=n(i)?i:e.values(i),r=a.length,o=Array(r),t=0;r>t;t++)s=e.random(0,t),s!==t&&(o[t]=o[s]),o[s]=a[t];return o},e.sample=function(t,s,o){return null==s||o?(n(t)||(t=e.values(t)),t[e.random(t.length-1)]):e.shuffle(t).slice(0,Math.max(0,s))},e.sortBy=function(s,n,o){return n=t(n,o),e.pluck(e.map(s,function(e,t,s){return{value:e,index:t,criteria:n(e,t,s)}}).sort(function(n,s){var e=n.criteria,t=s.criteria;if(e!==t){if(e>t||void 0===e)return 1;if(t>e||void 0===t)return-1}return n.index-s.index}),"value")},l=function(n){return function(o,s,a){var i={};return s=t(s,a),e.each(o,function(e,t){var a=s(e,t,o);n(i,e,a)}),i}},e.groupBy=l(function(t,s,n){e.has(t,n)?t[n].push(s):t[n]=[s]}),e.indexBy=l(function(e,t,n){e[n]=t}),e.countBy=l(function(t,s,n){e.has(t,n)?t[n]++:t[n]=1}),e.toArray=function(t){return t?e.isArray(t)?s.call(t):n(t)?e.map(t,e.identity):e.values(t):[]},e.size=function(t){return null==t?0:n(t)?t.length:e.keys(t).length},e.partition=function(i,n,a){n=t(n,a);var s=[],o=[];return e.each(i,function(e,t,i){(n(e,t,i)?s:o).push(e)}),[s,o]},e.first=e.head=e.take=function(t,n,s){return null==t?void 0:null==n||s?t[0]:e.initial(t,t.length-n)},e.initial=function(e,t,n){return s.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},e.last=function(t,n,s){return null==t?void 0:null==n||s?t[t.length-1]:e.rest(t,Math.max(0,t.length-n))},e.rest=e.tail=e.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},e.compact=function(t){return e.filter(t,e.identity)},i=function(u,l,h,f){for(var t,r,c,s=[],d=0,a=f||0,m=o(u);m>a;a++)if(t=u[a],n(t)&&(e.isArray(t)||e.isArguments(t))){l||(t=i(t,l,h)),r=0,c=t.length;for(s.length+=c;c>r;)s[d++]=t[r++]}else h||(s[d++]=t);return s},e.flatten=function(e,t){return i(e,t,!1)},e.without=function(t){return e.difference(t,s.call(arguments,1))},e.uniq=e.unique=function(d,c,n,u){e.isBoolean(c)||(u=n,n=c,c=!1),null!=n&&(n=t(n,u));for(var s,a,r=[],l=[],i=0,h=o(d);h>i;i++)s=d[i],a=n?n(s,i,d):s,c?(i&&l===a||r.push(s),l=a):n?e.contains(l,a)||(l.push(a),r.push(s)):e.contains(r,s)||r.push(s);return r},e.union=function(){return e.uniq(i(arguments,!0,!0))},e.intersection=function(r){for(var t,n,s=[],a=arguments.length,i=0,c=o(r);c>i;i++)if(n=r[i],!e.contains(s,n)){for(t=1;a>t&&e.contains(arguments[t],n);t++);t===a&&s.push(n)}return s},e.difference=function(t){var n=i(arguments,!0,!0,1);return e.filter(t,function(t){return!e.contains(n,t)})},e.zip=function(){return e.unzip(arguments)},e.unzip=function(n){for(var s=n&&e.max(n,o).length||0,i=Array(s),t=0;s>t;t++)i[t]=e.pluck(n,t);return i},e.object=function(t,s){for(var n={},e=0,i=o(t);i>e;e++)s?n[t[e]]=s[e]:n[t[e][0]]=t[e][1];return n},e.findIndex=x(1),e.findLastIndex=x(-1),e.sortedIndex=function(a,l,n,r){n=t(n,r,1);for(var e,c=n(l),s=0,i=o(a);i>s;)e=Math.floor((s+i)/2),n(a[e])<c?s=e+1:i=e;return s},e.indexOf=C(1,e.findIndex,e.sortedIndex),e.lastIndexOf=C(-1,e.findLastIndex),e.range=function(e,n,t){null==n&&(n=e||0,e=0),t=t||1;for(var o=Math.max(Math.ceil((n-e)/t),0),i=Array(o),s=0;o>s;s++,e+=t)i[s]=e;return i},m=function(t,i,a,r,n){if(!(r instanceof i))return t.apply(a,n);var s=w(t.prototype),o=t.apply(s,n);return e.isObject(o)?o:s},e.bind=function(t,o){if(p&&t.bind===p)return p.apply(t,s.call(arguments,1));if(!e.isFunction(t))throw new TypeError("Bind must be called on a function");var i=s.call(arguments,2),n=function(){return m(t,n,o,this,i.concat(s.call(arguments)))};return n},e.partial=function(o){var t=s.call(arguments,1),n=function(){for(var i=0,r=t.length,a=Array(r),s=0;r>s;s++)a[s]=t[s]===e?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return m(o,n,this,this,a)};return n},e.bindAll=function(t){var n,s,o=arguments.length;if(1>=o)throw new Error("bindAll must be passed function names");for(n=1;o>n;n++)s=arguments[n],t[s]=e.bind(t[s],t);return t},e.memoize=function(s,n){var t=function(a){var o=t.cache,i=""+(n?n.apply(this,arguments):a);return e.has(o,i)||(o[i]=s.apply(this,arguments)),o[i]};return t.cache={},t},e.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},e.defer=e.partial(e.delay,e,1),e.throttle=function(r,c,s){var o,i,a,l,t=null,n=0;return s||(s={}),l=function(){n=s.leading===!1?0:e.now(),t=null,a=r.apply(o,i),t||(o=i=null)},function(){var d,u=e.now();return n||s.leading!==!1||(n=u),d=c-(u-n),o=this,i=arguments,0>=d||d>c?(t&&(clearTimeout(t),t=null),n=u,a=r.apply(o,i),t||(o=i=null)):t||s.trailing===!1||(t=setTimeout(l,d)),a}},e.debounce=function(a,o,r){var t,n,s,i,c,l=function(){var d=e.now()-c;o>d&&d>=0?t=setTimeout(l,o-d):(t=null,r||(i=a.apply(s,n),t||(s=n=null)))};return function(){s=this,n=arguments,c=e.now();var d=r&&!t;return t||(t=setTimeout(l,o)),d&&(i=a.apply(s,n),s=n=null),i}},e.wrap=function(t,n){return e.partial(n,t)},e.negate=function(e){return function(){return!e.apply(this,arguments)}},e.compose=function(){var e=arguments,t=e.length-1;return function(){for(var s=t,n=e[t].apply(this,arguments);s--;)n=e[s].call(this,n);return n}},e.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},e.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},e.once=e.partial(e.before,2),j=!{toString:null}.propertyIsEnumerable("toString"),y=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],e.keys=function(t){if(!e.isObject(t))return[];if(M)return M(t);var s,n=[];for(s in t)e.has(t,s)&&n.push(s);return j&&S(t,n),n},e.allKeys=function(t){if(!e.isObject(t))return[];var s,n=[];for(s in t)n.push(s);return j&&S(t,n),n},e.values=function(n){for(var s=e.keys(n),o=s.length,i=Array(o),t=0;o>t;t++)i[t]=n[s[t]];return i},e.mapObject=function(s,o,c){o=t(o,c);for(var n,a=e.keys(s),l=a.length,r={},i=0;l>i;i++)n=a[i],r[n]=o(s[n],n,s);return r},e.pairs=function(s){for(var n=e.keys(s),o=n.length,i=Array(o),t=0;o>t;t++)i[t]=[n[t],s[n[t]]];return i},e.invert=function(s){for(var o={},n=e.keys(s),t=0,i=n.length;i>t;t++)o[s[n[t]]]=n[t];return o},e.functions=e.methods=function(t){var s,n=[];for(s in t)e.isFunction(t[s])&&n.push(s);return n.sort()},e.extend=f(e.allKeys),e.extendOwn=e.assign=f(e.keys),e.findKey=function(s,o,r){o=t(o,r);for(var n,a=e.keys(s),i=0,c=a.length;c>i;i++)if(n=a[i],o(s[n],n,s))return n},e.pick=function(h,u,m){var n,s,o,c,l,d,r={},t=h;if(null==t)return r;e.isFunction(u)?(o=e.allKeys(t),c=a(u,m)):(o=i(arguments,!1,!1,1),c=function(n,e,t){return e in t},t=Object(t));for(n=0,d=o.length;d>n;n++)s=o[n],l=t[s],c(l,s,t)&&(r[s]=l);return r},e.omit=function(n,t,s){if(e.isFunction(t))t=e.negate(t);else{var o=e.map(i(arguments,!1,!1,1),String);t=function(n,t){return!e.contains(o,t)}}return e.pick(n,t,s)},e.defaults=f(e.allKeys,!0),e.create=function(s,t){var n=w(s);return t&&e.extendOwn(n,t),n},e.clone=function(t){return e.isObject(t)?e.isArray(t)?t.slice():e.extend({},t):t},e.tap=function(e,t){return t(e),e},e.isMatch=function(r,o){var t,n,s,i=e.keys(o),a=i.length;if(null==r)return!a;for(s=Object(r),n=0;a>n;n++)if(t=i[n],o[t]!==s[t]||!(t in s))return!1;return!0},d=function(t,n,o,i){if(t===n)return 0!==t||1/t===1/n;if(null==t||null==n)return t===n;if(t instanceof e&&(t=t._wrapped),n instanceof e&&(n=n._wrapped),a=r.call(t),a!==r.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!==+t?+n!==+n:0===+t?1/+t===1/n:+t===+n;case"[object Date]":case"[object Boolean]":return+t===+n}if(h="[object Array]"===a,!h){if("object"!=typeof t||"object"!=typeof n)return!1;var s,a,u,h,m,c=t.constructor,l=n.constructor;if(c!==l&&!(e.isFunction(c)&&c instanceof c&&e.isFunction(l)&&l instanceof l)&&"constructor"in t&&"constructor"in n)return!1}o=o||[],i=i||[];for(s=o.length;s--;)if(o[s]===t)return i[s]===n;if(o.push(t),i.push(n),h){{if(s=t.length,s!==n.length)return!1;for(;s--;)if(!d(t[s],n[s],o,i))return!1}}else{if(m=e.keys(t),s=m.length,e.keys(n).length!==s)return!1;for(;s--;)if(u=m[s],!e.has(n,u)||!d(t[u],n[u],o,i))return!1}return o.pop(),i.pop(),!0},e.isEqual=function(e,t){return d(e,t)},e.isEmpty=function(t){return null==t||(n(t)&&(e.isArray(t)||e.isString(t)||e.isArguments(t))?0===t.length:0===e.keys(t).length)},e.isElement=function(e){return!!e&&1===e.nodeType},e.isArray=L||function(e){return"[object Array]"===r.call(e)},e.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},e.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){e["is"+t]=function(e){return r.call(e)==="[object "+t+"]"}}),e.isArguments(arguments)||(e.isArguments=function(t){return e.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(e.isFunction=function(e){return"function"==typeof e||!1}),e.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},e.isNaN=function(t){return e.isNumber(t)&&t!==+t},e.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===r.call(e)},e.isNull=function(e){return null===e},e.isUndefined=function(e){return void 0===e},e.has=function(e,t){return null!=e&&B.call(e,t)},e.noConflict=function(){return h._=D,this},e.identity=function(e){return e},e.constant=function(e){return function(){return e}},e.noop=function(){},e.property=O,e.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},e.matcher=e.matches=function(t){return t=e.extendOwn({},t),function(n){return e.isMatch(n,t)}},e.times=function(n,t,o){var e,s=Array(Math.max(0,n));t=a(t,o,1);for(e=0;n>e;e++)s[e]=t(e);return s},e.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},e.now=Date.now||function(){return(new Date).getTime()};var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=e.invert(A),k=function(t){var s=function(e){return t[e]},n="(?:"+e.keys(t).join("|")+")",o=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,o.test(e)?e.replace(i,s):e}};e.escape=k(A),e.unescape=k(N),e.result=function(n,s,o){var t=null==n?void 0:n[s];return void 0===t&&(t=o),e.isFunction(t)?t.call(n):t},_=0,e.uniqueId=function(e){var t=++_+"";return e?e+t:t},e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var b=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,I=function(e){return"\\"+P[e]};e.template=function(o,n,i){!n&&i&&(n=i),n=e.defaults({},n,e.templateSettings);var s,r,c,l=RegExp([(n.escape||b).source,(n.interpolate||b).source,(n.evaluate||b).source].join("|")+"|$","g"),a=0,t="__p+='";o.replace(l,function(e,n,s,i,r){return t+=o.slice(a,r).replace(H,I),a=r+e.length,n?t+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":s?t+="'+\n((__t=("+s+"))==null?'':__t)+\n'":i&&(t+="';\n"+i+"\n__p+='"),e}),t+="';\n",n.variable||(t="with(obj||{}){\n"+t+"}\n"),t="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+t+"return __p;\n";try{r=new Function(n.variable||"obj","_",t)}catch(e){throw e.source=t,e}return s=function(t){return r.call(this,t,e)},c=n.variable||"obj",s.source="function("+c+"){\n"+t+"}",s},e.chain=function(n){var t=e(n);return t._chain=!0,t},c=function(n,t){return n._chain?e(t).chain():t},e.mixin=function(t){e.each(e.functions(t),function(n){var s=e[n]=t[n];e.prototype[n]=function(){var t=[this._wrapped];return z.apply(t,arguments),c(this,s.apply(e,t))}})},e.mixin(e),e.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=u[t];e.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],c(this,e)}}),e.each(["concat","join","slice"],function(t){var n=u[t];e.prototype[t]=function(){return c(this,n.apply(this._wrapped,arguments))}}),e.prototype.value=function(){return this._wrapped},e.prototype.valueOf=e.prototype.toJSON=e.prototype.value,e.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return e})}.call(this),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,s,o){e.Backbone=t(e,o,n,s)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(w,t,e,L){var N=w.Backbone,l=[],r=(l.push,l.slice);l.splice,t.VERSION="1.1.2",t.$=L,t.noConflict=function(){return w.Backbone=N,this},t.emulateHTTP=!1,t.emulateJSON=!1;var n=t.Events={on:function(e,t,n){if(!a(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var s=this._events[e]||(this._events[e]=[]);return s.push({callback:t,context:n,ctx:n||this}),this},once:function(n,t,o){if(!a(this,"once",n,[t,o])||!t)return this;var i=this,s=e.once(function(){i.off(n,s),t.apply(this,arguments)});return s._callback=t,this.on(n,s,o)},off:function(t,n,s){var o,i,r,c,l,d,u,h;if(!this._events||!a(this,"off",t,[n,s]))return this;if(!t&&!n&&!s)return this._events=void 0,this;for(l=t?[t]:e.keys(this._events),r=0,u=l.length;u>r;r++)if(t=l[r],c=this._events[t]){if(this._events[t]=d=[],n||s)for(i=0,h=c.length;h>i;i++)o=c[i],(n&&n!==o.callback&&n!==o.callback._callback||s&&s!==o.context)&&d.push(o);d.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;if(e=r.call(arguments,1),!a(this,"trigger",t,e))return this;var e,n=this._events[t],s=this._events.all;return n&&f(n,e),s&&f(s,arguments),this},stopListening:function(t,o,n){var i,a,s=this._listeningTo;if(!s)return this;i=!o&&!n,n||"object"!=typeof o||(n=this),t&&((s={})[t._listenId]=t);for(a in s)t=s[a],t.off(o,n,this),(i||e.isEmpty(t._events))&&delete this._listeningTo[a];return this}},p=/\s+/,a=function(t,s,e,o){if(!e)return!0;if("object"==typeof e){for(i in e)t[s].apply(t,[i,e[i]].concat(o));return!1}if(p.test(e)){for(var i,a=e.split(p),n=0,r=a.length;r>n;n++)t[s].apply(t,[a[n]].concat(o));return!1}return!0},f=function(n,s){var e,t=-1,o=n.length,i=s[0],a=s[1],r=s[2];switch(s.length){case 0:for(;++t<o;)(e=n[t]).callback.call(e.ctx);return;case 1:for(;++t<o;)(e=n[t]).callback.call(e.ctx,i);return;case 2:for(;++t<o;)(e=n[t]).callback.call(e.ctx,i,a);return;case 3:for(;++t<o;)(e=n[t]).callback.call(e.ctx,i,a,r);return;default:for(;++t<o;)(e=n[t]).callback.apply(e.ctx,s);return}},O={listenTo:"on",listenToOnce:"once"};e.each(O,function(t,s){n[s]=function(n,o,s){var i=this._listeningTo||(this._listeningTo={}),a=n._listenId||(n._listenId=e.uniqueId("l"));return i[a]=n,s||"object"!=typeof o||(s=this),n[t](o,s,this),this}}),n.bind=n.on,n.unbind=n.off,e.extend(t,n),o=t.Model=function(s,t){var n=s||{};t||(t={}),this.cid=e.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=e.defaults({},n,e.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)},e.extend(o.prototype,n,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return e.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(t){return e.escape(this.get(t))},has:function(e){return null!=this.get(e)},set:function(c,s,t){if(null==c)return this;if("object"==typeof c?(o=c,t=s):(o={})[c]=s,t||(t={}),!this._validate(o,t))return!1;h=t.unset,d=t.silent,i=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=e.clone(this.attributes),this.changed={}),a=this.attributes,u=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(n in o)s=o[n],e.isEqual(a[n],s)||i.push(n),e.isEqual(u[n],s)?delete this.changed[n]:this.changed[n]=s,h?delete a[n]:a[n]=s;if(!d){i.length&&(this._pending=t);for(var n,o,i,a,l,d,u,h,r=0,m=i.length;m>r;r++)this.trigger("change:"+i[r],this,a[i[r]],t)}if(l)return this;if(!d)for(;this._pending;)t=this._pending,this._pending=!1,this.trigger("change",this,t);return this._pending=!1,this._changing=!1,this},unset:function(t,n){return this.set(t,void 0,e.extend({},n,{unset:!0}))},clear:function(n){var s,t={};for(s in this.attributes)t[s]=void 0;return this.set(t,e.extend({},n,{unset:!0}))},hasChanged:function(t){return null==t?!e.isEmpty(this.changed):e.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&e.clone(this.changed);var s,o,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(s in t)e.isEqual(i[s],o=t[s])||((n||(n={}))[s]=o);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return e.clone(this._previousAttributes)},fetch:function(t){t=t?e.clone(t):{},void 0===t.parse&&(t.parse=!0);var n=this,s=t.success;return t.success=function(e){return!!n.set(n.parse(e,t),t)&&(s&&s(n,e,t),void n.trigger("sync",n,e,t))},i(this,t),this.sync("read",this,t)},save:function(o,l,t){if(a=this.attributes,null==o||"object"==typeof o?(n=o,t=l):(n={})[o]=l,t=e.extend({validate:!0},t),n&&!t.wait){if(!this.set(n,t))return!1}else if(!this._validate(n,t))return!1;n&&t.wait&&(this.attributes=e.extend({},a,n)),void 0===t.parse&&(t.parse=!0);var n,a,r,c,s=this,d=t.success;return t.success=function(i){s.attributes=a;var o=s.parse(i,t);return t.wait&&(o=e.extend(n||{},o)),!(e.isObject(o)&&!s.set(o,t))&&(d&&d(s,i,t),void s.trigger("sync",s,i,t))},i(this,t),r=this.isNew()?"create":t.patch?"patch":"update","patch"===r&&(t.attrs=n),c=this.sync(r,this,t),n&&t.wait&&(this.attributes=a),c},destroy:function(t){t=t?e.clone(t):{};var a,n=this,s=t.success,o=function(){n.trigger("destroy",n,n.collection,t)};return t.success=function(e){(t.wait||n.isNew())&&o(),s&&s(n,e,t),n.isNew()||n.trigger("sync",n,e,t)},this.isNew()?(t.success(),!1):(i(this,t),a=this.sync("delete",this,t),t.wait||o(),a)},url:function(){var t=e.result(this,"urlRoot")||e.result(this.collection,"url")||d();return this.isNew()?t:t.replace(/([^/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},e.extend(t||{},{validate:!0}))},_validate:function(t,n){if(!n.validate||!this.validate)return!0;t=e.extend({},this.attributes,t);var s=this.validationError=this.validate(t,n)||null;return!s||(this.trigger("invalid",this,s,e.extend(n,{validationError:s})),!1)}}),m=["keys","values","pairs","invert","pick","omit"],e.each(m,function(t){o.prototype[t]=function(){var n=r.call(arguments);return n.unshift(this.attributes),e[t].apply(e,n)}});var c=t.Collection=function(n,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),n&&this.reset(n,e.extend({silent:!0},t))},S={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1};e.extend(c.prototype,n,{model:o,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,n){return this.set(t,e.extend({merge:!1},n,x))},remove:function(t,s){var n,o,i,r,a=!e.isArray(t);t=a?[t]:e.clone(t),s||(s={});for(o=0,r=t.length;r>o;o++)n=t[o]=this.get(t[o]),n&&(delete this._byId[n.id],delete this._byId[n.cid],i=this.indexOf(n),this.models.splice(i,1),this.length--,s.silent||(s.index=i,n.trigger("remove",n,this,s)),this._removeReference(n,s));return a?t[0]:t},set:function(i,n){n=e.defaults({},n,S),n.parse&&(i=this.parse(i,n)),g=!e.isArray(i),i=g?i?[i]:[]:e.clone(i);var t,s,a,r,d,u,g,b,y,m=n.at,O=this.model,f=this.comparator&&null==m&&n.sort!==!1,w=e.isString(this.comparator)?this.comparator:null,c=[],v=[],h={},j=n.add,_=n.merge,p=n.remove,l=!!(!f&&j&&p)&&[];for(t=0,r=i.length;r>t;t++){if(a=i[t]||{},y=a instanceof o?s=a:a[O.prototype.idAttribute||"id"],d=this.get(y))p&&(h[d.cid]=!0),_&&(a=a===s?s.attributes:a,n.parse&&(a=d.parse(a,n)),d.set(a,n),f&&!u&&d.hasChanged(w)&&(u=!0)),i[t]=d;else if(j){if(s=i[t]=this._prepareModel(a,n),!s)continue;c.push(s),this._addReference(s,n)}s=d||s,!l||!s.isNew()&&h[s.id]||l.push(s),h[s.id]=!0}if(p){for(t=0,r=this.length;r>t;++t)h[(s=this.models[t]).cid]||v.push(s);v.length&&this.remove(v,n)}if(c.length||l&&l.length)if(f&&(u=!0),this.length+=c.length,null!=m)for(t=0,r=c.length;r>t;t++)this.models.splice(m+t,0,c[t]);else{l&&(this.models.length=0),b=l||c;for(t=0,r=b.length;r>t;t++)this.models.push(b[t])}if(u&&this.sort({silent:!0}),!n.silent){for(t=0,r=c.length;r>t;t++)(s=c[t]).trigger("add",s,this,n);(u||l&&l.length)&&this.trigger("sort",this,n)}return g?i[0]:i},reset:function(n,t){t||(t={});for(var s=0,o=this.models.length;o>s;s++)this._removeReference(this.models[s],t);return t.previousModels=this.models,this._reset(),n=this.add(n,e.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),n},push:function(t,n){return this.add(t,e.extend({at:this.length},n))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,n){return this.add(t,e.extend({at:0},n))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return r.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(t,n){return e.isEmpty(t)?n?void 0:[]:this[n?"find":"filter"](function(n){for(var e in t)if(t[e]!==n.get(e))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),e.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(e.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return e.invoke(this.models,"get",t)},fetch:function(t){t=t?e.clone(t):{},void 0===t.parse&&(t.parse=!0);var s=t.success,n=this;return t.success=function(e){var o=t.reset?"reset":"set";n[o](e,t),s&&s(n,e,t),n.trigger("sync",n,e,t)},i(this,t),this.sync("read",this,t)},create:function(n,t){if(t=t?e.clone(t):{},!(n=this._prepareModel(n,t)))return!1;t.wait||this.add(n,t);var o=this,s=t.success;return t.success=function(e,n){t.wait&&o.add(e,t),s&&s(e,n,t)},n.save(null,t),n},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(n,t){if(n instanceof o)return n;t=t?e.clone(t):{},t.collection=this;var s=new this.model(n,t);return s.validationError?(this.trigger("invalid",this,s.validationError,t),!1):s},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,s){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,s),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}}),v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],e.each(v,function(t){c.prototype[t]=function(){var n=r.call(arguments);return n.unshift(this.models),e[t].apply(e,n)}}),b=["groupBy","countBy","sortBy","indexBy"],e.each(b,function(t){c.prototype[t]=function(n,s){var o=e.isFunction(n)?n:function(e){return e.get(n)};return e[t](this.models,o,s)}});var _=t.View=function(t){this.cid=e.uniqueId("view"),t||(t={}),e.extend(this,e.pick(t,R)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},M=/^(\S+)\s*(.*)$/,R=["model","collection","el","id","attributes","className","tagName","events"];e.extend(_.prototype,n,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(n){if(!n&&!(n=e.result(this,"events")))return this;this.undelegateEvents();for(s in n)if(t=n[s],e.isFunction(t)||(t=this[n[s]]),t){var t,s,i=s.match(M),o=i[1],a=i[2];t=e.bind(t,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,t):this.$el.on(o,a,t)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(e.result(this,"el"),!1);else{var s,n=e.extend({},e.result(this,"attributes"));this.id&&(n.id=e.result(this,"id")),this.className&&(n.class=e.result(this,"className")),s=t.$("<"+e.result(this,"tagName")+">").attr(n),this.setElement(s,!1)}}}),t.sync=function(a,i,n){var s,r,c,o=y[a];return e.defaults(n||(n={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON}),s={type:o,dataType:"json"},(n.url||(s.url=e.result(i,"url")||d()),null!=n.data||!i||"create"!==a&&"update"!==a&&"patch"!==a||(s.contentType="application/json",s.data=JSON.stringify(n.attrs||i.toJSON(n))),n.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),n.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o))&&(s.type="POST",n.emulateJSON&&(s.data._method=o),r=n.beforeSend,n.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",o),r?r.apply(this,arguments):void 0}),"GET"===s.type||n.emulateJSON||(s.processData=!1),"PATCH"===s.type&&u&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}),c=n.xhr=t.ajax(e.extend(s,n)),i.trigger("request",i,c,n),c},u=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),y={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"},t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var g=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,k=/\*\w+/g,A=/[-{}[\]+?.,\\^$|#\s]/g;e.extend(g.prototype,n,{initialize:function(){},route:function(o,n,i){e.isRegExp(o)||(o=this._routeToRegExp(o)),e.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var s=this;return t.history.route(o,function(a){var e=s._extractParameters(o,a);s.execute(i,e),s.trigger.apply(s,["route:"+n].concat(e)),s.trigger("route",n,e),t.history.trigger("route",s,n,e)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=e.result(this,"routes");for(var t,n=e.keys(this.routes);null!=(t=n.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(C,"(?:$1)?").replace(E,function(e,t){return t?e:"([^/?]+)"}).replace(k,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(n,s){var t=n.exec(s).slice(1);return e.map(t,function(e,n){return n===t.length-1?e||null:e?decodeURIComponent(e):null})}});var o,i,d,u,m,v,b,j,y,s=t.History=function(){this.handlers=[],e.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},h=/^[#/]|\s+$/g,F=/^\/+|\/+$/g,T=/msie [\w.]+/,z=/\/$/,D=/#.*$/;return s.started=!1,e.extend(s.prototype,n,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(e,n){if(null==e)if(this._hasPushState||!this._wantsHashChange||n){e=decodeURI(this.location.pathname+this.location.search);var t=this.root.replace(z,"");e.indexOf(t)||(e=e.slice(t.length))}else e=this.getHash();return e.replace(h,"")},start:function(c){if(s.started)throw new Error("Backbone.history has already been started");s.started=!0,this.options=e.extend({root:"/"},this.options,c),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var a,r,n=this.getFragment(),o=document.documentMode,i=T.exec(navigator.userAgent.toLowerCase())&&(!o||7>=o);if((this.root=("/"+this.root+"/").replace(F,"/"),i&&this._wantsHashChange)&&(a=t.$('<iframe src="javascript:0" tabindex="-1">'),this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n,r=this.location,this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&r.hash&&(this.fragment=this.getHash().replace(h,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),s.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),e.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(e,t){if(!s.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(D,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var s=e.href.replace(/(javascript:|#).*$/,"");e.replace(s+"#"+t)}else e.hash="#"+t}}),t.history=new s,j=function(n,i){var o,s=this,t=n&&e.has(n,"constructor")?n.constructor:function(){return s.apply(this,arguments)};return e.extend(t,s,i),o=function(){this.constructor=t},o.prototype=s.prototype,t.prototype=new o,n&&e.extend(t.prototype,n),t.__super__=s.prototype,t},o.extend=c.extend=g.extend=_.extend=s.extend=j,d=function(){throw new Error('A "url" property or function must be specified')},i=function(t,e){var n=e.error;e.error=function(s){n&&n(t,s,e),t.trigger("error",t,s,e)}},t}),define("lib/amd-wrapped/modernizr",[],function(){window.Modernizr=function(i,s,d){function T(e){b.cssText=e}function a(e,t){return typeof e===t}function S(e,t){return!!~(""+e).indexOf(t)}function v(t,n){for(s in t){var s,e=t[s];if(!S(e,"-")&&b[e]!==d)return"pfx"!=n||e}return!1}function A(t,n,s){for(o in t){var o,e=n[t[o]];if(e!==d)return s===!1?t[o]:a(e,"function")?e.bind(s||n):e}return!1}function p(e,t,o){var n=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+O.join(n+" ")+n).split(" ");return a(t,"string")||a(t,"undefined")?v(s,t):(s=(e+" "+x.join(n+" ")+n).split(" "),A(s,t,o))}function k(){e.input=function(n){for(var e=0,o=n.length;o>e;e++)c[n[e]]=!!(n[e]in t);return c.list&&(c.list=!!s.createElement("datalist")&&!!i.HTMLDataListElement),c}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var e,o,r,i=0,c=a.length;c>i;i++)t.setAttribute("type",o=a[i]),e="text"!==t.type,e&&(t.value=y,t.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&t.style.WebkitAppearance!==d?(n.appendChild(t),r=s.defaultView,e=r.getComputedStyle&&"textfield"!==r.getComputedStyle(t,null).WebkitAppearance&&0!==t.offsetHeight,n.removeChild(t)):/^(search|tel)$/.test(o)||(e=/^(url|email)$/.test(o)?t.checkValidity&&t.checkValidity()===!1:t.value!=y)),E[a[i]]=!!e;return E}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l,g,z="2.8.3",e={},f=!0,n=s.documentElement,o="modernizr",C=s.createElement(o),b=C.style,t=s.createElement("input"),y=":)",M=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",O=w.split(" "),x=w.toLowerCase().split(" "),r={},E={},c={},m=[],u=m.slice,_=function(d,m,a,u){var r,c,l,h,e=s.createElement("div"),i=s.body,t=i||s.createElement("body");if(parseInt(a,10))for(;a--;)r=s.createElement("div"),r.id=u?u[a]:o+(a+1),e.appendChild(r);return h=["&#173;",'<style id="s',o,'">',d,"</style>"].join(""),e.id=o,(i?e:t).innerHTML+=h,t.appendChild(e),i||(t.style.background="",t.style.overflow="hidden",c=n.style.overflow,n.style.overflow="hidden",n.appendChild(t)),l=m(e,d),i?e.parentNode.removeChild(e):(t.parentNode.removeChild(t),n.style.overflow=c),!!l},F=function(e){var n,t=i.matchMedia||i.msMatchMedia;return t?t(e)&&t(e).matches||!1:(_("@media "+e+" { #"+o+" { position: absolute; } }",function(e){n="absolute"==(i.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n)},h={}.hasOwnProperty,j=a(h,"undefined")||a(h.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return h.call(e,t)};Function.prototype.bind||(Function.prototype.bind=function(s){if(e=this,"function"!=typeof e)throw new TypeError;var e,t=u.call(arguments,1),n=function(){if(this instanceof n){o=function(){},o.prototype=e.prototype;var o,a=new o,i=e.apply(a,t.concat(u.call(arguments)));return Object(i)===i?i:a}return e.apply(s,t.concat(u.call(arguments)))};return n}),r.touch=function(){return!!("ontouchstart"in i||i.navigator.maxTouchPoints)},r.localstorage=function(){try{return localStorage.setItem(o,o),localStorage.removeItem(o),!0}catch(e){return!1}};for(g in r)j(r,g)&&(l=g.toLowerCase(),e[l]=r[g](),m.push((e[l]?"":"no-")+l));return e.input||k(),e.addTest=function(t,s){if("object"==typeof t)for(var o in t)j(t,o)&&e.addTest(o,t[o]);else{if(t=t.toLowerCase(),e[t]!==d)return e;s="function"==typeof s?s():s,"undefined"!=typeof f&&f&&(n.className+=" "+(s?"":"no-")+t),e[t]=s}return e},T(""),C=t=null,e._version=z,e._prefixes=M,e._domPrefixes=x,e._cssomPrefixes=O,e.mq=F,e.testProp=function(e){return v([e])},e.testAllProps=p,e.testStyles=_,e.prefixed=function(e,t,n){return t?p(e,t,n):p(e,"pfx")},n.className=n.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+m.join(" "):""),e}(window,window.document),Modernizr.addTest("xhr2","FormData"in window),Modernizr.addTest("ipad",function(){return!!navigator.userAgent.match(/iPad/i)}),Modernizr.addTest("iphone",function(){return!!navigator.userAgent.match(/iPhone/i)}),Modernizr.addTest("ipod",function(){return!!navigator.userAgent.match(/iPod/i)}),Modernizr.addTest("appleios",function(){return Modernizr.ipad||Modernizr.ipod||Modernizr.iphone});var n,e=navigator.userAgent.match(/Android ([\d+.]{3,5})/)||[],t=e.length&&e.length>1;return(Modernizr.addTest("android",function(){return t}),t)&&(n=e[1].charAt(0),Modernizr.addTest("android"+n,!0)),Modernizr.addTest("ioswebview",function(){return Modernizr.appleios&&!/Safari/.test(navigator.userAgent)}),Modernizr.addTest("facebookapp",function(){return/FBAV/.test(navigator.userAgent)}),Modernizr.addTest("windows",function(){return(navigator.appVersion.match(/Win/)||[]).length}),Modernizr}),define("lib/jquery.cloudinarySimple",["jquery"],function(e){!function(t){function m(c){if(null===c||"undefined"==typeof c)return"";for(var e,t,a,o=c+"",i="",r=0,n=t=0,r=o.length,s=0;r>s;s++)e=o.charCodeAt(s),a=null,128>e?t++:a=e>127&&2048>e?String.fromCharCode(e>>6|192,63&e|128):String.fromCharCode(e>>12|224,e>>6&63|128,63&e|128),null!==a&&(t>n&&(i+=o.slice(n,t)),i+=a,n=t=s+1);return t>n&&(i+=o.slice(n,r)),i}function d(t){t=m(t);for(var i="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",e=0,s=0,o=0,e=-1^e,n=0,a=t.length;a>n;n++)o=255&(e^t.charCodeAt(n)),s="0x"+i.substr(9*o,8),e=e>>>8^s;return e=-1^e,0>e&&(e+=4294967296),e}function e(e,t,s){var n=e[t];return delete e[t],"undefined"==typeof n?s:n}function i(e){return e?t.isArray(e)?e:[e]:[]}function o(e){return"undefined"!=typeof e&&(""+e).length>0}function l(n){var r=n.width,m=n.height,w=e(n,"size");w&&(p=w.split("x"),n.width=r=p[0],n.height=m=p[1]);var s,a,c,d,h,p,g,y,_,x,C,j=n.overlay||n.underlay,u=e(n,"crop"),b=i(e(n,"angle")).join("."),v=j||o(b)||"fit"==u||"limit"==u||"lfill"==u;r&&(v||parseFloat(r)<1)&&delete n.width,m&&(v||parseFloat(m)<1)&&delete n.height,u||j||(r=m=void 0),c=e(n,"background"),c=c&&c.replace(/^#/,"rgb:"),d=e(n,"color"),d=d&&d.replace(/^#/,"rgb:"),s=i(e(n,"transformation",[])),g=[],t.grep(s,function(e){return"object"==typeof e}).length>0?s=t.map(s,function(e){return l("object"==typeof e?t.extend({},e):{transformation:e})}):(g=t.grep(s,function(){return null!=this&&""!=this}).join("."),s=[]),h=e(n,"effect"),t.isArray(h)&&(h=h.join(":")),a=e(n,"border"),t.isPlainObject(a)&&(y=""+(a.width||2),_=(a.color||"black").replace(/^#/,"rgb:"),a=y+"px_solid_"+_);var E=i(e(n,"flags")).join("."),f=[["c",u],["t",g],["w",r],["h",m],["b",c],["co",d],["e",h],["a",b],["bo",a],["fl",E]],O={x:"x",y:"y",radius:"r",gravity:"g",quality:"q",prefix:"p",default_image:"d",underlay:"u",overlay:"l",fetch_format:"f",density:"dn",page:"pg",color_space:"cl",delay:"dl",opacity:"o"};for(x in O)f.push([O[x],e(n,x)]);return f.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),f.push([e(n,"raw_transformation")]),C=t.map(t.grep(f,function(e){var t=e[e.length-1];return o(t)}),function(e){return e.join("_")}).join(","),s.push(C),t.grep(s,o).join("/")}function f(e){return s||(s=document.createElement("img")),s.src=e,e=s.src,s.src=null,e}function u(s,n){n=n||{},i=e(n,"type","upload"),"fetch"==i&&(n.fetch_format=n.fetch_format||e(n,"format"));var O=l(n),v=e(n,"resource_type","image"),p=e(n,"version"),y=e(n,"format"),u=e(n,"cloud_name",t.cloudinary.config().cloud_name);if(!u)throw"Unknown cloud_name";var i,c,m,j,_,g=e(n,"private_cdn",t.cloudinary.config().private_cdn),h=e(n,"secure_distribution",t.cloudinary.config().secure_distribution),C=e(n,"cname",t.cloudinary.config().cname),x=e(n,"cdn_subdomain",t.cloudinary.config().cdn_subdomain),E=e(n,"shorten",t.cloudinary.config().shorten),b=e(n,"secure","https:"==window.location.protocol),w=e(n,"protocol",t.cloudinary.config().protocol);if("fetch"==i&&(s=f(s)),s.match(/^https?:/)){if("upload"==i||"asset"==i)return s;s=encodeURIComponent(s).replace(/%3A/g,":").replace(/%2F/g,"/")}else s=encodeURIComponent(decodeURIComponent(s)).replace(/%3A/g,":").replace(/%2F/g,"/"),y&&(s=s.replace(/\.(jpg|png|gif|webp)$/,"")+"."+y);return c=b?"https://":window.location.protocol+"//",c=w?w+"//":c,u.match(/^\//)&&!b?c="/res"+u:(m=!g,b?(h&&h!=r||(h=g?u+"-res.cloudinary.com":a),m=m||h==a,c+=h):(_=x?"a"+(d(s)%5+1)+".":"",host=C||(g?u+"-res.cloudinary.com":"res.cloudinary.com"),c+=_+host),m&&(c+="/"+u)),E&&"image"==v&&"upload"==i&&(v="iu",i=void 0),s.search("/")>=0&&!s.match(/^v[0-9]+/)&&!s.match(/^https?:\//)&&!o(p)&&(p=1),j=[c,v,i,O,p?"v"+p:"",s].join("/").replace(/([^:])\/+/g,"$1/"),j}var h="d3jpl91pxevbkh.cloudfront.net",r="cloudinary-a.akamaihd.net",c="res.cloudinary.com",a=c,s=void 0,n=void 0;t.cloudinary={CF_SHARED_CDN:h,OLD_AKAMAI_SHARED_CDN:r,AKAMAI_SHARED_CDN:c,SHARED_CDN:a,config:function(e,s){if(n||(n={},t('meta[name^="cloudinary_"]').each(function(){n[t(this).attr("name").replace("cloudinary_","")]=t(this).attr("content")})),"undefined"!=typeof s)n[e]=s;else{if("string"==typeof e)return n[e];e&&(n=e)}return n},url:function(n,e){return e=t.extend({},e),u(n,e)}}}(e)}),define("gawkerlib/imageUrl",["jquery","lib/jquery.cloudinarySimple"],function(e){"use strict";window.kinja=window.kinja||{},window.kinja.imageUrl=function(){e.cloudinary.config({cloud_name:"gawker-media",api_key:"196565315244936",cname:"i.kinja-img.com"});var t=window.kinja.meta&&window.kinja.meta.imageSizes?window.kinja.meta.imageSizes:{},n=function(o,i,n){var s;return s=n||"jpg",e.cloudinary.url(o+"."+s,e.extend({secure:!0,secure_distribution:"i.kinja-img.com"},t[i]))};return n}()}),define("gawkerlib/readMore",["jquery"],function(e){"use strict";window.kinja=window.kinja||{},window.kinja.readMore=function(){var t=function(s,o,i){var t,n;return t=e("<div></div>").css("display","none").appendTo("body"),e(s).appendTo(t),t.find(i).replaceWith(o),n=t.html(),t.remove(),n};return t}()}),define("singleton/Utils",["jquery","underscore","lib/amd-wrapped/modernizr","gawkerlib/imageUrl","gawkerlib/readMore"],function(e,t,n){"use strict";var s=["com","org","edu","gov","net","mil","int","xxx","co","info","me","biz"],o={kinjaMeta:null!==window.kinja.meta?e.extend(e.extend(window.kinja.meta,window.kinja.postMeta),window.kinja.tagMeta):null,features:null,htmlCleaner:document.createElement("div"),previousTimestamp:0,imageUrl:window.kinja.imageUrl,readMore:window.kinja.readMore,pageTypes:{blacklist:"blacklist",dashboard:"dashboard",dfppromote:"dfppromote",editor:"editor",error:"error",frontpage:"frontpage",leaderboard:"leaderboard",manageblog:"manageblog",performancestats:"performancestats",permalink:"permalink",rules:"rules",search:"search",splash:"splash",stats:"stats",tag:"tag",usersettings:"usersettings",profilepage:"profilepage",followpage:"followpage"},getParameterByName:function(t){var n="[\\?&]"+t+"=([^&#]*)",s=new RegExp(n),e=s.exec(window.location.search),o="";return e?decodeURIComponent(e[1].replace(/\+/g," ")):o},getKinjaMeta:function(){return this.kinjaMeta},getFeatures:function(){if(null===this.features){var t,n,s,o,i={},a=e("body").attr("class")||"";a.split(/\s+/).forEach(function(e){0===e.indexOf("f_")&&(t=e.indexOf("_"),n=e.lastIndexOf("_"),n>t&&(s=e.substring(t+1,n-t+1),o=e.substring(n+1),i[s]=o))}),this.features=i}return this.features},getKinjaHost:function(){var e=window.location.host.match(/\.(dev|xip\.io)(:\d+)?$/);return"kinja"+(e?e[0]:".com")},getRenderableData:function(n,o){var i=this,s=this.getKinjaMeta(),a=e.extend({meta:s,features:t.reduce(i.getFeatures(),function(e,t,n){return"off"!==t&&(e[n]=t),e},{})},o||{});return n=n||{},n.pageType=this.getKinjaMeta().pageType,n.blog=s.blog,n.currentUrl=s.currentUrl,{data:n,injected:a}},cut:function(e,t){return e&&e.length>t&&(e=e.substring(0,t),e=e.replace(/\s(\w+)?$/,""),e+="…"),e},cutSentence:function(e,t){var n,o,s=e;return e&&e.length>t&&(s=e.substring(0,t),o=e.substring(t),n=o.match(/(.*?[!?.])/),null!==n&&(s+=n[0])),s},cutHtml:function(o,c,i){var t,n,e="",a=0,s=!1,r=o.length;for(n=0;r>n&&c+1>a;n+=1)t=o[n],("<"===t||"&"===t)&&(s=!0),s||(a+=1),(">"===t||";"===t)&&(s=!1),e+=t;return e.length<r&&(e=e.replace(/,?\s([\w<>]+)?$/,""),void 0!==i&&(e+=i),e=this.fixMarkup(e)),e},fixMarkup:function(e){return this.htmlCleaner.innerHTML=e,this.htmlCleaner.innerHTML},clickedOnLink:function(c){function l(e){return e.nodeName.toLowerCase()}function o(e,t){return l(e)===t}function i(){var e=t.toArray(arguments);return function(n){return t.chain(e).map(t.partial(o,n)).some().value()}}function a(s){return t.some(n.targetValues,function(t){return t===e(s).attr("target")})}function r(t){return e(t).parents(n.ancestors.join(", ")).length>0}var s=c.target,n={elements:[s,s.parentNode],targetValues:["_blank","_self"],ancestors:[".whitelisted-links"]};return!!t.chain(n.elements).filter(i("button","a")).some(function(e){return a(e)||r(e)}).value()},getHostname:function(t){var e=document.createElement("a");return e.setAttribute("href",t),e.hostname},getMainDomain:function(n){var e=n.split("."),o=function(e){return-1!==s.indexOf(e)},t=function(t){return e[e.length-t]};return t(o(t(2))?3:2)},isDevMode:function(){var e=this.getKinjaMeta().mode;return-1!==["default","ci_test","coredev"].indexOf(e)},cachebustUrl:function(t){return t+=-1===t.indexOf("?")?"?":"&",t+="rev="+e.now(),this.isDevMode()&&t?t.replace(".com",".dev"):t},markTimeForPageType:function(e,t){this.getKinjaMeta().pageType===e&&window.markUserTime(t)},markTimeForPermalink:function(e){this.markTimeForPageType(this.pageTypes.permalink,e)},markTimeWithPageType:function(e){return window.markUserTime(e+" - "+this.getKinjaMeta().pageType),e+" - "+this.getKinjaMeta().pageType},isCommentPermalinkPage:function(){var e=this.getKinjaMeta();return e.pageType===this.pageTypes.permalink&&e.starterId!==e.postId},shouldGetCached:function(){return!n.localstorage||!window.localStorage.getItem("lastInteraction")||Date.now()-window.localStorage.getItem("lastInteraction")>6e5}};return o}),define("config-default",[],function(){"use strict";var e="/ajax/image/upload";return{api:{analytics:{url:"http://kinja.com/api/analytics",urlWoProtocol:"//kinja.com/api/analytics"},ecommerce:{url:"/api/ecommerce",secureUrl:"https://kinja.com/api/ecommerce"},profile:{url:"/api/profile",secureUrl:"https://kinja.com/api/profile"},notification:{url:"/api/notification"},core:{url:"/api/core",secureUrl:"https://kinja.com/api/core"},mantle:{url:"/ajax"},chartbeat:{url:"/api/chartbeat"},pupil:{url:"//kinja.com/api/pupil"}},graphite:{url:"http://statsporn.kinja-ops.com/"},chomp:{imgRoot:"http://img.gawkerassets.com/img/"},image:{uploadUrl:e,host:"i.kinja-img.com"},avatar:{uploadUrl:e+"?eager=avt-small,avt-medium,avt-large&async=false"},blogLogo:{uploadUrl:e+"?eager=BlogLogo&async=false"},ownSites:[4,7,8,9,11,12,17,39,879,19292,474833009,512288369,510682837],logEnabled:!0,captchaKey:"6LfSor8SAAAAAKQnBZMKP3wYxbQWb_sjCvAaFxos"}}),define("config",["config-default"],function(e){"use strict";return e.logEnabled=!1,e}),define("apiclient/apirequest",["underscore","jquery"],function(e,t){"use strict";var n,s;return n={urlTemplate:function(e,t){var n=e.match(/\{\{(.+?)\}\}/g);return n&&n.forEach(function(n){var s=n.slice(2,-2);e=e.replace(n,t[s]),delete t[s]}),e},getUrl:function(i,r){var s,o=t.Deferred(),a=e.partial(n.urlTemplate,e,r);return"string"==typeof i?o.resolve(a(i)):"function"==typeof i&&(s=i.call(this,r),"object"==typeof s&&"function"==typeof s.promise?s.done(e.compose(o.resolve,a)).fail(o.reject):o.resolve(a(s))),o.promise()}},s={prepareOpts:function(t,n){var s=e.pick(t,n);return e.each(n,function(e){delete t[e]}),s},getJson:function(i,s,o){return s=s||{},o=o||{},function(h,u){var a,r,d,c=t.Deferred(),l=e.extend({},s,h||{});return a=e.extend({type:"GET",dataType:"json",timeout:6e4,contentType:"application/json; charset=utf-8"},o,u),a.data=l,d=function(e,n,t){e=e||{},c.resolve(e.data,e.meta,t)},r=function(e){var t,n;if(e&&e.responseText)try{t=JSON.parse(e.responseText)}catch(e){t={}}else t=e&&e.status?e:{};n=t.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}},c.reject(n,e)},n.getUrl(i,l).done(function(e){a.url=e,t.ajax(a).done(d).fail(r)}).fail(r),c.promise()}},getJsonp:function(i,s,o){return s=s||{},o=o||{},function(d,u){var a,r,c=t.Deferred(),l=e.extend({},s,d||{});return a=e.extend({type:"GET",dataType:"jsonp",jsonp:"jsonp",timeout:6e4},o,u),a.data=l,r=function(e,s,t){if(e&&e.meta&&200===e.meta.status)c.resolve(e.data,e.meta,t);else{var n=e.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}};c.reject(n,t)}},n.getUrl(i,l).done(function(e){a.url=e,t.ajax(a).always(r)}).fail(r),c.promise()}},postJson:function(i,s,o){return s=s||{},o=o||{},function(r,h){var a,c,d,l=t.Deferred(),u=e.isArray(r)&&e.isEmpty(s)?r:e.extend({},s,r||{});return a=e.extend({type:"POST",dataType:"json",timeout:6e4,contentType:"application/json; charset=utf-8"},o,h),a.data=JSON.stringify(u),d=function(e,n,t){e=e||{},l.resolve(e.data,e.meta,t)},c=function(e){var t=e&&e.responseText?JSON.parse(e.responseText):e&&e.status?e:{},n=t.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}};l.reject(n,e)},n.getUrl(i,u).done(function(e){a.url=e,t.ajax(a).done(d).fail(c)}).fail(c),l.promise()}},deleteJson:function(i,s,o){return s=s||{},o=o||{},function(h,u){var a,r,d,c=t.Deferred(),l=e.extend({},s,h||{});return a=e.extend({type:"DELETE",dataType:"json",timeout:6e4,contentType:"application/json; charset=utf-8"},o,u),a.data=JSON.stringify(l),d=function(e,n,t){e=e||{},c.resolve(e.data,e.meta,t)},r=function(e){var t=e&&e.responseText?JSON.parse(e.responseText):e&&e.status?e:{},n=t.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}};c.reject(n,e)},n.getUrl(i,l).done(function(e){a.url=e,t.ajax(a).done(d).fail(r)}).fail(r),c.promise()}}}}),function(e){"function"==typeof define&&define.amd?define("lib/jquery.cookie",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function s(e){return t.raw?e:encodeURIComponent(e)}function o(e){return t.raw?e:decodeURIComponent(e)}function i(e){return s(t.json?JSON.stringify(e):String(e))}function a(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(r," ")),t.json?JSON.parse(e):e}catch(e){}}function n(n,s){var o=t.raw?n:a(n);return e.isFunction(s)?s(o):o}var r=/\+/g,t=e.cookie=function(r,c,a){if(void 0!==c&&!e.isFunction(c))return(a=e.extend({},t.defaults,a),"number"==typeof a.expires)&&(m=a.expires,d=a.expires=new Date,d.setTime(+d+864e5*m)),document.cookie=[s(r),"=",i(c),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("");for(var d,m,h=r?void 0:{},f=document.cookie?document.cookie.split("; "):[],u=0,v=f.length;v>u;u++){var p=f[u].split("="),g=o(p.shift()),l=p.join("=");if(r&&r===g){h=n(l,c);break}r||void 0===(l=n(l))||(h[g]=l)}return h};t.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),define("apiclient/gettoken",["jquery","config","apiclient/apirequest","lib/jquery.cookie"],function(e,t,n){"use strict";var s={append:function(t,n,s){var o=n||this.existing;return function(i){var n="string"==typeof t?t:t.call(this,i);return o().then(function(t){return s&&-1!==t.indexOf("dummy-")?e.Deferred().reject({error:{code:"DUMMY_TOKEN_ERROR",message:"Token returned was a dummy token",uid:""}}):n+(-1!==n.indexOf("?")?"&":"?")+"token="+t})}},existing:function(){return e.Deferred().resolve(e.cookie("KinjaToken"))},fresh:function(){var s=e.Deferred();return n.postJson(t.api.profile.secureUrl+"/token/create",{},{xhrFields:{withCredentials:!0}})().done(function(e){s.resolve(e.token)}).fail(s.reject),s.promise()},secure:function(){var s=e.Deferred();return n.postJson(t.api.profile.secureUrl+"/token/createSecure",{},{xhrFields:{withCredentials:!0}})().done(function(e){s.resolve(e.token)}).fail(s.reject),s.promise()}};return s}),define("apiclient/feature",["config","apiclient/apirequest","apiclient/gettoken"],function(t,n,e){"use strict";var s;return s={getBlogFeatures:n.getJson(t.api.core.url+"/blog/{{blogId}}/features"),getAjaxFeatures:n.getJson(t.api.mantle.url+"/features"),setAjaxFeatureCookie:n.postJson(t.api.mantle.url+"/feature/set?{{syncParams}}"),sendPerHourFeatureTick:n.postJson(t.api.mantle.url+"/stats/feature/increment"),readFeature:n.getJson(e.append(t.api.core.url+"/feature/{{modelId}}",e.fresh)),getSegmentFeature:n.getJson(t.api.core.url+"/feature/segment"),createFeature:n.postJson(e.append(t.api.core.secureUrl+"/feature/add",e.secure)),updateFeature:n.postJson(e.append(t.api.core.secureUrl+"/feature/{{modelId}}/update",e.secure)),deleteFeature:n.postJson(e.append(t.api.core.secureUrl+"/feature/{{modelId}}/delete",e.secure)),enableFeature:n.postJson(e.append(t.api.core.secureUrl+"/feature/{{modelId}}/enable",e.secure)),disableFeature:n.postJson(e.append(t.api.core.secureUrl+"/feature/{{modelId}}/disable",e.secure)),setBlogFeatureGMG:n.postJson(e.append(t.api.core.url+"/blog/{{blogId}}/setfeature?{{data}}",e.fresh))}}),define("gawkerlib/jquery.parseParams",["jquery"],function(t){"use strict";var n=/([^&=]+)=?([^&]*)/g,s=/\+/g,e=function(e){return decodeURIComponent(e.replace(s," "))};t.parseParams=function(t){void 0===t&&(t=window.location.href.match(/\?(.+)$/),t=null!==t&&t.length>0?t[1]:"");for(var s,i,a,o={};null!==(i=n.exec(t));)s=e(i[1]),a=e(i[2]),void 0!==o[s]?(void 0===o[s].push&&(o[s]=[o[s]]),o[s].push(a)):o[s]=a;return o}}),define("singleton/Feature",["backbone","singleton/Utils","apiclient/feature","gawkerlib/jquery.parseParams"],function(t,e,n){"use strict";var s=t.Model.extend({initialize:function(){this.syncCookies()},syncCookies:function(o,s){var t={};s=s||!1,t.manual=!o&&e.getKinjaMeta().syncFeatures&&e.getKinjaMeta().syncFeatures.length>0||!1,t.syncParams=o||e.getKinjaMeta().syncFeatures||"",t.syncParams.length>0&&n.setAjaxFeatureCookie(t,{async:!s})},isOn:function(t){return"on"===e.getFeatures()[t]},value:function(t){return e.getFeatures()[t]}});return new s}),define("apiclient/profile",["config","apiclient/apirequest","apiclient/gettoken"],function(o,t,e){"use strict";var a,n=o.api.profile.url,s=o.api.profile.secureUrl,i=o.api.core.url;return a={getUser:t.getJson(e.append(n+"/user/{{userId}}",e.fresh)),isGMGAuthor:t.getJson(n+"/blogmembership/views/isGmgAuthor"),getBlog:t.getJson(e.append(n+"/blog/{{blogId}}",e.fresh)),getBlogByName:t.getJson(n+"/blog/byname/{{blogName}}"),updateBlog:t.postJson(e.append(s+"/blog/{{id}}",e.secure)),createBlog:t.postJson(e.append(s+"/blog",e.secure)),setBlogFeature:t.postJson(e.append(i+"/blog/{{blogId}}/setfeature?{{featuresUrlString}}",e.fresh)),getFollowedBlogIds:t.getJson(n+"/blogfollow/views/followedBy"),getBlogMembers:t.getJson(n+"/blogmembership/views/manageBlogMembers"),addBlogMember:t.postJson(e.append(s+"/blogmembership/addMember",e.secure)),inviteBlogMember:t.postJson(e.append(o.api.profile.secureUrl+"/blogmembership/invite",e.secure)),revokeBlogMemberInvite:t.postJson(e.append(o.api.profile.secureUrl+"/blogmembership/revoke",e.secure)),removeBlogMember:t.postJson(e.append(s+"/blogmembership/removeMember",e.secure)),updateBlogMember:t.postJson(e.append(s+"/blogmembership/updateMember",e.secure)),setBlogOwner:t.postJson(e.append(s+"/blogmembership/setOwner",e.secure)),follow:t.postJson(e.append(n+"/userfollow/follow")),unfollow:t.postJson(e.append(n+"/userfollow/unfollow")),getBlogSales:t.getJson(e.append(i+"/blogsales/get/{{blogId}}",e.fresh)),saveBlogSales:t.postJson(e.append(i+"/blogsales/save",e.secure)),setUserAvatar:t.postJson(e.append(s+"/user/setAvatar?id={{cloudinaryId}}&format={{format}}",e.secure)),getUserSettings:t.getJson(e.append("/settings.json",e.fresh)),setUserSettings:t.postJson(e.append(s+"/user/updateName?id={{id}}",e.secure)),setScreenName:t.postJson(e.append(s+"/user/setScreenName",e.secure)),followAndApprove:t.postJson(e.append("/ajax/post/{{postId}}/followAndApprove/blog/{{targetBlogId}}/by/{{blogId}}?authorId={{authorId}}",e.fresh)),followBlogForBlog:t.postJson(e.append(o.api.profile.url+"/blogfollow/follow",e.fresh)),unfollowBlogForBlog:t.postJson(e.append(o.api.profile.url+"/blogfollow/unfollow",e.fresh)),blogBlock:t.postJson(e.append(o.api.profile.url+"/blogblock/block",e.fresh)),blogUnblock:t.postJson(e.append(o.api.profile.url+"/blogblock/unblock",e.fresh)),getUserProperties:t.getJson(e.append(n+"/userprop/views/byUser",e.secure)),getUserProperty:t.getJson(e.append(s+"/userprop/{{id}}",e.secure)),createUserProperty:t.postJson(e.append(s+"/userprop",e.secure)),updateUserProperty:t.postJson(e.append(s+"/userprop/{{id}}",e.secure)),deleteUserProperty:t.deleteJson(e.append(s+"/userprop/{{id}}",e.secure)),resendEmailConfirmation:t.postJson(e.append(s+"/userprop/resendConfirmationEmail",e.secure)),getEmailsByToken:t.getJson(e.append(s+"/remoteaccount/views/emailsByToken",e.secure)),getBlogProperties:t.getJson(n+"/blogprop/views/byblog/{{blogId}}"),getBlogProperty:t.getJson(n+"/blogprop/{{id}}"),createBlogProperty:t.postJson(e.append(n+"/blogprop",e.fresh)),updateBlogProperty:t.postJson(e.append(n+"/blogprop/{{id}}",e.fresh)),deleteBlogProperty:t.deleteJson(e.append(n+"/blogprop/{{propertyId}}",e.fresh)),getFollowedEntities:t.getJson(n+"/userfollow/views/followed"),getFollowsOfUser:t.getJson(n+"/userfollow/views/followersOf"),acceptMembershipInvitation:t.postJson(e.append(n+"/blogmembership/accept",e.fresh)),rejectMembershipInvitation:t.postJson(e.append(n+"/blogmembership/reject",e.fresh))}}),define("model/Blog",["underscore","backbone","apiclient/profile"],function(t,n,e){"use strict";var s=n.Model.extend({featureCollection:null,validate:function(t){var e=[];return(""===t.canonicalHost||"undefined"===t.canonicalHost)&&e.push({key:"canonicalHost",message:"Invalid canonical Host"}),e.length>0?e:void 0},sync:function(o,t,n){var s,i;if("create"!==o&&(void 0===t.id||null===t.id))throw new Error("Blog.sync(): Model undefined");switch(o){case"read":return e.getBlog({blogId:t.id},n);case"update":return s=t.toFormData(),e.updateBlog(s,n);case"create":return s=t.toJSON(),e.createBlog(s,n);case"setfeature":return i=this.featureCollection.getDirtyModels(),e.setBlogFeature({featuresUrlString:i,blogId:t.id},n)}},parse:function(n){var e;return e=n.meta&&null===n.meta.error?n.data:n,e.hosts?e.hosts=t.map(e.hosts,function(e){return void 0!==e.name?e.name:e}):e.hosts=[],e},toFormData:function(){var e=["id","canonicalHost","hosts","excludedTags","adsEnabled"];return t.pick(this.toJSON(),e)}});return s}),define("model/user/User",["jquery","underscore","config","backbone","singleton/Utils","apiclient/profile","model/Blog"],function(n,t,i,s,o,e,a){"use strict";var r=s.Model.extend({defaults:{permissions:[],membership:new s.Collection},_tempMembership:null,rolePriorities:{OWNER:3,ADMIN:2,AUTHOR:1},conformsTo:function(e,t){return this.rolePriorities[e]>=this.rolePriorities[t]},parse:function(t){if(void 0===t||void 0===t.data)return{};var e=t.data;return void 0!==e.membership&&null!==e.membership?(this._tempMembership=e.membership,delete e.membership):this._tempMembership=null,e.avatar&&e.avatar.id&&(e.avatar={url:o.imageUrl(e.avatar.id,"avt-medium",e.avatar.format),id:e.avatar.id,format:e.avatar.format}),e},updateMembership:function(){null!==this._tempMembership&&(this.get("membership").reset(this._tempMembership),this._tempMembership=null)},hasPermission:function(e){var n=this.get("permissions");return t.any(n,function(t){return t.toUpperCase()===e.toUpperCase()})},hasRole:function(e,t){return this.get("membership").any(function(n){return this.conformsTo(n.get("role"),e)&&n.get("blogId")===t},this)},hasGMGRole:function(e){return this.get("membership").any(function(n){return-1!==t.indexOf(i.ownSites,n.get("blogId"))&&this.conformsTo(n.get("role"),e)},this)},followUser:function(t){return e.follow({userId:this.id,targetType:"User",target:t,token:this.get("token")}).done(function(){this.get("followedAuthorIds").push(""+t)}.bind(this))},unfollowUser:function(t){return e.unfollow({userId:this.id,targetType:"User",target:t,token:this.get("token")}).done(function(){this.set("followedAuthorIds",this.get("followedAuthorIds").filter(function(e){return e!==t}))}.bind(this))},followBlog:function(t){return e.follow({userId:this.id,targetType:"Blog",target:t,token:this.get("token")}).done(function(){this.get("followedBlogIds").push(t)}.bind(this))},unfollowBlog:function(t){return e.unfollow({userId:this.id,targetType:"Blog",target:t,token:this.get("token")}).done(function(){this.set("followedBlogIds",this.get("followedBlogIds").filter(function(e){return e!==t}))}.bind(this))},setBlogAction:function(u,r,s,l){var c,d,h,m=["blogfollow","follow","unfollow","block","unblock"],i=this;if(!u||-1===t.indexOf(m,u))throw new Error("User:setBlogAction(): Invalid action: "+u);if(!r)throw new Error("User:setBlogAction(): Invalid blogId: "+r);if(!s)throw new Error("User:setBlogAction(): Invalid targetBlogId: "+s);switch(l=n.extend({success:n.noop,error:n.noop},l),d=function(o,a){var e,n;if(void 0!==a){switch(u){case"follow":i.get("defaultBlogId")===r&&i.get("followedBlogIds").push(s);break;case"unfollow":i.get("defaultBlogId")===r&&(e=t.filter(i.get("followedBlogIds"),function(e){return e!==s},this),i.set("followedBlogIds",e));break;case"block":i.get("defaultBlogId")===r&&i.get("blockedBlogIds").push(s);break;case"unblock":i.get("defaultBlogId")===r&&(n=t.filter(i.get("blockedBlogIds"),function(e){return e!==s},this),i.set("blockedBlogIds",n))}l.success.call(i,o)}else l.error.call(i,{reason:"action error"})},c=function(e){var t=e&&e.error?e.error:null;l.error.call(this,{reason:"ajax error"},t)},u){case"blogfollow":h=new a({id:s}),h.fetch().done(function(){e.followAndApprove({postId:o.getKinjaMeta().post.id,targetBlogId:s,blogId:r,authorId:h.get("ownerId")},l).done(d).fail(c)});break;case"follow":e.followBlogForBlog({targetBlogId:s,sourceBlogId:r}).done(d).fail(c);break;case"unfollow":e.unfollowBlogForBlog({targetBlogId:s,sourceBlogId:r}).done(d).fail(c);break;case"block":e.blogBlock({blocked:s,blocking:r}).done(d).fail(c);break;case"unblock":e.blogUnblock({blocked:s,blocking:r}).done(d).fail(c)}},getBlogs:function(e){e=e||{};var n=this,s=this.get("defaultBlogId"),o=this.get("membership").filter(function(t){return!e.filterForAuthorship||n.conformsTo(t.get("role"),"AUTHOR")}),i=t(o).map(function(e){return e.get("blog")});return t.filter(i,function(t){return"DISABLED"!==t.status&&!(e.filterForGroupBlogs&&t.id===s)})},hasBlog:function(n){var e,t=this.get("membership");for(e=0;e<t.length;e++)if(t.models[e].get("blogId")===n)return!0;return!1},hasRemote:function(e){return this.has("remotes")&&void 0!==this.get("remotes")[e]},isLoggedInWithRemote:function(e){return this.get("authName")===e},isBurner:function(){return"burner"===this.get("authName")},isSuperUser:function(){return this.get("isSuperUser")===!0},register:function(){return e.setScreenName(this.attributes)}});return r}),define("app/account/account.channel",["backbone","underscore"],function(e,t){"use strict";return t.extend({},e.Events)}),define("apiclient/authentication",["config","apiclient/apirequest","apiclient/gettoken"],function(e,t,n){"use strict";var s;return s={getToken:t.postJson(e.api.profile.secureUrl+"/token/create",{},{xhrFields:{withCredentials:!0}}),logout:t.postJson(e.api.profile.secureUrl+"/session/logout",{},{xhrFields:{withCredentials:!0}}),redirectLogout:function(){window.location.href=e.api.profile.secureUrl+"/session/logout?url="+window.location.href},fetchState:t.getJsonp(e.api.profile.secureUrl+"/accountwithtoken"),burnerLogin:t.postJson(e.api.profile.secureUrl+"/session/burnerLogin",{},{xhrFields:{withCredentials:!0}}),burnerCheck:t.getJson(e.api.profile.url+"/session/views/burnerCheck?screenName={{screenName}}"),burnerRegister:t.postJson(e.api.profile.secureUrl+"/session/burnerRegister",{},{xhrFields:{withCredentials:!0}}),disconnect:t.postJson(n.append(e.api.profile.secureUrl+"/session/disconnect",n.secure)),withToken:function(e,t){return n.append(e,t?n.secure:n.fresh).call(this)}}}),define("model/user/LoginUser",["jquery","underscore","model/user/User","app/account/account.channel","apiclient/authentication","singleton/Feature","lib/jquery.cookie"],function(e,o,t,i,n,s){"use strict";var a=t.extend({ERROR_CODE_TOKEN_REFRESH_FAILED:"tokenRefreshFailed",_hasSession:!1,_loggedIn:!1,defaults:o.extend({},t.prototype.defaults),onAuth:e.Deferred(),onLogin:e.Deferred(),onLoggedIn:e.Deferred(),onAuthStateChange:function(e){this.onAuth.done(function(){this.isLoggedIn()||e()}.bind(this)),this.onLoggedIn.done(e)},_oldId:"",initialize:function(){this.on("authenticated",function(){this.onAuth.resolve(),this.isLoggedIn()?(this.setUserCookie("kinjaads.displayName",window.escape(this.get("displayName"))),this.setUserCookie("kinjaads.isBurner",this.isBurner()),this.onLoggedIn.resolve()):(this.setUserCookie("kinjaads.displayName",null),this.setUserCookie("kinjaads.isBurner",null))},this)},sync:function(t,s,e){return n.fetchState({},e)},requireLogin:function(n){var s,o=this,t=e.Deferred();return this.isLoggedIn()?t.resolve():(this.listenToOnce(this,"authenticated",function(){o.isLoggedIn()?t.resolve():t.reject()}),s=void 0!==n?{source:n}:void 0,i.trigger("loginRequired",s)),t.promise()},setUserCookie:function(t,n){null===n?e.removeCookie(t,{path:"/"}):e.cookie(t,n,{path:"/"})},setTokenCookie:function(t){e.cookie("KinjaToken",t,{path:"/",expires:new Date((new Date).getTime()+33e5)})},token:function(){var t=e.Deferred();return n.getToken().done(function(e){this.setTokenCookie(e.token),this.set({token:e.token}),t.resolve(e.token)}.bind(this)).fail(function(e){t.reject({meta:e})}),t.promise()},validToken:function(){var t=e.Deferred(),n=this.token(),s=this.ERROR_CODE_TOKEN_REFRESH_FAILED;return n.fail(t.reject).done(function(e){0===e.indexOf("dummy")?t.reject({meta:s}):t.resolve(e)}),t},getTokenAndAccountState:function(){var e=this;return this.fetch().done(function(t){e.setTokenCookie(t.token.token),e.handleAuthentication(e)}).fail(function(t){e.handleAuthentication(e,{meta:t})})},logout:function(){n.redirectLogout()},load:function(o,a){var i,t=this,n=a||new e.Deferred;return-1===window.location.search.indexOf("nosso=1")&&void 0===window.KINJA_NO_SSO?void 0!==o?(t.set(t.parse(o),{silent:!0}),t.setTokenCookie(o.data.token.token),t.set({token:t.get("token")},{silent:!0}),t.handleAuthentication(t,o),n.resolve()):s.isOn("fasttoken")?(i=window._fasttoken,window._fasttoken=function(e){s.isOn("frontendtiming")&&window.markUserTime("currentuser_fasttoken_slow_branch"),s.isOn("fasttoken2")&&i(e),this.load(e,n)}.bind(this)):this.getTokenAndAccountState().done(function(){n.resolve()}).fail(function(){n.reject()}):(-1===window.location.search.indexOf("nosso=1")&&this.handleAuthentication(t,void 0),n.resolve()),n.promise()},parse:function(e){var n;return n=e.data&&e.data.accountState&&e.data.token.token?o.extend({},e.data.accountState,{token:e.data.token.token}):e.data?e.data:{},t.prototype.parse.call(this,{data:n})},handleAuthentication:function(e,n){var s=e.hasIncompleteRegistration(),t=n&&n.meta&&n.meta.error,o=e.get("id"),i=e._oldId;if(o!==i&&(e._oldId=o,e.trigger("changeIdentity")),e._hasSession=!0,e._loggedIn=!!e.id&&!s,e.updateMembership(),e.trigger("authenticated",e),s)if(t&&t.code){if("ILLEGAL_SCREEN_NAME"!==t.code)throw new Error("Invalid error code: "+t.code+"["+typeof t.code+"]");e.trigger("incompleteRegistration",{model:e,error:t})}else e.trigger("incompleteRegistration",{model:e,error:{code:"INCOMPLETE_REGISTRATION"}})},hasIncompleteRegistration:function(){return"incomplete"===this.get("status")||""===this.get("displayName")},hasSession:function(){return this._hasSession},isLoggedIn:function(){return this._loggedIn},isSuperuser:function(){return this.isLoggedIn&&this.get("isSuperUser")===!0},isSalesperson:function(){return this.isLoggedIn()&&this.hasPermission("SALES")},clearNotifications:function(){this.trigger("clearNotifications")},get:function(n){var s;return s="token"===n?e.cookie("KinjaToken")||t.prototype.get.apply(this,arguments):t.prototype.get.apply(this,arguments)},has:function(n){var s;return s="token"===n?!!e.cookie("KinjaToken"):t.prototype.has.apply(this,arguments)}});return a}),define("singleton/CurrentUser",["model/user/LoginUser"],function(e){"use strict";var t=new e;return t}),define("singleton/CurrentBlog",["jquery","underscore","singleton/Utils","apiclient/profile"],function(n,s,o,i){"use strict";var t=o.getKinjaMeta(),e=t.blog||{};return e.language=(e.locale||"en").substring(0,2),e.blogSales=t.blogSales||{},e.defaultAdSiteName="gm."+e.name,e.defaultAdNetworkId=4246,e.followedBlogIds=[],e.getFollowedBlogIds=s.once(function(){var t=n.Deferred();return i.getFollowedBlogIds({blogId:e.id}).done(function(n){e.followedBlogIds=n,t.resolve(e.followedBlogIds)}),t}),e}),define("singleton/RavenConfig",["singleton/CurrentUser","singleton/CurrentBlog","singleton/Utils"],function(e,t,n){"use strict";function s(){var s,o=n.getKinjaMeta().blogOwner,i=t.id,a=o&&e.id===o.id;return e.isSuperuser()?s="superuser":a?s="owner":e.hasRole("ADMIN",i)?s="admin":e.hasRole("AUTHOR",i)&&(s="author"),s}function o(t){e.onLoggedIn.done(function(){var n={logged_in:!0},o=s();o&&(n.role=o),t.setTagsContext(n),e.isBurner()||t.setUserContext({id:e.id,username:e.get("displayName"),email:e.id+"@kinja.com"})})}function i(){require(["module/Raven"],o)}return{init:i}}),function(h){function y(e,t,n){switch(arguments.length){case 2:return e??t;case 3:return e??t??n;default:throw new Error("Implement me")}}function g(e,t){return ev.call(e,t)}function N(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function W(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function a(n,e){var t=!0;return p(function(){return t&&(W(n),t=!1),e.apply(this,arguments)},e)}function tr(e,t){$[e]||(W(t),$[e]=!0)}function q(e,t){return function(s){return n(e.call(this,s),t)}}function eX(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function Q(){}function A(e,t){t!==!1&&e6(e),en(this,e),this._d=new Date(+e._d)}function M(n){var t=e1(n),s=t.year||0,o=t.quarter||0,i=t.month||0,a=t.week||0,r=t.day||0,c=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*c,this._days=+r+7*a,this._months=+i+3*o+12*s,this._data={},this._locale=e.localeData(),this._bubble()}function p(t,e){for(var n in e)g(e,n)&&(t[n]=e[n]);return g(e,"toString")&&(t.toString=e.toString),g(e,"valueOf")&&(t.valueOf=e.valueOf),t}function en(t,e){var n,s,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),x.length>0)for(o in x)n=x[o],s=e[n],"undefined"!=typeof s&&(t[n]=s);return t}function i(e){return 0>e?Math.ceil(e):Math.floor(e)}function n(t,n,s){for(var e=""+Math.abs(t),o=t>=0;e.length<n;)e="0"+e;return(o?s?"+":"":"-")+e}function es(t,n){var e={milliseconds:0,months:0};return e.months=n.month()-t.month()+12*(n.year()-t.year()),t.clone().add(e.months,"M").isAfter(n)&&--e.months,e.milliseconds=+n-+t.clone().add(e.months,"M"),e}function ex(n,t){var e;return t=k(t,n),n.isBefore(t)?e=es(n,t):(e=es(t,n),e.milliseconds=-e.milliseconds,e.months=-e.months),e}function ea(n,t){return function(s,o){var i,a;return null===o||isNaN(+o)||(tr(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),a=s,s=o,o=a),s="string"==typeof s?+s:s,i=e.duration(s,o),er(this,i,n),this}}function er(t,s,o,n){var r=s._milliseconds,i=s._days,a=s._months;n=n??!0,r&&t._d.setTime(+t._d+r*o),i&&e4(t,"Date",D(t,"Date")+i*o),a&&eu(t,D(t,"Month")+a*o),n&&e.updateOffset(t,i||a)}function E(e){return"[object Array]"===Object.prototype.toString.call(e)}function e_(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function ec(n,s,o){var e,a=Math.min(n.length,s.length),r=Math.abs(n.length-s.length),i=0;for(e=0;a>e;e++)(o&&n[e]!==s[e]||!o&&t(n[e])!==t(s[e]))&&i++;return i+r}function o(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=eJ[e]||te[t]||t}return e}function e1(t){var e,n,s={};for(e in t)g(t,e)&&(n=o(e),n&&(s[n]=t[e]));return s}function eb(t){var n,s;if(0===t.indexOf("week"))n=7,s="day";else{if(0!==t.indexOf("month"))return;n=12,s="month"}e[t]=function(o,a){var i,r,l=e._locale[t],c=[];if("number"==typeof o&&(a=o,o=h),r=function(t){var n=e().utc().set(s,t);return l.call(e._locale,n,o||"")},null!=a)return r(a);for(i=0;n>i;i++)c.push(r(i));return c}}function t(n){var e=+n,t=0;return 0!==e&&isFinite(e)&&(t=e>=0?Math.floor(e):Math.ceil(e)),t}function L(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function eh(s,t,n){return v(e([s,11,31+t-n]),t,n).week}function ep(e){return eg(e)?366:365}function eg(e){return e%4===0&&e%100!==0||e%400===0}function e6(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[d]<0||e._a[d]>11?d:e._a[r]<1||e._a[r]>L(e._a[l],e._a[d])?r:e._a[m]<0||e._a[m]>23?m:e._a[w]<0||e._a[w]>59?w:e._a[_]<0||e._a[_]>59?_:e._a[O]<0||e._a[O]>999?O:-1,e._pf._overflowDayOfYear&&(l>t||t>r)&&(t=r),e._pf.overflow=t)}function e8(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function e0(e){return e&&e.toLowerCase().replace("_","-")}function ej(o){for(var e,t,n,i,s=0;s<o.length;){for(n=e0(o[s]).split("-"),t=n.length,e=e0(o[s+1]),e=e?e.split("-"):null;t>0;){if(i=el(n.slice(0,t).join("-")))return i;if(e&&e.length>=t&&ec(n,e,!0)>=t-1)break;t--}s++}return null}function el(t){var n=null;if(!b[t]&&ei)try{n=e.locale(),require("./locale/"+t),e.locale(n)}catch(e){}return b[t]}function k(t,n){return n._isUTC?e(t).zone(n._offset||0):e(t).local()}function ew(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function eM(s){var e,n,t=s.match(eo);for(e=0,n=t.length;n>e;e++)t[e]=u[t[e]]?u[t[e]]:ew(t[e]);return function(i){var o="";for(e=0;n>e;e++)o+=t[e]instanceof Function?t[e].call(i,s):t[e];return o}}function H(t,e){return t.isValid()?(e=Y(e,t.localeData()),z[e]||(z[e]=eM(e)),z[e](t)):t.localeData().invalidDate()}function Y(e,n){function s(e){return n.longDateFormat(e)||e}var t=5;for(C.lastIndex=0;t>=0&&C.test(e);)e=e.replace(C,s),C.lastIndex=0,t-=1;return e}function to(t,n){var s,e=n._strict;switch(t){case"Q":return e7;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return e?eW:ez;case"Y":case"G":case"g":return eF;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return e?eU:eD;case"S":if(e)return e7;case"SS":if(e)return et;case"SSS":if(e)return ee;case"DDD":return eT;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return eL;case"a":case"A":return n._locale._meridiemParse;case"X":return eH;case"Z":case"ZZ":return R;case"T":return eP;case"SSSS":return eN;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return e?et:X;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return X;case"Do":return eI;default:return s=new RegExp(eQ(eZ(t.replace("\\","")),"i"))}}function e5(e){e=e||"";var s=e.match(R)||[],i=s[s.length-1]||[],n=(i+"").match(eB)||["-",0,0],o=+(60*n[1])+t(n[2]);return"+"===n[0]?-o:o}function ta(i,n,s){var a,o=s._a;switch(i){case"Q":null!=n&&(o[d]=3*(t(n)-1));break;case"M":case"MM":null!=n&&(o[d]=t(n)-1);break;case"MMM":case"MMMM":a=s._locale.monthsParse(n),null!=a?o[d]=a:s._pf.invalidMonth=n;break;case"D":case"DD":null!=n&&(o[r]=t(n));break;case"Do":null!=n&&(o[r]=t(parseInt(n,10)));break;case"DDD":case"DDDD":null!=n&&(s._dayOfYear=t(n));break;case"YY":o[l]=e.parseTwoDigitYear(n);break;case"YYYY":case"YYYYY":case"YYYYYY":o[l]=t(n);break;case"a":case"A":s._isPm=s._locale.isPM(n);break;case"H":case"HH":case"h":case"hh":o[m]=t(n);break;case"m":case"mm":o[w]=t(n);break;case"s":case"ss":o[_]=t(n);break;case"S":case"SS":case"SSS":case"SSSS":o[O]=t(1e3*("0."+n));break;case"X":s._d=new Date(1e3*parseFloat(n));break;case"Z":case"ZZ":s._useUTC=!0,s._tzm=e5(n);break;case"dd":case"ddd":case"dddd":a=s._locale.weekdaysParse(n),null!=a?(s._w=s._w||{},s._w.d=a):s._pf.invalidWeekday=n;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":i=i.substr(0,1);case"gggg":case"GGGG":case"GGGGG":i=i.substr(0,2),n&&(s._w=s._w||{},s._w[i]=t(n));break;case"gg":case"GG":s._w=s._w||{},s._w[i]=e.parseTwoDigitYear(n)}}function ti(n){var s,o,i,a,r,c,t=n._w;null!=t.GG||null!=t.W||null!=t.E?(s=1,a=4,r=y(t.GG,n._a[l],v(e(),1,4).year),i=y(t.W,1),o=y(t.E,1)):(s=n._locale._week.dow,a=n._locale._week.doy,r=y(t.gg,n._a[l],v(e(),s,a).year),i=y(t.w,1),null!=t.d?(o=t.d,s>o&&++i):o=null!=t.e?t.e+s:s),c=ey(r,i,o,a,s),n._a[l]=c.year,n._dayOfYear=c.dayOfYear}function S(e){var t,n,s,o,i=[];if(!e._d){for(s=tt(e),e._w&&null==e._a[r]&&null==e._a[d]&&ti(e),e._dayOfYear&&(o=y(e._a[l],s[l]),e._dayOfYear>ep(o)&&(e._pf._overflowDayOfYear=!0),n=P(o,0,e._dayOfYear),e._a[d]=n.getUTCMonth(),e._a[r]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=i[t]=s[t];for(;7>t;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];e._d=(e._useUTC?P:eR).apply(null,i),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function ts(t){var e;t._d||(e=e1(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],S(t))}function tt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function B(t){if(t._f===e.ISO_8601)return void Z(t);t._a=[],t._pf.empty=!0;var n,o,i,a,r,s=""+t._i,l=s.length,c=0;for(a=Y(t._f,t._locale).match(eo)||[],i=0;i<a.length;i++)o=a[i],n=(s.match(to(o,t))||[])[0],n&&(r=s.substr(0,s.indexOf(n)),r.length>0&&t._pf.unusedInput.push(r),s=s.slice(s.indexOf(n)+n.length),c+=n.length),u[o]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(o),ta(o,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=l-c,s.length>0&&t._pf.unusedInput.push(s),t._isPm&&t._a[m]<12&&(t._a[m]+=12),t._isPm===!1&&12===t._a[m]&&(t._a[m]=0),S(t),e6(t)}function eZ(e){return e.replace(/\\(\[)|\\(\])|\[([^\][]*)\]|\\(.)/g,function(o,e,t,n,s){return e||t||n||s})}function eQ(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function eG(t){var e,n,s,o,i;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)n=0,e=en({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=N(),e._f=t._f[s],B(e),e8(e)&&(n+=e._pf.charsLeftOver,n+=10*e._pf.unusedTokens.length,e._pf.score=n,(null==o||o>n)&&(o=n,i=e));p(t,i||e)}function Z(t){var e,n,s=t._i,o=eq.exec(s);if(o){for(t._pf.iso=!0,e=0,n=F.length;n>e;e++)if(F[e][1].exec(s)){t._f=F[e][0]+(o[6]||" ");break}for(e=0,n=T.length;n>e;e++)if(T[e][1].exec(s)){t._f+=T[e][0];break}s.match(R)&&(t._f+="Z"),B(t)}else t._isValid=!1}function eK(t){Z(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))}function e$(t,s){var e,n=[];for(e=0;e<t.length;++e)n.push(s(t[e],e));return n}function eV(t){var s,n=t._i;n===h?t._d=new Date:e_(n)?t._d=new Date(+n):null!==(s=eE.exec(n))?t._d=new Date(+s[1]):"string"==typeof n?eK(t):E(n)?(t._a=e$(n.slice(0),function(e){return parseInt(e,10)}),S(t)):"object"==typeof n?ts(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function eR(e,r,n,s,o,i,a){var t=new Date(e,r,n,s,o,i,a);return 1970>e&&t.setFullYear(e),t}function P(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function eS(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function eC(e,t,n,s,o){return o.relativeTime(t||1,!!n,e,s)}function eO(r,d,u){var t=e.duration(r).abs(),l=j(t.as("s")),a=j(t.as("m")),s=j(t.as("h")),o=j(t.as("d")),i=j(t.as("M")),c=j(t.as("y")),n=l<f.s&&["s",l]||1===a&&["m"]||a<f.m&&["mm",a]||1===s&&["h"]||s<f.h&&["hh",s]||1===o&&["d"]||o<f.d&&["dd",o]||1===i&&["M"]||i<f.M&&["MM",i]||1===c&&["y"]||["yy",c];return n[2]=d,n[3]=+r>0,n[4]=u,eC.apply({},n)}function v(s,a,o){var n,i=o-a,t=o-s.day();return t>i&&(t-=7),i-7>t&&(t+=7),n=e(s).add(t,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function ey(o,r,n,a,s){var t,i,e=P(o,0,1).getUTCDay();return e=0===e?7:e,n=n??s,i=s-e+(e>a?7:0)-(s>e?7:0),t=7*(r-1)+(n-s)+i+1,{year:t>0?o:o-1,dayOfYear:t>0?t:ep(o-1)+t}}function V(t){var n=t._i,s=t._f;return t._locale=t._locale||e.localeData(t._l),null===n||s===h&&""===n?e.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),e.isMoment(n)?new A(n,!0):(s?E(s)?eG(t):B(t):eV(t),new A(t)))}function ed(o,t){var n,s;if(1===t.length&&E(t[0])&&(t=t[0]),!t.length)return e();for(s=t[0],n=1;n<t.length;++n)t[n][o](s)&&(s=t[n]);return s}function eu(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),L(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function D(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function e4(e,t,n){return"Month"===t?eu(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function c(t,n){return function(s){return null!=s?(e4(this,t,s),e.updateOffset(this,n),this):D(this,t)}}function e2(e){return 400*e/146097}function e3(e){return 146097*e/400}function e9(t){e.duration.fn[t]=function(){return this._data[t]}}function em(t){"undefined"==typeof ender&&(ef=I.moment,I.moment=t?a("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",e):e)}for(var e,s,ef,tn="2.8.3",I="undefined"!=typeof global?global:this,j=Math.round,ev=Object.prototype.hasOwnProperty,l=0,d=1,r=2,m=3,w=4,_=5,O=6,b={},x=[],ei="undefined"!=typeof module&&module.exports,eE=/^\/?Date\((-?\d+)/i,ek=/(-)?(?:(\d*)\.)?(\d+):(\d+)(?::(\d+)\.?(\d{3})?)?/,eA=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,eo=/(\[[^[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,C=/(\[[^[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,X=/\d\d?/,eT=/\d{1,3}/,ez=/\d{1,4}/,eD=/[+-]?\d{1,6}/,eN=/\d+/,eL=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,R=/Z|[+-]\d\d:?\d\d/gi,eP=/T/i,eH=/[+-]?\d+(\.\d{1,3})?/,eI=/\d{1,2}/,e7=/\d/,et=/\d\d/,ee=/\d{3}/,eW=/\d{4}/,eU=/[+-]?\d{6}/,eF=/[+-]?\d+/,eq=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eY="YYYY-MM-DDTHH:mm:ssZ",F=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],T=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],eB=/([+-]|\d\d)/gi,G=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),eJ={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},te={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},z={},f={s:45,m:45,h:22,d:26,M:11},K="DDD w W M D d".split(" "),U="M D H h m s w W".split(" "),u={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return n(this.year()%100,2)},YYYY:function(){return n(this.year(),4)},YYYYY:function(){return n(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+n(Math.abs(e),6)},gg:function(){return n(this.weekYear()%100,2)},gggg:function(){return n(this.weekYear(),4)},ggggg:function(){return n(this.weekYear(),5)},GG:function(){return n(this.isoWeekYear()%100,2)},GGGG:function(){return n(this.isoWeekYear(),4)},GGGGG:function(){return n(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return t(this.milliseconds()/100)},SS:function(){return n(t(this.milliseconds()/10),2)},SSS:function(){return n(this.milliseconds(),3)},SSSS:function(){return n(this.milliseconds(),3)},Z:function(){var e=-this.zone(),s="+";return 0>e&&(e=-e,s="-"),s+n(t(e/60),2)+":"+n(t(e)%60,2)},ZZ:function(){var e=-this.zone(),s="+";return 0>e&&(e=-e,s="-"),s+n(t(e/60),2)+n(t(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},$={},J=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];K.length;)s=K.pop(),u[s+"o"]=eX(u[s],s);for(;U.length;)s=U.pop(),u[s+s]=q(u[s],2);u.DDDD=q(u.DDD,3),p(Q.prototype,{set:function(n){var e,t;for(t in n)e=n[t],"function"==typeof e?this[t]=e:this["_"+t]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(o){var t,n,s;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=e.utc([2e3,t]),s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(s.replace(".",""),"i")),this._monthsParse[t].test(o))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(o){var t,n,s;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=e([2e3,1]).day(t),s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[t].test(o))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,n,e){return t>11?e?"pm":"PM":e?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,n){var e=this._calendar[t];return"function"==typeof e?e.apply(n):e},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,s,n,o){var e=this._relativeTime[n];return"function"==typeof e?e(t,s,n,o):e.replace(/%d/i,t)},pastFuture:function(n,t){var e=this._relativeTime[n>0?"future":"past"];return"function"==typeof e?e(t):e.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return v(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),e=function(s,o,t,n){var e;return"boolean"==typeof t&&(n=t,t=h),e={},e._isAMomentObject=!0,e._i=s,e._f=o,e._l=t,e._strict=n,e._isUTC=!1,e._pf=N(),V(e)},e.suppressDeprecationWarnings=!1,e.createFromInputFallback=a("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),e.min=function(){var e=[].slice.call(arguments,0);return ed("isBefore",e)},e.max=function(){var e=[].slice.call(arguments,0);return ed("isAfter",e)},e.utc=function(s,o,t,n){var e;return"boolean"==typeof t&&(n=t,t=h),e={},e._isAMomentObject=!0,e._useUTC=!0,e._isUTC=!0,e._l=t,e._i=s,e._f=o,e._strict=n,e._pf=N(),V(e).utc()},e.unix=function(t){return e(1e3*t)},e.duration=function(o,d){var i,a,c,l,s=o,n=null;return e.isDuration(o)?s={ms:o._milliseconds,d:o._days,M:o._months}:"number"==typeof o?(s={},d?s[d]=o:s.milliseconds=o):(n=ek.exec(o))?(i="-"===n[1]?-1:1,s={y:0,d:t(n[r])*i,h:t(n[m])*i,m:t(n[w])*i,s:t(n[_])*i,ms:t(n[O])*i}):(n=eA.exec(o))?(i="-"===n[1]?-1:1,a=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},s={y:a(n[2]),M:a(n[3]),d:a(n[4]),h:a(n[5]),m:a(n[6]),s:a(n[7]),w:a(n[8])}):"object"==typeof s&&("from"in s||"to"in s)&&(l=ex(e(s.from),e(s.to)),s={},s.ms=l.milliseconds,s.M=l.months),c=new M(s),e.isDuration(o)&&g(o,"_locale")&&(c._locale=o._locale),c},e.version=tn,e.defaultFormat=eY,e.ISO_8601=function(){},e.momentProperties=x,e.updateOffset=function(){},e.relativeTimeThreshold=function(e,t){return f[e]!==h&&(t===h?f[e]:(f[e]=t,!0))},e.lang=a("moment.lang is deprecated. Use moment.locale instead.",function(t,n){return e.locale(t,n)}),e.locale=function(t,s){var n;return t&&(n="undefined"!=typeof s?e.defineLocale(t,s):e.localeData(t),n&&(e.duration._locale=e._locale=n)),e._locale._abbr},e.defineLocale=function(t,n){return null!==n?(n.abbr=t,b[t]||(b[t]=new Q),b[t].set(n),e.locale(t),b[t]):(delete b[t],null)},e.langData=a("moment.langData is deprecated. Use moment.localeData instead.",function(t){return e.localeData(t)}),e.localeData=function(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return e._locale;if(!E(t)){if(n=el(t))return n;t=[t]}return ej(t)},e.isMoment=function(e){return e instanceof A||null!=e&&g(e,"_isAMomentObject")},e.isDuration=function(e){return e instanceof M};for(s=J.length-1;s>=0;--s)eb(J[s]);e.normalizeUnits=function(e){return o(e)},e.invalid=function(n){var t=e.utc(NaN);return null!=n?p(t._pf,n):t._pf.userInvalidated=!0,t},e.parseZone=function(){return e.apply(null,arguments).parseZone()},e.parseTwoDigitYear=function(e){return t(e)+(t(e)>68?1900:2e3)},p(e.fn=A.prototype,{clone:function(){return e(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=e(this).utc();return 0<t.year()&&t.year()<=9999?H(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return e8(this)},isDSTShifted:function(){return!!this._a&&this.isValid()&&ec(this._a,(this._isUTC?e.utc(this._a):e(this._a)).toArray())>0},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var n=H(this,t||e.defaultFormat);return this.localeData().postformat(n)},add:ea(1,"add"),subtract:ea(-1,"subtract"),diff:function(d,t,l){var s,a,r,n=k(d,this),c=6e4*(this.zone()-n.zone());return t=o(t),"year"===t||"month"===t?(s=432e5*(this.daysInMonth()+n.daysInMonth()),a=12*(this.year()-n.year())+(this.month()-n.month()),r=this-e(this).startOf("month")-(n-e(n).startOf("month")),r-=6e4*(this.zone()-e(this).startOf("month").zone()-(n.zone()-e(n).startOf("month").zone())),a+=r/s,"year"===t&&(a/=12)):(s=this-n,a="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-c)/864e5:"week"===t?(s-c)/6048e5:s),l?a:i(a)},from:function(t,n){return e.duration({to:this,from:t}).locale(this.locale()).humanize(!n)},fromNow:function(t){return this.from(e(),t)},calendar:function(n){var s=n||e(),o=k(s,this).startOf("day"),t=this.diff(o,"days",!0),i=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this))},isLeapYear:function(){return eg(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=eS(e,this.localeData()),this.add(e-t,"d")):t},month:c("Month",!0),startOf:function(e){switch(e=o(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=o(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,n){return n=o("undefined"!=typeof n?n:"millisecond"),"millisecond"===n?(t=e.isMoment(t)?t:e(t),+this>+t):+this.clone().startOf(n)>+e(t).startOf(n)},isBefore:function(t,n){return n=o("undefined"!=typeof n?n:"millisecond"),"millisecond"===n?(t=e.isMoment(t)?t:e(t),+t>+this):+this.clone().startOf(n)<+e(t).startOf(n)},isSame:function(t,n){return n=o(n||"millisecond"),"millisecond"===n?(t=e.isMoment(t)?t:e(t),+this===+t):+this.clone().startOf(n)===+k(t,this).startOf(n)},min:a("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=e.apply(null,arguments),this>t?this:t}),max:a("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=e.apply(null,arguments),t>this?this:t}),zone:function(t,o){var n,s=this._offset||0;return null==t?this._isUTC?s:this._dateTzOffset():("string"==typeof t&&(t=e5(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&o&&(n=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.subtract(n,"m"),s!==t&&(!o||this._changeInProgress?er(this,e.duration(s-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?e(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return L(this.year(),this.month())},dayOfYear:function(t){var n=j((e(this).startOf("day")-e(this).startOf("year"))/864e5)+1;return null==t?n:this.add(t-n,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=v(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=v(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=v(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return eh(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return eh(this.year(),e.dow,e.doy)},get:function(e){return e=o(e),this[e]()},set:function(e,t){return e=o(e),"function"==typeof this[e]&&this[e](t),this},locale:function(n){var t;return n===h?this._locale._abbr:(t=e.localeData(n),null!=t&&(this._locale=t),this)},lang:a("moment().lang() is deprecated. Use moment().localeData() instead.",function(e){return e===h?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),e.fn.millisecond=e.fn.milliseconds=c("Milliseconds",!1),e.fn.second=e.fn.seconds=c("Seconds",!1),e.fn.minute=e.fn.minutes=c("Minutes",!1),e.fn.hour=e.fn.hours=c("Hours",!0),e.fn.date=c("Date",!0),e.fn.dates=a("dates accessor is deprecated. Use date instead.",c("Date",!0)),e.fn.year=c("FullYear",!0),e.fn.years=a("years accessor is deprecated. Use year instead.",c("FullYear",!0)),e.fn.days=e.fn.day,e.fn.months=e.fn.month,e.fn.weeks=e.fn.week,e.fn.isoWeeks=e.fn.isoWeek,e.fn.quarters=e.fn.quarter,e.fn.toJSON=e.fn.toISOString,p(e.duration.fn=M.prototype,{_bubble:function(){var o,a,r,c=this._milliseconds,t=this._days,s=this._months,e=this._data,n=0;e.milliseconds=c%1e3,a=i(c/1e3),e.seconds=a%60,r=i(a/60),e.minutes=r%60,o=i(r/60),e.hours=o%24,t+=i(o/24),n=i(e2(t)),t-=i(e3(n)),s+=i(t/30),t%=30,n+=i(s/12),s%=12,e.days=t,e.months=s,e.years=n},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return i(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*t(this._months/12)},humanize:function(t){var e=eO(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(n,s){var t=e.duration(n,s);return this._milliseconds+=t._milliseconds,this._days+=t._days,this._months+=t._months,this._bubble(),this},subtract:function(n,s){var t=e.duration(n,s);return this._milliseconds-=t._milliseconds,this._days-=t._days,this._months-=t._months,this._bubble(),this},get:function(e){return e=o(e),this[e.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=o(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*e2(e),"month"===t?n:n/12;switch(e=this._days+e3(this._months/12),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:e.fn.lang,locale:e.fn.locale,toIsoString:a("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var s=Math.abs(this.years()),o=Math.abs(this.months()),i=Math.abs(this.days()),e=Math.abs(this.hours()),t=Math.abs(this.minutes()),n=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(s?s+"Y":"")+(o?o+"M":"")+(i?i+"D":"")+(e||t||n?"T":"")+(e?e+"H":"")+(t?t+"M":"")+(n?n+"S":""):"P0D"},localeData:function(){return this._locale}}),e.duration.fn.toString=e.duration.fn.toISOString;for(s in G)g(G,s)&&e9(s.toLowerCase());e.duration.fn.asMilliseconds=function(){return this.as("ms")},e.duration.fn.asSeconds=function(){return this.as("s")},e.duration.fn.asMinutes=function(){return this.as("m")},e.duration.fn.asHours=function(){return this.as("h")},e.duration.fn.asDays=function(){return this.as("d")},e.duration.fn.asWeeks=function(){return this.as("weeks")},e.duration.fn.asMonths=function(){return this.as("M")},e.duration.fn.asYears=function(){return this.as("y")},e.locale("en",{ordinal:function(e){var n=e%10,s=1===t(e%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th";return e+s}}),ei?module.exports=e:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(n,s,t){return t.config&&t.config()&&t.config().noGlobal===!0&&(I.moment=ef),e}),em(!0)):em()}.call(this),function(t,e){"use strict";"function"==typeof define&&define.amd?define("moment-timezone",["moment"],e):"object"==typeof exports?module.exports=e(require("moment")):e(t.moment)}(this,function(t){"use strict";function v(e){return e>96?e-87:e>64?e-29:e-48}function y(s){var t,e=0,o=s.split("."),i=o[0],a=o[1]||"",r=1,n=0,c=1;for(45===s.charCodeAt(0)&&(e=1,c=-1),e;e<i.length;e++)t=v(i.charCodeAt(e)),n=60*n+t;for(e=0;e<a.length;e++)r/=60,t=v(a.charCodeAt(e)),n+=t*r;return n*c}function l(t){for(var e=0;e<t.length;e++)t[e]=y(t[e])}function C(t,n){for(var e=0;n>e;e++)t[e]=Math.round((t[e-1]||0)+6e4*t[e]);t[n-1]=1/0}function p(s,t){var e,n=[];for(e=0;e<t.length;e++)n[e]=s[t[e]];return n}function w(o){var e=o.split("|"),s=e[2].split(" "),t=e[3].split(""),n=e[4].split(" ");return l(s),l(t),l(n),C(n,t.length),{name:e[0],abbrs:p(e[1].split(" "),t),offsets:p(s,t),untils:n}}function a(e){e&&this._set(w(e))}function r(e){return(e||"").toLowerCase().replace(/\//g,"_")}function j(e){var t,s,o;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)s=new a(e[t]),o=r(s.name),n[o]=s,k(o)}function c(e){return n[r(e)]||null}function S(){var e,t=[];for(e in n)n.hasOwnProperty(e)&&n[e]&&t.push(n[e].name);return t.sort()}function f(e){var t,n;for("string"==typeof e&&(e=[e]),n=0;n<e.length;n++)t=e[n].split("|"),O(t[0],t[1]),O(t[1],t[0])}function k(e){if(o[e]){var t,i=n[e],s=o[e];for(t=0;t<s.length;t++)h(i,s[t]);o[e]=null}}function h(s,e){var t=n[r(e)]=new a;t._set(s),t.name=e}function O(e,t){e=r(e),n[e]?h(n[e],t):(o[e]=o[e]||[],o[e].push(t))}function E(t){j(t.zones),f(t.links),e.dataVersion=t.version}function u(e){return u.didShowError||(u.didShowError=!0,d("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!c(e)}function b(e){return!!e._a&&void 0===e._tzm}function d(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function e(){var o=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],s=c(n),e=t.utc.apply(null,o);return s&&b(e)&&e.add(s.parse(e),"minutes"),e.tz(n),e}function _(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function M(e){return function(){return this._z=null,e.apply(this,arguments)}}if(void 0!==t.tz)return t;var s,i,x="0.2.2",n={},o={},g=t.version.split("."),m=+g[0],A=+g[1];return(2>m||2===m&&6>A)&&d("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+t.version+". See momentjs.com"),a.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets},_index:function(n){var e,s=+n,t=this.untils;for(e=0;e<t.length;e++)if(s<t[e])return e},parse:function(l){var t,n,o,i,c=+l,s=this.offsets,a=this.untils,r=a.length-1;for(t=0;r>t;t++)if(n=s[t],o=s[t+1],i=s[t&&t-1],o>n&&e.moveAmbiguousForward?n=o:n>i&&e.moveInvalidForward&&(n=i),c<a[t]-6e4*n)return s[t];return s[r]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},e.version=x,e.dataVersion="",e._zones=n,e._links=o,e.add=j,e.link=f,e.load=E,e.zone=c,e.zoneExists=u,e.names=S,e.Zone=a,e.unpack=w,e.unpackBase60=y,e.needsOffset=b,e.moveInvalidForward=!0,e.moveAmbiguousForward=!1,s=t.fn,t.tz=e,t.updateOffset=function(e,n){var t;e._z&&(t=e._z.offset(e),Math.abs(t)<16&&(t/=60),e.zone(t,n))},s.tz=function(e){return e?(this._z=c(e),this._z?t.updateOffset(this):d("Moment Timezone has no data for "+e+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},s.zoneName=_(s.zoneName),s.zoneAbbr=_(s.zoneAbbr),s.utc=M(s.utc),i=t.momentProperties,"[object Array]"===Object.prototype.toString.call(i)?(i.push("_z"),i.push("_a")):i&&(i._z=null),t}),define("lib/amd-wrapped/momentjs/moment-jdateformatparser",["moment"],function(e){(function(){var t={},n={},i={d:"D",dd:"DD",yy:"YY",yyyy:"YYYY",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"SSS",SS:"SSS",SSS:"SSS",E:"ddd",EEEE:"dddd",D:"DDD",w:"W",ww:"WW",z:"ZZ",zzzz:"Z",Z:"ZZ",X:"ZZ",XX:"ZZ",XXX:"Z",u:"E"},a={D:"d",DD:"dd",YY:"yy",YYYY:"yyyy",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"S",SS:"S",SSS:"S",ddd:"E",dddd:"EEEE",DDD:"D",W:"w",WW:"ww",ZZ:"z",Z:"XXX",E:"u"},s=function(t,r){for(var c=t.length,e=0,s=-1,i=null,a="",n="";c>e;e++)a=t[e],(null===i||i!==a)&&(n=o(t,r,s,e,n),s=e),i=a;return o(t,r,s,e,n)},o=function(o,n,s,i,t){var e;return-1!==s&&(e=o.substring(s,i),n[e]&&(e=n[e]),t=t.concat(e)),t};e.fn.__translateJavaFormat=s,e.fn.toMomentFormatString=function(e){return t[e]||(t[e]=s(e,i)),t[e]},e.fn.formatWithJDF=function(e){return this.format(this.toMomentFormatString(e))},e.fn.toJDFString=function(e){return n[e]||(n[e]=s(e,a)),n[e]},"undefined"!=typeof module&&null!==module?module.exports=e:this.moment=e}).call(this)}),define("lib/amd-wrapped/momentjs/moment-timezones",["moment-timezone"],function(e){return e.tz.add(["America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp0 1Vb0 3dB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 17b0 1op0 1tb0 Q2m0 3Ne0 WM0 1fA0 1cM0 1cM0 1oJ0 1dc0 1030 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00"]),e}),define("gawkerlib/formatTime",["moment-timezone","lib/amd-wrapped/momentjs/moment-jdateformatparser","lib/amd-wrapped/momentjs/moment-timezones"],function(e){"use strict";return window.kinja=window.kinja||{},window.kinja.formatTime=function(t,n,s,o){return e(t).lang(o).tz(s).formatWithJDF(n)},window.kinja.formatTime}),define("lib/jquery.truncate",["jquery"],function(e){var t=/(\s*\S+|\s)$/;e.truncate=function(t,n){return e("<div></div>").append(t).truncate(n).html()},e.fn.truncate=function(s){e.isNumeric(s)&&(s={length:s});var n=e.extend({},e.truncate.defaults,s);return this.each(function(){o=e(this),n.noBreaks&&o.find("br").replaceWith(" ");var o,i=o.text(),s=i.length-n.length;n.stripTags&&o.text(i),n.words&&s>0&&(s=i.length-i.slice(0,n.length).replace(t,"").length-1),0>s||!s&&!n.truncated||e.each(o.contents().get().reverse(),function(r,o){var i=e(o),a=i.text(),t=a.length;return s>=t?(n.truncated=!0,s-=t,void i.remove()):3===o.nodeType?(e(o.splitText(t-s-1)).replaceWith(n.ellipsis),!1):(i.truncate(e.extend(n,{length:t-s})),!1)})})},e.truncate.defaults={stripTags:!1,words:!1,noBreaks:!1,length:1/0,ellipsis:"…"}}),define("gawkerlib/truncateHtml",["jquery","lib/jquery.truncate"],function(e){"use strict";return window.kinja=window.kinja||{},window.kinja.truncateHtml=function(t,n){return e.truncate(t,{length:n,words:!0})},window.kinja.truncateHtml}),define("gawkerlib/stripHtmlTags",[],function(){"use strict";window.kinja=window.kinja||{},window.kinja.stripHtmlTags=function(t,e){e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return t.replace(n,function(t,n){return e.indexOf("<"+n.toLowerCase()+">")>-1?t:""})}}),define("lib/amd-wrapped/soy/soyutils",["gawkerlib/imageUrl","gawkerlib/formatTime","gawkerlib/truncateHtml","gawkerlib/readMore","gawkerlib/stripHtmlTags"],function(){n=n||{},n.DEBUG=!1,n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n){var s=Array.prototype.slice.call(arguments,2);return t.prototype[n].apply(e,s)}},n.userAgent||(n.userAgent=function(){var t,e="";return"undefined"!=typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(e=navigator.userAgent),t=0==e.indexOf("Opera"),{jscript:{HAS_JSCRIPT:"ScriptEngine"in this},OPERA:t,IE:!t&&-1!=e.indexOf("MSIE"),WEBKIT:!t&&-1!=e.indexOf("WebKit")}}()),n.asserts||(n.asserts={assert:function(e){if(!e)throw Error("Assertion error")},fail:function(){}}),n.dom||(n.dom={},n.dom.DomHelper=function(e){this.document_=e||document},n.dom.DomHelper.prototype.getDocument=function(){return this.document_},n.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},n.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}),n.format||(n.format={insertWordBreaks:function(e,d){e=String(e);for(var o,a=[],l=0,r=!1,i=!1,t=0,c=0,s=0,u=e.length;u>s;++s)if(o=e.charCodeAt(s),t>=d&&32!=o&&(a[l++]=e.substring(c,s),c=s,a[l++]=n.format.WORD_BREAK,t=0),r)62==o&&(r=!1);else if(i)switch(o){case 59:i=!1,++t;break;case 60:i=!1,r=!0;break;case 32:i=!1,t=0}else switch(o){case 60:r=!0;break;case 38:i=!0;break;case 32:t=0;break;default:++t}return a[l++]=e.substring(c),a.join("")},WORD_BREAK:n.userAgent.WEBKIT?"<wbr></wbr>":n.userAgent.OPERA?"&shy;":n.userAgent.IE?"&#8203;":"<wbr>"}),n.i18n||(n.i18n={bidi:{}}),n.i18n.bidi.IS_RTL=!1,n.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0,UNKNOWN:0},n.i18n.bidi.toDir=function(e,t){return"number"==typeof e?e>0?n.i18n.bidi.Dir.LTR:0>e?n.i18n.bidi.Dir.RTL:t?null:n.i18n.bidi.Dir.NEUTRAL:null==e?null:e?n.i18n.bidi.Dir.RTL:n.i18n.bidi.Dir.LTR},n.i18n.bidi.estimateDirection=function(c,l){for(var e,a=0,t=0,i=!1,r=s.$$bidiStripHtmlIfNecessary_(c,l).split(s.$$bidiWordSeparatorRe_),o=0;o<r.length;o++)e=r[o],s.$$bidiRtlDirCheckRe_.test(e)?(a++,t++):s.$$bidiIsRequiredLtrRe_.test(e)?i=!0:s.$$bidiLtrCharRe_.test(e)?t++:s.$$bidiHasNumeralsRe_.test(e)&&(i=!0);return 0==t?i?n.i18n.bidi.Dir.LTR:n.i18n.bidi.Dir.NEUTRAL:a/t>s.$$bidiRtlDetectionThreshold_?n.i18n.bidi.Dir.RTL:n.i18n.bidi.Dir.LTR},n.i18n.BidiFormatter=function(e){this.dir_=n.i18n.bidi.toDir(e,!0)},n.i18n.BidiFormatter.prototype.getContextDir=function(){return this.dir_},n.i18n.BidiFormatter.prototype.knownDirAttr=function(e){return e&&e!=this.dir_?0>e?'dir="rtl"':'dir="ltr"':""},n.i18n.BidiFormatter.prototype.endEdge=function(){return this.dir_<0?"left":"right"},n.i18n.BidiFormatter.prototype.mark=function(){return this.dir_>0?"‎":this.dir_<0?"‏":""},n.i18n.BidiFormatter.prototype.markAfterKnownDir=function(e,t,o){return null==e&&(e=n.i18n.bidi.estimateDirection(t,o)),this.dir_>0&&(0>e||s.$$bidiIsRtlExitText_(t,o))?"‎":this.dir_<0&&(e>0||s.$$bidiIsLtrExitText_(t,o))?"‏":""},n.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(t,e){null==t&&(t=n.i18n.bidi.estimateDirection(e,!0));var s=this.markAfterKnownDir(t,e,!0);return t>0&&this.dir_<=0?e='<span dir="ltr">'+e+"</span>":0>t&&this.dir_>=0&&(e='<span dir="rtl">'+e+"</span>"),e+s},n.i18n.BidiFormatter.prototype.startEdge=function(){return this.dir_<0?"right":"left"},n.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(t,e,s){null==t&&(t=n.i18n.bidi.estimateDirection(e,s));var o=this.markAfterKnownDir(t,e,s);return t>0&&this.dir_<=0?e="‪"+e+"‬":0>t&&this.dir_>=0&&(e="‫"+e+"‬"),e+o},n.string||(n.string={newLineToBr:function(e,t){return e=String(e),n.string.NEWLINE_TO_BR_RE_.test(e)?e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>"):e},urlEncode:encodeURIComponent,NEWLINE_TO_BR_RE_:/[\r\n]/}),n.string.StringBuffer=function(e){this.buffer_=n.userAgent.jscript.HAS_JSCRIPT?[]:"",null!=e&&this.append.apply(this,arguments)},n.string.StringBuffer.prototype.bufferLength_=0,n.string.StringBuffer.prototype.append=function(t,s){if(n.userAgent.jscript.HAS_JSCRIPT)if(null==s)this.buffer_[this.bufferLength_++]=t;else{var e,o=this.buffer_;o.push.apply(o,arguments),this.bufferLength_=this.buffer_.length}else if(this.buffer_+=t,null!=s)for(e=1;e<arguments.length;e++)this.buffer_+=arguments[e];return this},n.string.StringBuffer.prototype.clear=function(){n.userAgent.jscript.HAS_JSCRIPT?(this.buffer_.length=0,this.bufferLength_=0):this.buffer_=""},n.string.StringBuffer.prototype.toString=function(){if(n.userAgent.jscript.HAS_JSCRIPT){var e=this.buffer_.join("");return this.clear(),e&&this.append(e),e}return this.buffer_},n.soy||(n.soy={renderAsElement:function(e,t,n,o){return s.$$renderWithWrapper_(e,t,o,!0,n)},renderAsFragment:function(e,t,n,o){return s.$$renderWithWrapper_(e,t,o,!1,n)},renderElement:function(e,t,n,s){e.innerHTML=t(n,null,s)},data:{}}),n.soy.data.SanitizedContentKind={HTML:n.DEBUG?{sanitizedContentKindHtml:!0}:{},JS:n.DEBUG?{sanitizedContentJsChars:!0}:{},JS_STR_CHARS:n.DEBUG?{sanitizedContentJsStrChars:!0}:{},URI:n.DEBUG?{sanitizedContentUri:!0}:{},ATTRIBUTES:n.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:n.DEBUG?{sanitizedContentCss:!0}:{},TEXT:n.DEBUG?{sanitizedContentKindText:!0}:{}},n.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},n.soy.data.SanitizedContent.prototype.contentKind,n.soy.data.SanitizedContent.prototype.contentDir=null,n.soy.data.SanitizedContent.prototype.content,n.soy.data.SanitizedContent.prototype.toString=function(){return this.content};var n,s,e={esc:{}},t={};return t.VERY_UNSAFE={},s={$$DEFAULT_TEMPLATE_DATA_:{}},s.$$renderWithWrapper_=function(r,c,l,o,a){var t,n,i=l||document,e=i.createElement("div");if(e.innerHTML=r(c||s.$$DEFAULT_TEMPLATE_DATA_,void 0,a),1==e.childNodes.length&&(t=e.firstChild,!o||1==t.nodeType))return t;if(o)return e;for(n=i.createDocumentFragment();e.firstChild;)n.appendChild(e.firstChild);return n},s.$$bidiStripHtmlIfNecessary_=function(e,t){return t?e.replace(s.$$BIDI_HTML_SKIP_RE_,""):e},s.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g,s.$$bidiLtrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",s.$$bidiRtlChars_="֑-߿‏יִ-﷿ﹰ-ﻼ",s.$$bidiRtlDirCheckRe_=new RegExp("^[^"+s.$$bidiLtrChars_+"]*["+s.$$bidiRtlChars_+"]"),s.$$bidiLtrCharRe_=new RegExp("["+s.$$bidiLtrChars_+"]"),s.$$bidiIsRequiredLtrRe_=/^http:\/\/.*/,s.$$bidiHasNumeralsRe_=/\d/,s.$$bidiWordSeparatorRe_=/\s+/,s.$$bidiRtlDetectionThreshold_=.4,s.$$bidiLtrExitDirCheckRe_=new RegExp("["+s.$$bidiLtrChars_+"][^"+s.$$bidiRtlChars_+"]*$"),s.$$bidiRtlExitDirCheckRe_=new RegExp("["+s.$$bidiRtlChars_+"][^"+s.$$bidiLtrChars_+"]*$"),s.$$bidiIsLtrExitText_=function(e,t){return e=s.$$bidiStripHtmlIfNecessary_(e,t),s.$$bidiLtrExitDirCheckRe_.test(e)},s.$$bidiIsRtlExitText_=function(e,t){return e=s.$$bidiStripHtmlIfNecessary_(e,t),s.$$bidiRtlExitDirCheckRe_.test(e)},e.StringBuilder=n.string.StringBuffer,t.SanitizedContentKind=n.soy.data.SanitizedContentKind,t.isContentKind=function(e,t){return null!=e&&e.contentKind===t},t.getContentDir=function(e){if(null!=e)switch(e.contentDir){case n.i18n.bidi.Dir.LTR:return n.i18n.bidi.Dir.LTR;case n.i18n.bidi.Dir.RTL:return n.i18n.bidi.Dir.RTL;case n.i18n.bidi.Dir.NEUTRAL:return n.i18n.bidi.Dir.NEUTRAL}return null},t.SanitizedHtml=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedHtml,n.soy.data.SanitizedContent),t.SanitizedHtml.prototype.contentKind=t.SanitizedContentKind.HTML,t.SanitizedHtml.from=function(s){return null!=s&&s.contentKind===t.SanitizedContentKind.HTML?(n.asserts.assert(s.constructor===t.SanitizedHtml),s):t.VERY_UNSAFE.ordainSanitizedHtml(e.esc.$$escapeHtmlHelper(String(s)),t.getContentDir(s))},t.SanitizedJs=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedJs,n.soy.data.SanitizedContent),t.SanitizedJs.prototype.contentKind=t.SanitizedContentKind.JS,t.SanitizedJs.prototype.contentDir=n.i18n.bidi.Dir.LTR,t.SanitizedJsStrChars=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedJsStrChars,n.soy.data.SanitizedContent),t.SanitizedJsStrChars.prototype.contentKind=t.SanitizedContentKind.JS_STR_CHARS,t.SanitizedUri=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedUri,n.soy.data.SanitizedContent),t.SanitizedUri.prototype.contentKind=t.SanitizedContentKind.URI,t.SanitizedUri.prototype.contentDir=n.i18n.bidi.Dir.LTR,t.SanitizedHtmlAttribute=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedHtmlAttribute,n.soy.data.SanitizedContent),t.SanitizedHtmlAttribute.prototype.contentKind=t.SanitizedContentKind.ATTRIBUTES,t.SanitizedHtmlAttribute.prototype.contentDir=n.i18n.bidi.Dir.LTR,t.SanitizedCss=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedCss,n.soy.data.SanitizedContent),t.SanitizedCss.prototype.contentKind=t.SanitizedContentKind.CSS,t.SanitizedCss.prototype.contentDir=n.i18n.bidi.Dir.LTR,t.UnsanitizedText=function(t,e){this.content=String(t),this.contentDir=e??null},n.inherits(t.UnsanitizedText,n.soy.data.SanitizedContent),t.UnsanitizedText.prototype.contentKind=t.SanitizedContentKind.TEXT,t.$$EMPTY_STRING_={VALUE:""},t.$$makeSanitizedContentFactory_=function(t){function e(){}function n(s,n){var t=new e;return t.content=String(s),void 0!==n&&(t.contentDir=n),t}return e.prototype=t.prototype,n},t.$$makeSanitizedContentFactoryWithDefaultDirOnly_=function(t){function e(){}function n(n){var t=new e;return t.content=String(n),t}return e.prototype=t.prototype,n},t.markUnsanitizedText=function(e,n){return new t.UnsanitizedText(e,n)},t.VERY_UNSAFE.ordainSanitizedHtml=t.$$makeSanitizedContentFactory_(t.SanitizedHtml),t.VERY_UNSAFE.ordainSanitizedJs=t.$$makeSanitizedContentFactoryWithDefaultDirOnly_(t.SanitizedJs),t.VERY_UNSAFE.ordainSanitizedJsStrChars=t.$$makeSanitizedContentFactory_(t.SanitizedJsStrChars),t.VERY_UNSAFE.ordainSanitizedUri=t.$$makeSanitizedContentFactoryWithDefaultDirOnly_(t.SanitizedUri),t.VERY_UNSAFE.ordainSanitizedHtmlAttribute=t.$$makeSanitizedContentFactoryWithDefaultDirOnly_(t.SanitizedHtmlAttribute),t.VERY_UNSAFE.ordainSanitizedCss=t.$$makeSanitizedContentFactoryWithDefaultDirOnly_(t.SanitizedCss),e.renderElement=n.soy.renderElement,e.renderAsFragment=function(e,t,s,o){return n.soy.renderAsFragment(e,t,o,new n.dom.DomHelper(s))},e.renderAsElement=function(e,t,s,o){return n.soy.renderAsElement(e,t,o,new n.dom.DomHelper(s))},e.$$IS_LOCALE_RTL=n.i18n.bidi.IS_RTL,e.$$augmentMap=function(o,e){function t(){}t.prototype=o;var s,n=new t;for(s in e)n[s]=e[s];return n},e.$$checkMapKey=function(e){if("string"!=typeof e)throw Error("Map literal's key expression must evaluate to string (encountered type \""+typeof e+'").');return e},e.$$getMapKeys=function(t){var n,e=[];for(n in t)e.push(n);return e},e.$$getDelTemplateId=function(e){return e},e.$$DELEGATE_REGISTRY_PRIORITIES_={},e.$$DELEGATE_REGISTRY_FUNCTIONS_={},e.$$registerDelegateFn=function(o,i,t,a){var n="key_"+o+":"+i,s=e.$$DELEGATE_REGISTRY_PRIORITIES_[n];if(void 0===s||t>s)e.$$DELEGATE_REGISTRY_PRIORITIES_[n]=t,e.$$DELEGATE_REGISTRY_FUNCTIONS_[n]=a;else if(t==s)throw Error('Encountered two active delegates with the same priority ("'+o+":"+i+'").')},e.$$getDelegateFn=function(n,s,o){var t=e.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+n+":"+s];if(t||""==s||(t=e.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+n+":"]),t)return t;if(o)return e.$$EMPTY_TEMPLATE_FN_;throw Error('Found no active impl for delegate call to "'+n+":"+s+'" (and not allowemptydefault="true").')},e.$$EMPTY_TEMPLATE_FN_=function(){return""},t.$$makeSanitizedContentFactoryForInternalBlocks_=function(n){function e(){}function s(s,o){var n,i=String(s);return i?(n=new e,n.content=String(s),void 0!==o&&(n.contentDir=o),n):t.$$EMPTY_STRING_.VALUE}return e.prototype=n.prototype,s},t.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_=function(n){function e(){}function s(s){var n,o=String(s);return o?(n=new e,n.content=String(s),n):t.$$EMPTY_STRING_.VALUE}return e.prototype=n.prototype,s},t.$$markUnsanitizedTextForInternalBlocks=function(n,s){var e=String(n);return e?new t.UnsanitizedText(e,s):t.$$EMPTY_STRING_.VALUE},t.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks=t.$$makeSanitizedContentFactoryForInternalBlocks_(t.SanitizedHtml),t.VERY_UNSAFE.$$ordainSanitizedJsForInternalBlocks=t.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(t.SanitizedJs),t.VERY_UNSAFE.$$ordainSanitizedUriForInternalBlocks=t.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(t.SanitizedUri),t.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks=t.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(t.SanitizedHtmlAttribute),t.VERY_UNSAFE.$$ordainSanitizedCssForInternalBlocks=t.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(t.SanitizedCss),e.$$escapeHtml=function(e){return t.SanitizedHtml.from(e)},e.$$cleanHtml=function(s){return t.isContentKind(s,t.SanitizedContentKind.HTML)?(n.asserts.assert(s.constructor===t.SanitizedHtml),s):t.VERY_UNSAFE.ordainSanitizedHtml(e.$$stripHtmlTags(s,e.esc.$$SAFE_TAG_WHITELIST_),t.getContentDir(s))},e.$$escapeHtmlRcdata=function(s){return t.isContentKind(s,t.SanitizedContentKind.HTML)?(n.asserts.assert(s.constructor===t.SanitizedHtml),e.esc.$$normalizeHtmlHelper(s.content)):e.esc.$$escapeHtmlHelper(s)},e.$$HTML5_VOID_ELEMENTS_=new RegExp("^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\b"),e.$$stripHtmlTags=function(o,s){if(!s)return String(o).replace(e.esc.$$HTML_TAG_REGEX_,"").replace(e.esc.$$LT_REGEX_,"&lt;");var t=String(o).replace(/\[/g,"&#91;"),n=[],t=t.replace(e.esc.$$HTML_TAG_REGEX_,function(o,e){if(e&&(e=e.toLowerCase(),s.hasOwnProperty(e)&&s[e])){var i="/"===o.charAt(1)?"</":"<",t=n.length;return n[t]=i+e+">","["+t+"]"}return""}),t=e.esc.$$normalizeHtmlHelper(t),i=e.$$balanceTags_(n);return t=t.replace(/\[(\d+)\]/g,function(t,e){return n[e]}),t+i},e.$$balanceTags_=function(i){for(var t,o,n=[],s=0,a=i.length;a>s;++s)if(o=i[s],"/"===o.charAt(1)){for(t=n.length-1;t>=0&&n[t]!=o;)t--;0>t?i[s]="":(i[s]=n.slice(t).reverse().join(""),n.length=t)}else e.$$HTML5_VOID_ELEMENTS_.test(o)||n.push("</"+o.substring(1));return n.reverse().join("")},e.$$escapeHtmlAttribute=function(s){return t.isContentKind(s,t.SanitizedContentKind.HTML)?(n.asserts.assert(s.constructor===t.SanitizedHtml),e.esc.$$normalizeHtmlHelper(e.$$stripHtmlTags(s.content))):e.esc.$$escapeHtmlHelper(s)},e.$$escapeHtmlAttributeNospace=function(s){return t.isContentKind(s,t.SanitizedContentKind.HTML)?(n.asserts.assert(s.constructor===t.SanitizedHtml),e.esc.$$normalizeHtmlNospaceHelper(e.$$stripHtmlTags(s.content))):e.esc.$$escapeHtmlNospaceHelper(s)},e.$$filterHtmlAttributes=function(s){return t.isContentKind(s,t.SanitizedContentKind.ATTRIBUTES)?(n.asserts.assert(s.constructor===t.SanitizedHtmlAttribute),s.content.replace(/([^"'\s])$/,"$1 ")):e.esc.$$filterHtmlAttributesHelper(s)},e.$$filterHtmlElementName=function(t){return e.esc.$$filterHtmlElementNameHelper(t)},e.$$escapeJs=function(t){return e.$$escapeJsString(t)},e.$$escapeJsString=function(s){return t.isContentKind(s,t.SanitizedContentKind.JS_STR_CHARS)?(n.asserts.assert(s.constructor===t.SanitizedJsStrChars),s.content):e.esc.$$escapeJsStringHelper(s)},e.$$escapeJsValue=function(s){if(null==s)return" null ";if(t.isContentKind(s,t.SanitizedContentKind.JS))return n.asserts.assert(s.constructor===t.SanitizedJs),s.content;switch(typeof s){case"boolean":case"number":return" "+s+" ";default:return"'"+e.esc.$$escapeJsStringHelper(String(s))+"'"}},e.$$escapeJsRegex=function(t){return e.esc.$$escapeJsRegexHelper(t)},e.$$problematicUriMarks_=/['()]/g,e.$$pctEncode_=function(e){return"%"+e.charCodeAt(0).toString(16)},e.$$escapeUri=function(s){if(t.isContentKind(s,t.SanitizedContentKind.URI))return n.asserts.assert(s.constructor===t.SanitizedUri),e.$$normalizeUri(s);var o=e.esc.$$escapeUriHelper(s);return e.$$problematicUriMarks_.lastIndex=0,e.$$problematicUriMarks_.test(o)?o.replace(e.$$problematicUriMarks_,e.$$pctEncode_):o},e.$$normalizeUri=function(t){return e.esc.$$normalizeUriHelper(t)},e.$$filterNormalizeUri=function(s){return t.isContentKind(s,t.SanitizedContentKind.URI)?(n.asserts.assert(s.constructor===t.SanitizedUri),e.$$normalizeUri(s)):e.esc.$$filterNormalizeUriHelper(s)},e.$$filterImageDataUri=function(n){return t.VERY_UNSAFE.ordainSanitizedUri(e.esc.$$filterImageDataUriHelper(n))},e.$$escapeCssString=function(t){return e.esc.$$escapeCssStringHelper(t)},e.$$filterCssValue=function(s){return t.isContentKind(s,t.SanitizedContentKind.CSS)?(n.asserts.assert(s.constructor===t.SanitizedCss),s.content):null==s?"":e.esc.$$filterCssValueHelper(s)},e.$$filterNoAutoescape=function(e){return t.isContentKind(e,t.SanitizedContentKind.TEXT)?(n.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[e.content]),"zSoyz"):e},e.$$changeNewlineToBr=function(e){var s=n.string.newLineToBr(String(e),!1);return t.isContentKind(e,t.SanitizedContentKind.HTML)?t.VERY_UNSAFE.ordainSanitizedHtml(s,t.getContentDir(e)):s},e.$$insertWordBreaks=function(e,o){var s=n.format.insertWordBreaks(String(e),o);return t.isContentKind(e,t.SanitizedContentKind.HTML)?t.VERY_UNSAFE.ordainSanitizedHtml(s,t.getContentDir(e)):s},e.$$truncate=function(t,n,s){return t=String(t),t.length<=n?t:(s&&(n>3?n-=3:s=!1),e.$$isHighSurrogate_(t.charAt(n-1))&&e.$$isLowSurrogate_(t.charAt(n))&&(n-=1),t=t.substring(0,n),s&&(t+="..."),t)},e.$$isHighSurrogate_=function(e){return e>=55296&&56319>=e},e.$$isLowSurrogate_=function(e){return e>=56320&&57343>=e},e.$$bidiFormatterCache_={},e.$$getBidiFormatterInstance_=function(t){return e.$$bidiFormatterCache_[t]||(e.$$bidiFormatterCache_[t]=new n.i18n.BidiFormatter(t))},e.$$bidiTextDir=function(e,i){var o,s=t.getContentDir(e);return s??(o=i||t.isContentKind(e,t.SanitizedContentKind.HTML),n.i18n.bidi.estimateDirection(e+"",o))},e.$$bidiDirAttr=function(a,s,r){var i,c=e.$$getBidiFormatterInstance_(a),o=t.getContentDir(s);return null==o&&(i=r||t.isContentKind(s,t.SanitizedContentKind.HTML),o=n.i18n.bidi.estimateDirection(s+"",i)),t.VERY_UNSAFE.ordainSanitizedHtmlAttribute(c.knownDirAttr(o))},e.$$bidiMarkAfter=function(s,n,o){var i=e.$$getBidiFormatterInstance_(s),a=o||t.isContentKind(n,t.SanitizedContentKind.HTML);return i.markAfterKnownDir(t.getContentDir(n),n+"",a)},e.$$bidiSpanWrap=function(s,n){var o=e.$$getBidiFormatterInstance_(s),i=o.spanWrapWithKnownDir(t.getContentDir(n),n+"",!0);return i},e.$$bidiUnicodeWrap=function(r,n){var i=e.$$getBidiFormatterInstance_(r),a=t.isContentKind(n,t.SanitizedContentKind.HTML),s=i.unicodeWrapWithKnownDir(t.getContentDir(n),n+"",a),o=i.getContextDir();return t.isContentKind(n,t.SanitizedContentKind.TEXT)?new t.UnsanitizedText(s,o):a?t.VERY_UNSAFE.ordainSanitizedHtml(s,o):t.isContentKind(n,t.SanitizedContentKind.JS_STR_CHARS)?t.VERY_UNSAFE.ordainSanitizedJsStrChars(s,o):s},e.esc.$$escapeUriHelper=function(e){return encodeURIComponent(String(e))},e.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","	":"&#9;","\n":"&#10;","":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},e.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(t){return e.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[t]},e.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\x00":"\\x00","\b":"\\x08","	":"\\t","\n":"\\n","":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22","&":"\\x26","'":"\\x27","/":"\\/","<":"\\x3c","=":"\\x3d",">":"\\x3e","\\":"\\\\","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029",$:"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"},e.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(t){return e.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[t]},e.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\x00":"\\0 ","\b":"\\8 ","	":"\\9 ","\n":"\\a ","":"\\b ","\f":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","":"\\85 "," ":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "},e.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(t){return e.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[t]},e.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\x00":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","	":"%09","\n":"%0A","":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"},e.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(t){return e.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[t]},e.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g,e.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g,e.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,e.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,e.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27/\x3c-\x3e\\\x85\u2028\u2029]/g,e.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g,e.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,e.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,e.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,e.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:/?#]*(?:[/?#]|$))/i,e.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_=/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+/]+=*$/i,e.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i,e.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i,e.esc.$$escapeHtmlHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_ESCAPE_HTML_,e.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},e.esc.$$normalizeHtmlHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_NORMALIZE_HTML_,e.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},e.esc.$$escapeHtmlNospaceHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,e.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},e.esc.$$normalizeHtmlNospaceHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,e.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},e.esc.$$escapeJsStringHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,e.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},e.esc.$$escapeJsRegexHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,e.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},e.esc.$$escapeCssStringHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,e.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)},e.esc.$$filterCssValueHelper=function(n){var t=String(n);return e.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(t)?t:"zSoyz"},e.esc.$$normalizeUriHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,e.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)},e.esc.$$filterNormalizeUriHelper=function(n){var t=String(n);return e.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(t)?t.replace(e.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,e.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_):"#zSoyz"},e.esc.$$filterImageDataUriHelper=function(n){var t=String(n);return e.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(t)?t:"data:image/gif;base64,zSoyz"},e.esc.$$filterHtmlAttributesHelper=function(n){var t=String(n);return e.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(t)?t:"zSoyz"},e.esc.$$filterHtmlElementNameHelper=function(n){var t=String(n);return e.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(t)?t:"zSoyz"},e.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,e.esc.$$LT_REGEX_=/</g,e.esc.$$SAFE_TAG_WHITELIST_={b:1,br:1,em:1,i:1,s:1,sub:1,sup:1,u:1},{goog:n,soy:e,soydata:t}}),define("lib/amd-wrapped/soy/soy",["lib/amd-wrapped/soy/soyutils"],function(t){"use strict";var e=t.soy;return e.$$normalizeHtml||(e.$$normalizeHtml=e.esc.$$normalizeHtmlHelper),e}),define("singleton/Renderer",["lib/amd-wrapped/soy/soy"],function(e){"use strict";var t={renderTemplate:function(t,n,s){return e.renderAsFragment(t,n,void 0,s||{})}};return t}),define("view/BaseView",["jquery","backbone","singleton/Renderer","singleton/Utils"],function(e,t,s,n){"use strict";var o=t.View.extend({constructor:function(e){e&&e.services&&(this.services=e.services,delete e.services),this.options=e||{},t.View.prototype.constructor.apply(this,arguments)},CACHEBUSTER_KEY:"rev",postForm:null,pageType:null,soyToHtml:function(t,o,i){var e=n.getRenderableData(o,i);return s.renderTemplate(t,e.data,e.injected)},t:function(t){return e.trim(t())},cachebuster:function(e){return e+=-1===e.indexOf("?")?"?":"&",e+=this.CACHEBUSTER_KEY+"="+this.cachebusterValue()},cachebusterValue:function(){return Math.floor((new Date).getTime()/1e3)},getHtml:function(n){var t=e("<div />");return t.append(n),t.html()},getPageType:function(){return null===this.pageType&&(this.pageType=n.getKinjaMeta().pageType||"frontpage"),this.pageType}});return o}),define("singleton/StringUtils",[],function(){"use strict";var e={endsWith:function(t,e){return"undefined"!=typeof t&&"undefined"!=typeof e&&(""===e||(t=String(t),e=String(e),t.length>=e.length&&t.indexOf(e)===t.length-e.length))},ucFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}};return e}),define("singleton/ChartbeatBlog",["singleton/CurrentBlog","singleton/StringUtils"],function(t,e){"use strict";var n={reportedHost:function(s){var o="",n=s||t.canonicalHost||window.location.hostname;return o="es.gizmodo.com"===n?"es.gizmodo.com":e.endsWith(n,"jalopnik.com")?"jalopnik.com":e.endsWith(n,"io9.com")?"io9.com":e.endsWith(n,"kotaku.com")?"kotaku.com":e.endsWith(n,"gizmodo.com")?"gizmodo.com":e.endsWith(n,"gawker.com")?"gawker.com":e.endsWith(n,"cink.hu")?"cink.hu":e.endsWith(n,"deadspin.com")?"deadspin.com":e.endsWith(n,"jezebel.com")?"jezebel.com":e.endsWith(n,"lifehacker.com")?"lifehacker.com":"kinja.com"}};return n}),define("singleton/trackers/GoogleTrackers",["jquery","underscore","singleton/Feature","singleton/Utils","singleton/CurrentBlog"],function(i,s,e,n,o){"use strict";e.isOn("optimizely")&&(window.optimizely=window.optimizely||[]);var t={_getDimensions:s.once(function(){var t,o=i.cookie("kinjaads.displayName"),a=e.isOn("optimizely")?window.optimizely.activeExperiments||[]:[],r="No Experiment",s="not tracking",n="none detected";return a.length>0&&(r=window.optimizely.variationNamesMap[a[0]]),e.isOn("track_adblock")&&(t=window.document.createElement("div"),s="off",t.setAttribute("class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"),t.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),t.setAttribute("id","bait"),window.document.body.appendChild(t),(null!==window.document.body.getAttribute("abp")||null===t.offsetParent||0===t.offsetHeight||0===t.offsetLeft||0===t.offsetTop||0===t.offsetWidth||0===t.clientHeight||0===t.clientWidth)&&(s="on"),void 0!==window.getComputedStyle&&("none"===window.getComputedStyle(t).getPropertyValue("display")||"hidden"===window.getComputedStyle(t).getPropertyValue("visibility"))&&(s="on")),window.document.documentElement.clientWidth<600?n="<600":window.document.documentElement.clientWidth<800?n="600-799":window.document.documentElement.clientWidth<1024?n="800-1023":window.document.documentElement.clientWidth>=1024&&(n="1024+"),{loginState:o&&""!==o?"Logged in":"Logged out",optimizely:r,windowWidth:String(window.document.documentElement.clientWidth||0),windowHeight:String(window.document.documentElement.clientHeight||0),responsiveVersion:n||"none detected",adblock:s||"not tracking"}}),createUniversalLinkedGABlogPageView:function(c){var a,r,l=["kinja.com","gawker.com","deadspin.com","gizmodo.com","io9.com","jalopnik.com","jezebel.com","kotaku.com","lifehacker.com","cink.hu","gawker-labs.com"],i=t._getDimensions();void 0!==o.canonicalHost&&("atlatszooktatas.cink.hu"===o.canonicalHost?(a="UA-41411601-1",ga("create",a,"auto",{name:"atlatszooktatas",allowLinker:!0}),ga("linker:autoLink",l,!0),e.isOn("optimizely")&&window.optimizely.push("activateUniversalAnalytics"),ga("atlatszooktatas.send","pageview",{dimension1:i.loginState,dimension2:i.optimizely,dimension3:i.adblock,dimension4:i.responsiveVersion,metric1:i.windowWidth,metric2:i.windowHeight})):n.getKinjaMeta().blog&&n.getKinjaMeta().blog.googleAnalyticsID&&(a=n.getKinjaMeta().blog.googleAnalyticsID,r={name:"unique",allowLinker:!0},s.isUndefined(c)||(r.clientId=c),ga("create",a,"auto",r),ga("linker:autoLink",l,!0),e.isOn("optimizely")&&window.optimizely.push("activateUniversalAnalytics"),ga("unique.send","pageview",{dimension1:i.loginState,dimension2:i.optimizely,dimension3:i.adblock,dimension4:i.responsiveVersion,metric1:i.windowWidth,metric2:i.windowHeight})))},createCrossDomainLinker:function(){var s,o="UA-142218-33",i=["kinja.com","gawker.com","deadspin.com","gizmodo.com","io9.com","jalopnik.com","jezebel.com","kotaku.com","lifehacker.com","cink.hu","gawker-labs.com"],a={allowLinker:!0},n=t._getDimensions();ga("create",o,"auto",a),ga("require","linker"),ga("linker:autoLink",i,!0),ga(function(e){s=e.get("clientId")}),t.createUniversalLinkedGABlogPageView(s),e.isOn("optimizely")&&window.optimizely.push("activateUniversalAnalytics"),ga("send","pageview",{dimension1:n.loginState,dimension2:n.optimizely,dimension3:n.adblock,dimension4:n.responsiveVersion,metric1:n.windowWidth,metric2:n.windowHeight,hitCallback:function(){window.location.hash&&window.location.hash.match(/_ga/)&&"function"==typeof window.history.replaceState&&window.history.replaceState({},window.title,window.location.href.split("#")[0])}})},API:{addUniversalGAEvents:function(){t.createCrossDomainLinker()}}};return t.API}),define("module/ads/singleton/SocialReferrerHelper",[],function(){"use strict";var e={regex:/\b(?:facebook|instagram|pinterest|reddit|twitter|tumblr|t\.co)\b/i,brandMap:{"t.co":"twitter"},scanForSocialReferrers:function(){var e=(document.referrer||"").match(this.regex);return e&&(e=e[0].toLowerCase()),this.brandMap[e]||e}};return e}),define("singleton/Trackers",["jquery","underscore","moment","view/BaseView","singleton/CurrentBlog","singleton/ChartbeatBlog","singleton/Feature","singleton/Utils","singleton/trackers/GoogleTrackers","module/ads/singleton/SocialReferrerHelper","lib/jquery.cookie"],function(e,s,a,r,n,u,c,t,l,d){"use strict";var o=document.location.protocol,i=r.extend({$trackerContainer:e("#trackers"),tagLengthLimit:1e3,initialize:function(){var s=this.getPageType();this.addNielsen(),c.isOn("cleanwaterfall")||this.addChartbeat(),this.addGoogleAnalyticsUniversalScript(),this.addUniversalGAEvents(),this.addQuantcast(),this.addKruxControlTag(),"editor"!==s&&this.addSkimLinks(),this.addComScore(),"kinja.roadandtrack.com"===n.canonicalHost&&this.addOmnitureTracker("//www.adobetag.com/d1/v2/ZDEtaGVhcnN0bWFnYXppbmVzLTMzOTItMzIwMy0=/amc.js"),!t.kinjaMeta.blog||"frontpage"!==s&&"permalink"!==s||(this.addGptAudienceTracker(),this.addGptInboundAudienceTracker(),e(".row.page").on("click",'a[href^="http"]',this.addGptOutboundAudienceTracker.bind(this))),this.trackDescriptionLinks()},addUniversalGAEvents:function(){l.addUniversalGAEvents()},addNielsen:function(){var t=e.cookie("geocc");!t||"AU"!==t&&"NZ"!==t?this.createTrackerImage("//secure-us.imrworldwide.com/cgi-bin/m?ci=us-803450h&cg=0&cc=1&si="+encodeURIComponent(window.location.href)+"&rp="+encodeURIComponent(document.referrer)+"&ts=compact&rnd="+(new Date).getTime()):e("body").hasClass("platform-mobile")===!0?this.createTrackerImage("//secure-au.imrworldwide.com/cgi-bin/m?ci=alluremedia&cg=0&cc=1&ts=noscript"):e.getScript("http://secure-au.imrworldwide.com/v60.js?ver=3.4.2",function(){var e=window.nol_t({cid:"alluremedia",content:"0",server:"secure-au"});e.record().post()})},addChartbeat:function(){var i=this.createScriptTag("//static.chartbeat.com/js/chartbeat.js"),e=window._sf_async_config||{},s=n.canonicalHost,o=t.kinjaMeta.tags||"";o.length>0&&(s=s+","+o),e.uid=3012,e.domain=u.reportedHost(),e.useCanonical=!0,e.sections=s,e.authors=t.kinjaMeta.authors||"",window._sf_async_config=e,window._sf_endpt=(new Date).getTime(),this.insertTracker(i)},addKruxControlTag:function(){var e=n&&n.kruxId?n.kruxId:"JO5QwU-I",t=("https:"===o?"https:":"http:")+"//cdn.krxd.net/controltag?confid="+e,s=this.createScriptTag(t);this.insertTracker(s),this.addKruxPixels()},addKruxPixels:function(){var t=this,n=e("iframe.youtube"),s=e("iframe.vimeo");n.length&&this.loadYoutubeAPI().done(function(){t.youtubeIsTriggered(n)}),s.length&&require(["lib/amd-wrapped/froogaloop"],function(){Froogaloop&&t.vimeoIsTriggered(s)}),this.kruxLinkClickTracking()},loadYoutubeAPI:function(){return e.getScript("http://www.youtube.com/player_api")},youtubeIsTriggered:function(o){function i(e){return function(o){var i=s.contains(n,e);t&&!i&&o.data===YT.PlayerState.PLAYING&&(a.triggerKruxLinkPixel("JTSiOctO"),n.push(e))}}var a=this,t={},n=[];window.onYouTubeIframeAPIReady=function(){o.each(function(){var s=e(this).attr("data-chomp-id"),n="youtube-"+s;n&&(t[n]=new YT.Player(n,{events:{onStateChange:i(n)}}))})}},vimeoIsTriggered:function(n){function o(o){var n=e("#"+o).attr("id"),a=s.contains(t,n);a||(i.triggerKruxLinkPixel("JTSiOctO"),t.push(n))}var i=this,t=[];n.each(function(){var e=new Froogaloop(this);e.addEvent("play",o)})},kruxLinkClickTracking:function(){var n=this,t={"amazon.com":{eventId:"JTS-IXvt"},"ebay.com":{eventId:"JTS-spFt"},"bestbuy.com":{eventId:"JTS-spFt"},"walmart.com":{eventId:"JTS-spFt"},"smears.com":{eventId:"JTS-spFt"},"twitter.com":{eventId:"JTS_oslC"},"facebook.com":{eventId:"JTS_azAt"},"instagram.com":{eventId:"JTS_wO-8"},"dreamhost.com":{eventId:"JTS-geuH"},"hostgator.com":{eventId:"JTS-geuH"},"bluehost.com":{eventId:"JTS-geuH"},"asmallorange.com":{eventId:"JTS-geuH"}};e(".entry-content a, .item-content a").on("click",function(){var o,i,a=e(this).attr("href");a&&(i=a.replace(/(www)?http(s)?:\/\//,"").split(/[/?#]/)[0],o=s.find(s.keys(t),function(e){return-1!==i.indexOf(e)})),o&&n.triggerKruxLinkPixel(t[o].eventId)})},triggerKruxLinkPixel:function(e){(new Image).src=("https:"===o?"https:":"http:")+"//beacon.krxd.net/event.gif?event_id="+e+"&event_type=cact"},addGoogleAnalytics:function(){var i="//stats.g.doubleclick.net/dc.js",a=this.createScriptTag(i),s=window._gaq||[],o=e.cookie("kinjaads.displayName");s.push(["_setAccount","UA-142218-33"]),void 0!==n.canonicalHost&&s.push(["_setDomainName",n.canonicalHost]),s.push(["_setCustomVar",1,"Login state",o&&""!==o?"Logged in":"Logged out",2]),s.push(["_trackPageview"]),"atlatszooktatas.cink.hu"===n.canonicalHost&&(s.push(["atlatszooktatas._setAccount","UA-41411601-1"]),s.push(["atlatszooktatas._trackPageview"])),t.getKinjaMeta().blog&&""!==t.getKinjaMeta().blog.googleAnalyticsID&&(s.push(["unique._setAccount",t.getKinjaMeta().blog.googleAnalyticsID]),s.push(["unique._trackPageview"])),window._gaq=s,this.insertTracker(a)},addGoogleAnalyticsUniversalScript:function(){!function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=(new Date).getTime(),n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga")},addComScore:function(){var t=("https:"===o?"https://sb":"http://b")+".scorecardresearch.com/beacon.js",n=this.createScriptTag(t),e=window._comscore||[];e.push({c1:"2",c2:"6770184"}),window._comscore=e,this.insertTracker(n)},addQuantcast:function(){var e,n,s,c=("https:"===o?"https://secure":"http://edge")+".quantserve.com/quant.js",l=this.createScriptTag(c),i=window._qevents||[],r={qacct:"p-d4P3FpSypJrlA"};"permalink"===t.kinjaMeta.pageType&&t.kinjaMeta.post&&(n=""!==t.kinjaMeta.post.headline?t.kinjaMeta.post.headline.replace(/,|\./g,""):t.kinjaMeta.post.first100Characters.replace(/,|\./g,""),s=a(t.kinjaMeta.post.publishTimeMillis).format("YYYY-MM-DD"),e="Author."+t.kinjaMeta.authors.replace(/,|\./g,"")+"."+n+",Post Title."+n+",Post Publish Date."+s,void 0!==t.kinjaMeta.post.tags[0]&&(e+=",Primary Tag."+t.kinjaMeta.post.tags[0].desc.replace(/,|\./g,"")),r.labels=e),i.push(r),window._qevents=i,this.insertTracker(l)},addSkimLinks:function(){var e,t="//s.skimresources.com/js/";switch(n.canonicalHost){case"jalopnik.com":case"oppositelock.jalopnik.com":case"drive.jalopnik.com":case"thefusionproject.jalopnik.com":e="33330X911653";break;case"io9.com":case"observationdeck.io9.com":e="33330X911651";break;case"kotaku.com":case"live.kotaku.com":e="33330X911644";break;case"gizmodo.com":case"live.gizmodo.com":case"paleofuture.gizmodo.com":e="33330X911642";break;case"gawker.com":case"defamer.gawker.com":case"valleywag.gawker.com":e="33330X911623";break;case"deadspin.com":e="33330X911648";break;case"jezebel.com":e="33330X911650";break;case"lifehacker.com":e="33330X911647";break;default:window.skimlinks_tracking=n.canonicalHost,e="33330X1169095"}this.insertTracker(this.createScriptTag(t+e+".skimlinks.js"))},addOmnitureTracker:function(n){var t,e=window.amc||{};e.on||(e.on=e.call=function(){}),t=this.createScriptTag(n),this.insertTracker(t)},_gptAudienceUrl:function(o,l,i){var n,a=4246,r="http://pubads.g.doubleclick.net/activity;dc_iu=/"+a+"/DFP_Audience_Pixel",c=1e13*Math.random(),e=t.getKinjaMeta(),d=e.postId||"",s=e.tags||"";return n=[r,"dc_seg="+o,"blog="+e.blog.name,"ord="+c,"postId="+d],s.length<=this.tagLengthLimit&&!i&&n.push("tags="+s),n.join(";")+(l||"")+"?"},addGptAudienceTracker:function(){this.createTrackerImage(this._gptAudienceUrl(22540930))},addGptInboundAudienceTracker:function(){var t=document.referrer,e=";refer="+t,n=d.scanForSocialReferrers();n&&(e+=";refer=social"),this.createTrackerImage(this._gptAudienceUrl(23702290,e))},addGptOutboundAudienceTracker:function(t){var n=e(t.currentTarget).prop("hostname").split(".").slice(-2).join("."),s=";outbound="+n;this.createTrackerImage(this._gptAudienceUrl(23753410,s,!0))},trackDescriptionLinks:function(){e(".description-content a").each(function(){var t='window._gaq.push(["_trackEvent", "Site description tag links", "Tag clicked", "'+this.href+'"]);';e(this).attr("onclick",t)})},createTrackerImage:function(t){var e=new Image(1,1);e.src=t,this.insertTracker(e)},createScriptTag:function(t){var e=document.createElement("script");return e.setAttribute("language","javascript"),e.setAttribute("type","text/javascript"),e.setAttribute("src",t),e.setAttribute("async","async"),e},insertTracker:function(e){this.$trackerContainer.append(e)},trackError:function(){this.addUniversalGAEvents()}},{loadDummyTrackers:function(){window._gaq=[],window.ga=function(){}}});return{load:s.once(function(){return new i}),loadDummy:i.loadDummyTrackers,trackError:function(){var e=new i;e.trackError()}}}),function(t,e){define("backbone.marionette",["underscore","backbone"],e)}(this,function(e,t){var n=function(i,n,t){"use strict";function s(t,n){var e=new Error(t);throw e.name=n||"Error",e}!function(e,t){var n=e.ChildViewContainer;return e.ChildViewContainer=function(s,e){var n,t=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};return e.extend(t.prototype,{add:function(e,n){var t=e.cid;return this._views[t]=e,e.model&&(this._indexByModel[e.model.cid]=t),n&&(this._indexByCustom[n]=t),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(e){return this._views[e]},remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(e,t){return e===n?(delete this._indexByCustom[t],!0):void 0},this),delete this._views[n],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,n){e.each(this._views,function(s){e.isFunction(s[t])&&s[t].apply(s,n||[])})},_updateLength:function(){this.length=e.size(this._views)}}),n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],e.each(n,function(n){t.prototype[n]=function(){var t=e.values(this._views),s=[t].concat(e.toArray(arguments));return e[n].apply(e,s)}}),t}(e,t),e.ChildViewContainer.VERSION="0.1.4",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=n,this},e.ChildViewContainer}(n,t),function(e,t){var s=e.Wreqr,n=e.Wreqr={};return e.Wreqr.VERSION="1.3.1",e.Wreqr.noConflict=function(){return e.Wreqr=s,this},n.Handlers=function(n,e){var t=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return t.extend=n.Model.extend,e.extend(t.prototype,n.Events,{setHandlers:function(t){e.each(t,function(t,s){var n=null;e.isObject(t)&&!e.isFunction(t)&&(n=t.context,t=t.callback),this.setHandler(s,t,n)},this)},setHandler:function(e,t,n){var s={callback:t,context:n};this._wreqrHandlers[e]=s,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){var t=Array.prototype.slice.apply(arguments);return e.callback.apply(e.context,t)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),t}(e,t),n.CommandStorage=function(){var n=function(e){this.options=e,this._commands={},t.isFunction(this.initialize)&&this.initialize(e)};return t.extend(n.prototype,e.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),n}(),n.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,n,s){var o=this.storage.getCommands(e);t.each(o.instances,function(e){n.apply(s,e)}),this.storage.clearCommands(e)},_initializeStorage:function(n){var e=n.storageType||this.storageType,s=t.isFunction(e)?new e:e;this.storage=s}})}(n),n.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.hasHandler(e)?this.getHandler(e).apply(this,t):void 0}})}(n),n.EventAggregator=function(t,n){var e=function(){};return e.extend=t.Model.extend,n.extend(e.prototype,t.Events),e}(e,t),n.Channel=function(){var n=function(t){this.vent=new e.Wreqr.EventAggregator,this.reqres=new e.Wreqr.RequestResponse,this.commands=new e.Wreqr.Commands,this.channelName=t};return t.extend(n.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(n,s,e){if(s){e=e||this;var o="vent"===n?"on":"setHandler";t.each(s,function(s,i){this[n][o](i,t.bind(s,e))},this)}}}),n}(n),n.radio=function(n){e=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()},t.extend(e.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var e=this._channels[t];return e||(e=new n.Channel(t),this._channels[t]=e),e},_proxyMethods:function(){t.each(["vent","commands","reqres"],function(e){t.each(s[e],function(t){this[e][t]=o(this,e,t)},this)},this)}});var e,s={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},o=function(e,t,n){return function(o){var s=e._getChannel(o)[t],i=Array.prototype.slice.call(arguments,1);return s[n].apply(s,i)}};return new e}(n),e.Wreqr}(n,t);var o,e={};return n.Marionette=e,e.$=n.$,o=Array.prototype.slice,e.extend=n.Model.extend,e.getOption=function(e,t){if(e&&t){var n;return n=e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]}},e.normalizeMethods=function(s){var e,n={};return t.each(s,function(s,o){e=s,t.isFunction(e)||(e=this[e]),e&&(n[o]=e)},this),n},e.normalizeUIKeys=function(e,n){return"undefined"!=typeof e?(t.each(t.keys(e),function(t){var s=/@ui.[a-zA-Z_$0-9]*/g;t.match(s)&&(e[t.replace(s,function(e){return n[e.slice(4)]})]=e[t],delete e[t])}),e):void 0},e.actAsCollection=function(e,n){var s=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];t.each(s,function(s){e[s]=function(){var e=t.values(t.result(this,n)),o=[e].concat(t.toArray(arguments));return t[s].apply(t,o)}})},e.triggerMethod=function(){function e(t,n,e){return e.toUpperCase()}var n=/(^|:)(\w)/gi,s=function(o){var i="on"+o.replace(n,e),s=this[i];return t.isFunction(this.trigger)&&this.trigger.apply(this,arguments),t.isFunction(s)?s.apply(this,t.tail(arguments)):void 0};return s}(),e.MonitorDOMRefresh=function(n){function s(t){t._isShown=!0,e(t)}function o(t){t._isRendered=!0,e(t)}function e(e){e._isShown&&e._isRendered&&i(e)&&t.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}function i(e){return n.contains(e.el)}return function(e){e.listenTo(e,"show",function(){s(e)}),e.listenTo(e,"render",function(){o(e)})}}(document.documentElement),function(e){function o(e,n,o,i){var a=i.split(/\s+/);t.each(a,function(t){var i=e[t];i||s("Method '"+t+"' was configured as an event handler, but does not exist."),e.listenTo(n,o,i)})}function i(e,t,n,s){e.listenTo(t,n,s)}function a(e,n,s,o){var i=o.split(/\s+/);t.each(i,function(t){var o=e[t];e.stopListening(n,s,o)})}function r(e,t,n,s){e.stopListening(t,n,s)}function n(n,s,e,o,i){s&&e&&(t.isFunction(e)&&(e=e.call(n)),t.each(e,function(e,a){t.isFunction(e)?o(n,s,a,e):i(n,s,a,e)}))}e.bindEntityEvents=function(e,t,s){n(e,t,s,i,o)},e.unbindEntityEvents=function(e,t,s){n(e,t,s,r,a)}}(e),e.Callbacks=function(){this._deferred=e.$.Deferred(),this._callbacks=[]},t.extend(e.Callbacks.prototype,{add:function(t,e){this._callbacks.push({cb:t,ctx:e}),this._deferred.done(function(n,s){e&&(n=e),t.call(n,s)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var n=this._callbacks;this._deferred=e.$.Deferred(),this._callbacks=[],t.each(n,function(e){this.add(e.cb,e.ctx)},this)}}),e.Controller=function(n){this.triggerMethod=e.triggerMethod,this.options=n||{},t.isFunction(this.initialize)&&this.initialize(this.options)},e.Controller.extend=e.extend,t.extend(e.Controller.prototype,n.Events,{close:function(){this.stopListening();var e=Array.prototype.slice.call(arguments);this.triggerMethod.apply(this,["close"].concat(e)),this.off()}}),e.Region=function(t){if(this.options=t||{},this.el=e.getOption(this,"el"),this.el||s("An 'el' must be specified for a region.","NoElError"),this.initialize){var n=Array.prototype.slice.apply(arguments);this.initialize.apply(this,n)}},t.extend(e.Region,{buildRegion:function(e,d){var n,a,r,i=t.isString(e),c=t.isString(e.selector),l=t.isUndefined(e.regionType),o=t.isFunction(e);return o||i||c||s("Region must be specified as a Region type, a selector string or an object with selector property"),i&&(a=e),e.selector&&(a=e.selector,delete e.selector),o&&(n=e),!o&&l&&(n=d),e.regionType&&(n=e.regionType,delete e.regionType),(i||o)&&(e={}),e.el=a,r=new n(e),e.parentEl&&(r.getEl=function(s){var n=e.parentEl;return t.isFunction(n)&&(n=n()),n.find(s)}),r}}),t.extend(e.Region.prototype,n.Events,{show:function(n,o){this.ensureEl();var i=o||{},a=n.isClosed||t.isUndefined(n.$el),s=n!==this.currentView,r=!!i.preventClose,c=!r&&s;return c&&this.close(),n.render(),e.triggerMethod.call(this,"before:show",n),t.isFunction(n.triggerMethod)?n.triggerMethod("before:show"):e.triggerMethod.call(n,"before:show"),(s||a)&&this.open(n),this.currentView=n,e.triggerMethod.call(this,"show",n),t.isFunction(n.triggerMethod)?n.triggerMethod("show"):e.triggerMethod.call(n,"show"),this},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(t){return e.$(t)},open:function(e){this.$el.empty().append(e.el)},close:function(){var t=this.currentView;t&&!t.isClosed&&(t.close?t.close():t.remove&&t.remove(),e.triggerMethod.call(this,"close",t),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),e.Region.extend=e.extend,e.RegionManager=function(e){var n=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(n,s){var e={};return t.each(n,function(n,o){t.isString(n)&&(n={selector:n}),n.selector&&(n=t.defaults({},n,s));var i=this.addRegion(o,n);e[o]=i},this),e},addRegion:function(o,n){var s,i=t.isObject(n),a=t.isString(n),r=!!n.selector;return s=a||i&&r?e.Region.buildRegion(n,e.Region):t.isFunction(n)?e.Region.buildRegion(n,e.Region):n,this._store(o,s),this.triggerMethod("region:add",o,s),s},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){t.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){t.each(this._regions,function(e){e.close()},this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(t,e){e.close(),e.stopListening(),delete this._regions[t],this._setLength(),this.triggerMethod("region:remove",t,e)},_setLength:function(){this.length=t.size(this._regions)}});return e.actAsCollection(n.prototype,"_regions"),n}(e),e.TemplateCache=function(e){this.templateId=e},t.extend(e.TemplateCache,{templateCaches:{},get:function(n){var t=this.templateCaches[n];return t||(t=new e.TemplateCache(n),this.templateCaches[n]=t),t.load()},clear:function(){var e,t=o.call(arguments),n=t.length;if(n>0)for(e=0;n>e;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),t.extend(e.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(n){var t=e.$(n).html();return t&&0!==t.length||s("Could not find template: '"+n+"'","NoTemplateError"),t},compileTemplate:function(e){return t.template(e)}}),e.Renderer={render:function(t,n){t||s("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError");var o;return(o="function"==typeof t?t:e.TemplateCache.get(t))(n)}},e.View=n.View.extend({constructor:function(s){t.bindAll(this,"render"),this.options=t.extend({},t.result(this,"options"),t.isFunction(s)?s.call(this):s),this.events=this.normalizeUIKeys(t.result(this,"events")),t.isObject(this.behaviors)&&new e.Behaviors(this),n.View.prototype.constructor.apply(this,arguments),e.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:e.triggerMethod,normalizeMethods:e.normalizeMethods,getTemplate:function(){return e.getOption(this,"template")},mixinTemplateHelpers:function(s){s=s||{};var n=e.getOption(this,"templateHelpers");return t.isFunction(n)&&(n=n.call(this)),t.extend(s,n)},normalizeUIKeys:function(n){var s=t.result(this,"ui");return e.normalizeUIKeys(n,s)},configureTriggers:function(){if(this.triggers){var e={},n=this.normalizeUIKeys(t.result(this,"triggers"));return t.each(n,function(n,o){var s=t.isObject(n),i=s?n.event:n;e[o]=function(e){if(e){var a,t=e.preventDefault,o=e.stopPropagation,r=s?n.preventDefault:t,c=s?n.stopPropagation:o;r&&t&&t.apply(e),c&&o&&o.apply(e)}a={view:this,model:this.model,collection:this.collection},this.triggerMethod(i,a)}},this),e}},delegateEvents:function(t){this._delegateDOMEvents(t),e.bindEntityEvents(this,this.model,e.getOption(this,"modelEvents")),e.bindEntityEvents(this,this.collection,e.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,t.isFunction(e)&&(e=e.call(this));var s={},o=t.result(this,"behaviorEvents")||{},i=this.configureTriggers();t.extend(s,o,e,i),n.View.prototype.delegateEvents.call(this,s)},undelegateEvents:function(){var t=Array.prototype.slice.call(arguments);n.View.prototype.undelegateEvents.apply(this,t),e.unbindEntityEvents(this,this.model,e.getOption(this,"modelEvents")),e.unbindEntityEvents(this,this.collection,e.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var e=Array.prototype.slice.call(arguments),t=this.triggerMethod.apply(this,["before:close"].concat(e));t!==!1&&(this.isClosed=!0,this.triggerMethod.apply(this,["close"].concat(e)),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=t.result(this,"_uiBindings");this.ui={},t.each(t.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(t.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),e.ItemView=e.View.extend({constructor:function(){e.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var t=this.serializeData(),t=this.mixinTemplateHelpers(t),n=this.getTemplate(),s=e.Renderer.render(n,t);return this.$el.html(s),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),e.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),e.CollectionView=e.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage(),e.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(t.each(this._bufferedChildren,function(n){t.isFunction(n.triggerMethod)?n.triggerMethod("show"):e.triggerMethod.call(n,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e){this.closeEmptyView();var t=this.getItemView(e),n=this.collection.indexOf(e);this.addItemView(e,t,n)},onShowCalled:function(){this.children.each(function(n){t.isFunction(n.triggerMethod)?n.triggerMethod("show"):e.triggerMethod.call(n,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)},this)},showEmptyView:function(){var t,e=this.getEmptyView();e&&!this._showingEmptyView&&(this._showingEmptyView=!0,t=new n.Model,this.addItemView(t,e,0))},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return e.getOption(this,"emptyView")},getItemView:function(){var t=e.getOption(this,"itemView");return t||s("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(o,a,i){var n,s=e.getOption(this,"itemViewOptions");return t.isFunction(s)&&(s=s.call(this,o,i)),n=this.buildItemView(o,a,s),this.addChildViewEventForwarding(n),this.triggerMethod("before:item:added",n),this.children.add(n),this.renderItemView(n,i),this._isShown&&!this.isBuffering&&(t.isFunction(n.triggerMethod)?n.triggerMethod("show"):e.triggerMethod.call(n,"show")),this.triggerMethod("after:item:added",n),n},addChildViewEventForwarding:function(n){var s=e.getOption(this,"itemViewEventPrefix");this.listenTo(n,"all",function(){var i=o.call(arguments),a=i[0],r=this.normalizeMethods(this.getItemEvents());i[0]=s+":"+a,i.splice(1,0,n),"undefined"!=typeof r&&t.isFunction(r[a])&&r[a].apply(this,i),e.triggerMethod.apply(this,i)},this)},getItemEvents:function(){return t.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,n,s){var o=t.extend({model:e},s);return new n(o)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(e.close?e.close():e.remove&&e.remove(),this.stopListening(e),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new n.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),e.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),e.CompositeView=e.CollectionView.extend({constructor:function(){e.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))})},getItemView:function(){var t=e.getOption(this,"itemView")||this.constructor;return t||s("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),e.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var t={},t=this.serializeData(),t=this.mixinTemplateHelpers(t),n=this.getTemplate();return e.Renderer.render(n,t)},appendBuffer:function(e,t){var n=this.getItemViewContainer(e);n.append(t)},appendHtml:function(e,t){if(e.isBuffering)e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t);else{var n=this.getItemViewContainer(e);n.append(t.el)}},getItemViewContainer:function(n){if("$itemViewContainer"in n)return n.$itemViewContainer;var o,a,i=e.getOption(n,"itemViewContainer");return i?(a=t.isFunction(i)?i.call(n):i,o="@"===a.charAt(0)&&n.ui?n.ui[a.substr(4)]:n.$(a),o.length<=0&&s("The specified `itemViewContainer` was not found: "+n.itemViewContainer,"ItemViewContainerMissingError")):o=n.$el,n.$itemViewContainer=o,o},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),e.Layout=e.ItemView.extend({regionType:e.Region,constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),e.ItemView.prototype.constructor.call(this,t)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),e.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),e.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,n){var t={};return t[e]=n,this._buildRegions(t)[e]},addRegions:function(e){return this.regions=t.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},_buildRegions:function(t){var n=this,s={regionType:e.getOption(this,"regionType"),parentEl:function(){return n.$el}};return this.regionManager.addRegions(t,s)},_initializeRegions:function(n){var e;this._initRegionManager(),e=t.isFunction(this.regions)?this.regions(n):this.regions||{},this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new e.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),e.Behavior=function(t,s){function n(e,n){this.view=n,this.defaults=t.result(this,"defaults")||{},this.options=t.extend({},this.defaults,e),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return t.extend(n.prototype,s.Events,{initialize:function(){},close:function(){this.stopListening()},triggerMethod:e.triggerMethod}),n.extend=e.extend,n}(t,n),e.Behaviors=function(t,e){function n(t){this.behaviors=n.parseBehaviors(t,e.result(t,"behaviors")),n.wrap(t,this.behaviors,["bindUIElements","unbindUIElements","delegateEvents","undelegateEvents","behaviorEvents","triggerMethod","setElement","close"])}var s={setElement:function(t,n){t.apply(this,e.tail(arguments,2)),e.each(n,function(e){e.$el=this.$el},this)},close:function(n,s){var t=e.tail(arguments,2);n.apply(this,t),e.invoke(s,"close",t)},bindUIElements:function(t,n){t.apply(this),e.invoke(n,t)},unbindUIElements:function(t,n){t.apply(this),e.invoke(n,t)},triggerMethod:function(t,s){var n=e.tail(arguments,2);t.apply(this,n),e.each(s,function(e){t.apply(e,n)})},delegateEvents:function(n,s){var o=e.tail(arguments,2);n.apply(this,o),e.each(s,function(e){t.bindEntityEvents(e,this.model,t.getOption(e,"modelEvents")),t.bindEntityEvents(e,this.collection,t.getOption(e,"collectionEvents"))},this)},undelegateEvents:function(n,s){var o=e.tail(arguments,2);n.apply(this,o),e.each(s,function(e){t.unbindEntityEvents(e,this.model,t.getOption(e,"modelEvents")),t.unbindEntityEvents(e,this.collection,t.getOption(e,"collectionEvents"))},this)},behaviorEvents:function(i,s){var n={},o=e.result(this,"ui");return e.each(s,function(i,r){var a={},s=e.clone(e.result(i,"events"))||{},c=e.result(i,"ui"),l=e.extend({},o,c),s=t.normalizeUIKeys(s,l);e.each(e.keys(s),function(t){var n=new Array(r+2).join(" "),o=t+n,c=e.isFunction(s[t])?s[t]:i[s[t]];a[o]=e.bind(c,i)}),n=e.extend(n,a)}),n}};return e.extend(n,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored. See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(t,s){return t.behaviorClass?t.behaviorClass:e.isFunction(n.behaviorsLookup)?n.behaviorsLookup.apply(this,arguments)[s]:n.behaviorsLookup[s]},parseBehaviors:function(t,s){return e.map(s,function(e,s){var o=n.getBehaviorClass(e,s);return new o(e,t)})},wrap:function(t,n,o){e.each(o,function(o){t[o]=e.partial(s[o],t[o],n)})}}),n}(e,t),e.AppRouter=n.Router.extend({constructor:function(t){n.Router.prototype.constructor.apply(this,arguments),this.options=t||{};var s=e.getOption(this,"appRoutes"),o=this._getController();this.processAppRoutes(o,s),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},_processOnRoute:function(e,n){var s=t.invert(this.appRoutes)[e];t.isFunction(this.onRoute)&&this.onRoute(e,s,n)},processAppRoutes:function(n,e){if(e){var s=t.keys(e).reverse();t.each(s,function(t){this._addAppRoute(n,t,e[t])},this)}},_getController:function(){return e.getOption(this,"controller")},_addAppRoute:function(n,i,e){var o=n[e];o||s("Method '"+e+"' was not found on the controller"),this.route(i,e,t.bind(o,n))}}),e.Application=function(s){this._initRegionManager(),this._initCallbacks=new e.Callbacks,this.vent=new n.Wreqr.EventAggregator,this.commands=new n.Wreqr.Commands,this.reqres=new n.Wreqr.RequestResponse,this.submodules={},t.extend(this,s),this.triggerMethod=e.triggerMethod},t.extend(e.Application.prototype,n.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(i,s){var t=e.Module.getClass(s),n=o.call(arguments);return n.unshift(this),t.create.apply(t,n)},_initRegionManager:function(){this._regionManager=new e.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e){delete this[e]})}}),e.Application.extend=e.extend,e.Module=function(n,s,o){this.moduleName=n,this.options=t.extend({},this.options,o),this.initialize=o.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=s,this.startWithParent=!0,this.triggerMethod=e.triggerMethod,t.isFunction(this.initialize)&&this.initialize(this.options,n,s)},e.Module.extend=e.extend,t.extend(e.Module.prototype,n.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(t.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,e.triggerMethod.call(this,"before:stop"),t.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),e.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(s,o){if(s){var i=t.flatten([this,this.app,n,e,e.$,t,o]);s.apply(this,i)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new e.Callbacks,this._finalizerCallbacks=new e.Callbacks}}),t.extend(e.Module,{create:function(c,e,i){var s,r,n=c,a=o.call(arguments);return a.splice(0,3),e=e.split("."),r=e.length,s=[],s[r-1]=i,t.each(e,function(t,o){var e=n;n=this._getModule(e,t,c,i),this._addModuleDefinition(e,n,s[o],a)},this),n},_getModule:function(s,n,i,o){var a=t.extend({},o),r=this.getClass(o),e=s[n];return e||(e=new r(n,i,a),s[n]=e,s.submodules[n]=e),e},getClass:function(t){var n=e.Module;return t?t.prototype instanceof n?t:t.moduleClass||n:n},_addModuleDefinition:function(s,e,t,o){var n=this._getDefine(t),i=this._getStartWithParent(t,e);n&&e.addDefinition(n,o),this._addStartWithParent(s,e,i)},_getStartWithParent:function(s,o){var n;return t.isFunction(s)&&s.prototype instanceof e.Module?(n=o.constructor.prototype.startWithParent,!!t.isUndefined(n)||n):!t.isObject(s)||(n=s.startWithParent,!!t.isUndefined(n)||n)},_getDefine:function(n){return!t.isFunction(n)||n.prototype instanceof e.Module?t.isObject(n)?n.define:null:n},_addStartWithParent:function(t,e,n){e.startWithParent=e.startWithParent&&n,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),e}(this,t,e);return n}),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(e,t){return"function"==typeof define&&define.amd?define("lib/waypoints",["jquery"],function(n){return t(n,e)}):t(e.jQuery,e)}(this,function(n,o){var s,i,a,r,c,l,d,u,h,m,f,p,g,v,b,j;return h=n(o),g=t.call(o,"ontouchstart")>=0,r={horizontal:{},vertical:{}},j=1,c={},d="waypoints-context-id",f="resize.waypoints",p="scroll.waypoints",v=1,u="waypoints-waypoint-ids",l="waypoint",a="waypoints",b=function(){function e(e){var t=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+j++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},e.data(d,this.id),c[this.id]=this,e.bind(p,function(){var e;return t.didScroll||g?void 0:(t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},o.setTimeout(e,n[a].settings.scrollThrottle))}),e.bind(f,function(){var e;return t.didResize?void 0:(t.didResize=!0,e=function(){return n[a]("refresh"),t.didResize=!1},o.setTimeout(e,n[a].settings.resizeThrottle))})}return e.prototype.doScroll=function(){var e,t=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!g||e.vertical.oldScroll&&e.vertical.newScroll||n[a]("refresh"),n.each(e,function(a,e){var s,o,i;return s=[],o=e.newScroll>e.oldScroll,i=o?e.forward:e.backward,n.each(t.waypoints[a],function(i,t){var n,o;return e.oldScroll<(n=t.offset)&&n<=e.newScroll?s.push(t):e.newScroll<(o=t.offset)&&o<=e.oldScroll?s.push(t):void 0}),s.sort(function(e,t){return e.offset-t.offset}),o||s.reverse(),n.each(s,function(t,e){return e.options.continuous||t===s.length-1?e.trigger([i]):void 0})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,t,s,o=this;return e=n.isWindow(this.element),t=this.$element.offset(),this.doScroll(),s={horizontal:{contextOffset:e?0:t.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:t.top,contextScroll:e?0:this.oldScroll.y,contextDimension:e?n[a]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(s,function(t,e){return n.each(o.waypoints[t],function(c,t){var s,o,i,a,r;return s=t.options.offset,o=t.offset,a=n.isWindow(t.element)?0:t.$element.offset()[e.offsetProp],n.isFunction(s)?s=s.apply(t.element):"string"==typeof s&&(s=parseFloat(s),t.options.offset.indexOf("%")>-1&&(s=Math.ceil(e.contextDimension*s/100))),t.offset=a-e.contextOffset+e.contextScroll-s,t.options.onlyOnScroll&&null!=o||!t.enabled?void 0:null!==o&&o<(r=e.oldScroll)&&r<=t.offset?t.trigger([e.backward]):null!==o&&o>(i=e.oldScroll)&&i>=t.offset?t.trigger([e.forward]):null===o&&e.oldScroll>=t.offset?t.trigger([e.forward]):void 0})})},e.prototype.checkEmpty=function(){return n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([f,p].join(" ")),delete c[this.id]):void 0},e}(),m=function(){function e(t,s,e){var o,i;e=n.extend({},n.fn[l].defaults,e),"bottom-in-view"===e.offset&&(e.offset=function(){var e;return e=n[a]("viewportHeight"),n.isWindow(s.element)||(e=s.$element.height()),e-n(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=e.horizontal?"horizontal":"vertical",this.callback=e.handler,this.context=s,this.enabled=e.enabled,this.id="waypoints"+v++,this.offset=null,this.options=e,s.waypoints[this.axis][this.id]=this,r[this.axis][this.id]=this,o=null!=(i=t.data(u))?i:[],o.push(this.id),t.data(u,o)}return e.prototype.trigger=function(e){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,e),this.options.triggerOnce?this.destroy():void 0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete r[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},e.getWaypointsByElement=function(s){var e,t;return(t=n(s).data(u))?(e=n.extend({},r.horizontal,r.vertical),n.map(t,function(t){return e[t]})):[]},e}(),i={init:function(t,e){var s;return null==e&&(e={}),null==(s=e.handler)&&(e.handler=t),this.each(function(){var t,s,o,i;return o=n(this),t=null!=(i=e.context)?i:n.fn[l].defaults.context,n.isWindow(t)||(t=o.closest(t)),t=n(t),s=c[t.data(d)],s||(s=new b(t)),new m(o,s,e)}),n[a]("refresh"),this},disable:function(){return i._invoke(this,"disable")},enable:function(){return i._invoke(this,"enable")},destroy:function(){return i._invoke(this,"destroy")},prev:function(e,t){return i._traverse.call(this,e,t,function(t,e,n){return e>0?t.push(n[e-1]):void 0})},next:function(e,t){return i._traverse.call(this,e,t,function(n,e,t){return e<t.length-1?n.push(t[e+1]):void 0})},_traverse:function(e,t,r){var i,a;return null==e&&(e="vertical"),null==t&&(t=o),a=s.aggregate(t),i=[],this.each(function(){var t;return t=n.inArray(this,a[e]),r(i,t,a[e])}),this.pushStack(i)},_invoke:function(e,t){return e.each(function(){var e;return e=m.getWaypointsByElement(this),n.each(e,function(n,e){return e[t](),!0})}),this}},n.fn[l]=function(){var t,s;return t=arguments[0],s=2<=arguments.length?e.call(arguments,1):[],i[t]?i[t].apply(this,s):n.isFunction(t)?i.init.apply(this,arguments):n.isPlainObject(t)?i.init.apply(this,[null,t]):t?n.error("The "+t+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[l].defaults={context:o,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},s={refresh:function(){return n.each(c,function(t,e){return e.refresh()})},viewportHeight:function(){var e;return null!=(e=o.innerHeight)?e:h.height()},aggregate:function(s){var e,t,o;return t=r,s&&(t=null!=(o=c[n(s).data(d)])?o.waypoints:void 0),t?(e={horizontal:[],vertical:[]},n.each(e,function(s,o){return n.each(t[s],function(t,e){return o.push(e)}),o.sort(function(e,t){return e.offset-t.offset}),e[s]=n.map(o,function(e){return e.element}),e[s]=n.unique(e[s])}),e):[]},above:function(e){return null==e&&(e=o),s._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return null==e&&(e=o),s._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return null==e&&(e=o),s._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return null==e&&(e=o),s._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return s._invoke("enable")},disable:function(){return s._invoke("disable")},destroy:function(){return s._invoke("destroy")},extendFn:function(e,t){return i[e]=t},_invoke:function(t){var e;return e=n.extend({},r.vertical,r.horizontal),n.each(e,function(n,e){return e[t](),!0})},_filter:function(s,o,i){var e,t;return(t=c[n(s).data(d)])?(e=[],n.each(t.waypoints[o],function(s,n){return i(t,n)?e.push(n):void 0}),e.sort(function(e,t){return e.offset-t.offset}),n.map(e,function(e){return e.element})):[]}},n[a]=function(){var t,n;return t=arguments[0],n=2<=arguments.length?e.call(arguments,1):[],s[t]?s[t].apply(null,n):s.aggregate.call(null,t)},n[a].settings={resizeThrottle:100,scrollThrottle:30},h.load(function(){return n[a]("refresh")})})}.call(this),function(){!function(t,e){return"function"==typeof define&&define.amd?define("lib/waypoints-sticky",["jquery","lib/waypoints"],e):e(t.jQuery)}(window,function(e){var t,n;return t={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},n=function(e,n){var t;return e.wrap(n.wrapper),t=e.parent(),t.data("isWaypointStickyWrapper",!0)},e.waypoints("extendFn","sticky",function(a){var s,o,i;return s=e.extend({},e.fn.waypoint.defaults,t,a),o=n(this,s),i=s.handler,s.handler=function(a){var t,n;return t=e(this).children(":first"),n=-1!==s.direction.indexOf(a),t.toggleClass(s.stuckClass,n),o.height(n?t.outerHeight():""),null!=i?i.call(this,a):void 0},o.waypoint(s),this.data("stuckClass",s.stuckClass)}),e.waypoints("extendFn","unsticky",function(){var e;return e=this.parent(),e.data("isWaypointStickyWrapper")?(e.waypoint("destroy"),this.unwrap(),this.removeClass(this.data("stuckClass"))):this})})}.call(this),define("singleton/WindowController",["underscore","jquery","backbone.marionette","lib/amd-wrapped/modernizr","lib/waypoints","lib/waypoints-sticky"],function(s,r,c,e){"use strict";var n,o,i,a,l=r(document),t=r(window);return i=["-webkit-transform","-o-transform","-ms-transform","-moz-transform","transform"],a=c.Controller.extend({isSmall:function(){return e.mq("(max-width:639px)")},isMedium:function(){return e.mq("(min-width:640px) and (max-width:1023px)")},isMediumDown:function(){return e.mq("(max-width:1023px)")},isMediumUp:function(){return e.mq("(min-width:640px)")},isMlargeUp:function(){return e.mq("(min-width:768px)")},isIntermediaryLargeUp:function(){return e.mq("(min-width:800px)")},isLarge:function(){return e.mq("(min-width:1024px) and (max-width:1439px)")},isLargeUp:function(){return e.mq("(min-width:1024px)")},isXlarge:function(){return e.mq("(min-width:1440px) and (max-width:1919px)")},isXxlarge:function(){return e.mq("(min-width:1920px)")},isPartiallyVisible:function(n){var i=n.offset(),a=t.scrollTop(),e=i.top-a,s=e+n.outerHeight(!0),o=t.height();return o>e&&e>0||o>s&&s>0},getTransformProperties:function(){if(!window.getComputedStyle)return!1;if(n)return n;var e=document.createElement("p"),t=[];return document.body.insertBefore(e,null),s.each(i,function(n){void 0!==e.style[n]&&(e.style[n]="translate3d(1px, 1px, 1px)",window.getComputedStyle(e).getPropertyValue(n)&&t.push(n))}),document.body.removeChild(e),t.length&&(n=t),t},getTransformValues:function(a){var e,t,i,r=window.getComputedStyle(a[0]),s=[];return t={translate:null,scale:1,skew:"0deg",rotate:"0deg"},n&&n.length||o.getTransformProperties(),i=n[0],e=r[i].match(/-?[0-9]+/g).map(Number),s.push(e[4]),s.push(e[5]),t.translate=s,t},translateElement:function(n,e){var t="";e&&e.length&&(t="translate3d("+e[0]+"px, "+e[1]+"px, "+e[2]+"px)"),s.each(o.getTransformProperties(),function(e){n.css(e,t)})},_events:{},registerEvent:function(e,n,o){o?t.on(e,s.throttle(n,o)):t.on(e,n),this._events[e]=n},teardownEvent:function(e){t.off(e),delete this._events[e]},registerWaypoint:function(e,t,n){e.waypoint({handler:function(e){n.call(this,e)},offset:t})},teardownWaypoint:function(e){e.waypoint("destroy")},unbindScrollAutohide:function(){this.teardownEvent("scroll.autohide")},scrollAutohide:function(s,y){var e,n,o,a,r,d,u,h,v=t.height(),b=y.waypoint.offset().top,f=0,m=(new Date).getTime(),_=.8,w=3e3,p=function(){s.addClass("shown").trigger("autohide.pushdown.show")},c=function(){s.removeClass("shown").trigger("autohide.pushdown.hide")},g=function(){o=window.setTimeout(function(){c(),i()},w)},i=function(){window.clearInterval(o),o=0},j=function(y){n=t.scrollTop(),h=l.innerHeight(),a=y.timeStamp,r=n-f,e=0>r?"up":"down",d=Math.abs(r/(a-m)),m=a,f=n;var w=0>=n,O=n+v>=h-s.innerHeight(),j=d>_;j&&"up"===e||O?(p(),i()):w?(s.addClass("animated").addClass("notransition"),p(),s.removeClass("notransition"),i()):j&&"down"===e&&n>b&&c(),"down"!==e||u===e||o?"up"===e&&o&&i():g(),u=e};this.registerEvent("scroll.autohide",j,100)},registerWaypointWithTimeout:function(e,n,s,o){var t=function(){this.teardownWaypoint(e),window.clearTimeout(i),s()}.bind(this),i=window.setTimeout(t,o);this.registerWaypoint(e,n,t)}}),o=new a}),define("singleton/DeviceController",["jquery","backbone.marionette","lib/amd-wrapped/modernizr","singleton/WindowController"],function(s,o,t,n){"use strict";var e,i,a=function(){return navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome|chromium/i)}();return e=o.Controller.extend({isDesktopLike:function(){return n.isMlargeUp()&&!t.touch},isTabletLike:function(){return n.isMediumUp()&&t.touch},isMobileLike:function(){return n.isSmall()&&t.touch},deviceType:function(){return this.isMobileLike()?e.deviceType.MOBILE:this.isTabletLike()?e.deviceType.TABLET:e.deviceType.DESKTOP},setDevice:function(){var e=s("body");a&&e.addClass("browser-safari"),this.isMobileLike()?e.addClass("platform-mobile"):this.isTabletLike()&&e.addClass("platform-tablet")}},{deviceType:{MOBILE:"mobile",TABLET:"tablet",DESKTOP:"computer"}}),i=new e}),define("singleton/PerfTracker",["jquery"],function(i){"use strict";function c(s,e){var n,i=null,o=t.gaDefaultCategory;e=Math.round(e),0>e||e>=36e5||(n=s.split(" - "),n.length>1&&(o=n.shift(),s=n.join(" - ")),window.ga=window.ga||[],window.ga("send","event",o,s,e,i,t.gaSampling))}function a(t){var s=Object.keys(t),o=function(e){return e.replace(/ /gi,"_").toLowerCase()},e=[];0!==s.length&&(e=s.map(function(e){return{beaconId:o(e),timing:Math.round(t[e])}}),n=n.concat(e),i.ajax({url:"/stats/beacon?pageType="+l,processData:!1,contentType:"application/json",data:JSON.stringify({beacons:e}),type:"POST"}))}function o(){function h(t,e){return void 0===t[e.name]||e.startTime>t[e.name].startTime}function m(t,e){var n=h(t,e);return t[e.name]=n?e:t[e.name],n}function i(e){m(r,e)&&h(n,e)&&(n[e.name]=e.duration||e.startTime)}var o,l,d,u,n={};if(e.getEntriesByType&&e.clearMarks&&e.measure&&e.clearMeasures){if(l=e.getEntriesByType("mark"),d=e.getEntriesByType("measure"),u=e.getEntriesByType("resource"),l.forEach(i),d.forEach(i),t.measuredResourceMatcher&&u.forEach(function(e){if(-1===s.indexOf(e.name)){var o=e.name.match(t.measuredResourceMatcher);o&&(n["resource-"+o[1]+"-start"]=e.startTime,n["resource-"+o[1]+"-duration"]=e.duration),s.push(e.name)}}),t.gaTracking)for(o in n)n.hasOwnProperty(o)&&c(o,n[o]);t.statsdTracking&&a(n)}}function d(){window.setTimeout(function(){var n=e.timing||{};t.measuredTimingEvents.forEach(function(t){n[t]>0&&e.measure(t,"navigationStart",t)})},0)}var e=window.performance,r={},t={gaSampling:1,gaDefaultCategory:"UserTimings",interval:3,gaTracking:!1,statsdTracking:!0,measuredTimingEvents:["connectEnd","domComplete","domContentLoadedEventEnd","responseEnd","responseStart"],measuredResourceMatcher:/(critical|tiger|blog|Main|FrontPageApp|PostApp|proxima_nova_cond_sbold|elizabethserif-light-webfont)[-.]/},l=window.kinja&&window.kinja.meta&&window.kinja.meta.pageType?window.kinja.meta.pageType:"default",n=[],s=[];return{start:function(){window.addEventListener("load",d,!1),o(),window.setInterval(o,1e3*t.interval)},getProcessedMarks:function(){function e(e,t){return e.timing-t.timing}return n.sort(e)}}}),define("lib/amd-wrapped/postscribe",[],function(){return function(){function e(e,s){e=e||"",s=s||{};for(l in t)t.hasOwnProperty(l)&&(s.autoFix&&(s["fix_"+l]=!0),s.fix=s.fix||s["fix_"+l]);var l,g=[],d=document.createElement("div"),p=function(e){return"string"==typeof e&&-1!==e.indexOf("&")?(d.innerHTML=e,d.textContent||d.innerText||e):e},f=function(t){e+=t},u=function(t){e=t+e},h={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s/>]/i,startTag:/^</,chars:/^[^<]/},m={comment:function(){var t=e.indexOf("-->");return t>=0?{content:e.substr(4,t),length:t+3}:void 0},endTag:function(){var t=e.match(i);return t?{tagName:t[1],length:t[0].length}:void 0},atomicTag:function(){var n,s,t=m.startTag();if(t&&(s=e.slice(t.length),s.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))&&(n=s.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i")),n)))return{tagName:t.tagName,attrs:t.attrs,content:n[1],length:n[0].length+t.length}},startTag:function(){var t,n,s=e.indexOf(">");if(-1===s)return null;if(t=e.match(o),t)return n={},t[2].replace(a,function(s,e){var t=arguments[2]||arguments[3]||arguments[4]||r.test(e)&&e||null;n[e]=p(t)}),{tagName:t[1],attrs:n,unary:!!t[3],length:t[0].length}},chars:function(){var t=e.indexOf("<");return{length:t>=0?t:e.length}}},c=function(){for(s in h)if(h[s].test(e)){n&&console.log("suspected "+s);var s,t=m[s]();return t?(n&&console.log("parsed "+s,t),t.type=t.type||s,t.text=e.substr(0,t.length),e=e.slice(t.length),t):null}},v=function(t){for(var e;e=c();)if(t[e.type]&&t[e.type](e)===!1)return},b=function(){var t=e;return e="",t},j=function(){return e};return s.fix&&!function(){var d=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,h=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,t=[];t.last=function(){return this[this.length-1]},t.lastTagNameEq=function(t){var e=this.last();return e&&e.tagName&&e.tagName.toUpperCase()===t.toUpperCase()},t.containsTagName=function(n){for(var e,t=0;e=this[t];t++)if(e.tagName===n)return!0;return!1};var r=function(e){return e&&"startTag"===e.type&&(e.unary=d.test(e.tagName)||e.unary),e},o=c,l=function(){var t=e,n=r(o());return e=t,n},i=function(){var e=t.pop();u("</"+e.tagName+">")},a={startTag:function(e){var o=e.tagName;"TR"===o.toUpperCase()&&t.lastTagNameEq("TABLE")?(u("<TBODY>"),n()):s.fix_selfClose&&h.test(o)&&t.containsTagName(o)?t.lastTagNameEq(o)?i():(u("</"+e.tagName+">"),n()):e.unary||t.push(e)},endTag:function(e){var n=t.last();n?s.fix_tagSoup&&!t.lastTagNameEq(e.tagName)?i():t.pop():s.fix_tagSoup&&m()}},m=function(){o(),n()},n=function(){var e=l();e&&a[e.type]&&a[e.type](e)};c=function(){return n(),r(o())}}(),{append:f,readToken:c,readTokens:v,clear:b,rest:j,stack:g}}var s,t=function(){var t,n={},e=this.document.createElement("div");return t="<P><I></P></I>",e.innerHTML=t,n.tagSoup=e.innerHTML!==t,e.innerHTML="<P><i><P></P></i></P>",n.selfClose=2===e.childNodes.length,n}(),o=/^<([-A-Za-z0-9_]+)((?:\s+[\w-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,i=/^<\/([-A-Za-z0-9_]+)[^>]*>/,a=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,r=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,n=!1;e.supports=t,e.tokenToString=function(t){var e={comment:function(e){return"<--"+e.content+"-->"},endTag:function(e){return"</"+e.tagName+">"},atomicTag:function(t){return console.log(t),e.startTag(t)+t.content+e.endTag(t)},startTag:function(e){var t,s,n="<"+e.tagName;for(s in e.attrs)t=e.attrs[s],n+=" "+s+'="'+(t?t.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"';return n+(e.unary?"/>":">")},chars:function(e){return e.text}};return e[t.type](t)},e.escapeAttributes=function(t){var e,s,n={};for(s in t)e=t[s],n[s]=e&&e.replace(/(^|[^\\])"/g,'$1\\"');return n};for(s in t)e.browserHasFlaw=e.browserHasFlaw||!t[s]&&s;this.htmlParser=e}(),function(){function e(){}function n(e){return e!==h&&null!==e}function c(e){return"function"==typeof e}function a(t,n,s){var e,o=t&&t.length||0;for(e=0;o>e;e++)n.call(s,t[e],e)}function s(t,n,s){var e;for(e in t)t.hasOwnProperty(e)&&n.call(s,e,t[e])}function t(e,t){return s(t,function(t,n){e[t]=n}),e}function m(e,t){return e=e||{},s(t,function(t,s){n(e[t])||(e[t]=s)}),e}function i(e){try{return f.call(e)}catch(n){var t=[];return a(e,function(e){t.push(e)}),t}}function g(e){return!!(e&&"tagName"in e)&&!!~e.tagName.toLowerCase().indexOf("script")}function u(e){return!!(e&&"tagName"in e)&&!!~e.tagName.toLowerCase().indexOf("style")}var d={afterAsync:e,afterDequeue:e,afterStreamStart:e,afterWrite:e,beforeEnqueue:e,beforeWrite:function(e){return e},done:e,error:function(e){throw e},releaseAsync:!1},o=this,h=void 0;if(!o.postscribe){var r=!1,f=Array.prototype.slice,p=function(e){return e[e.length-1]},l=function(){function o(t,i,s){var e,o=l+i;if(2===arguments.length)return e=t.getAttribute(o),n(e)?String(e):e;n(s)&&""!==s?t.setAttribute(o,s):t.removeAttribute(o)}function e(e,s){var n=e.ownerDocument;t(this,{root:e,options:s,win:n.defaultView||n.parentWindow,doc:n,parser:htmlParser("",{autoFix:!0}),actuals:[e],proxyHistory:"",proxyRoot:n.createElement(e.nodeName),scriptStack:[],writeQueue:[]}),o(this.proxyRoot,"proxyof",0)}var l="data-ps-";return e.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var e;!this.deferredRemote&&this.writeQueue.length;)e=this.writeQueue.shift(),c(e)?this.callFunction(e):this.writeImpl(e)},e.prototype.callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this.onScriptStart(t),e.call(this.win,this.doc),this.onScriptDone(t)},e.prototype.writeImpl=function(o){this.parser.append(o);for(var e,t,n,s=[];(e=this.parser.readToken())&&!(t=g(e))&&!(n=u(e));)s.push(e);this.writeStaticTokens(s),t&&this.handleScriptToken(e),n&&this.handleStyleToken(e)},e.prototype.writeStaticTokens=function(t){var e=this.buildChunk(t);if(e.actual)return e.html=this.proxyHistory+e.actual,this.proxyHistory+=e.proxy,this.proxyRoot.innerHTML=e.html,r&&(e.proxyInnerHTML=this.proxyRoot.innerHTML),this.walkChunk(),r&&(e.actualInnerHTML=this.root.innerHTML),e},e.prototype.buildChunk=function(n){var o=this.actuals.length,s=[],e=[],t=[];return a(n,function(n){if(s.push(n.text),n.attrs){if(!/^noscript$/i.test(n.tagName)){var i=o++;e.push(n.text.replace(/(\/?>)/," "+l+"id="+i+" $1")),"ps-script"!==n.attrs.id&&"ps-style"!==n.attrs.id&&t.push("atomicTag"===n.type?"":"<"+n.tagName+" "+l+"proxyof="+i+(n.unary?" />":">"))}}else e.push(n.text),t.push("endTag"===n.type?n.text:"")}),{tokens:n,raw:s.join(""),actual:e.join(""),proxy:t.join("")}},e.prototype.walkChunk=function(){for(t=[this.proxyRoot];n(e=t.shift());){var e,t,s,a=1===e.nodeType,r=a&&o(e,"proxyof");r||(a&&(this.actuals[o(e,"id")]=e,o(e,"id",null)),s=e.parentNode&&o(e.parentNode,"proxyof"),s&&this.actuals[s].appendChild(e)),t.unshift.apply(t,i(e.childNodes))}},e.prototype.handleScriptToken=function(e){var n,t=this.parser.clear();t&&this.writeQueue.unshift(t),e.src=e.attrs.src||e.attrs.SRC,e.src&&this.scriptStack.length?this.deferredRemote=e:this.onScriptStart(e),n=this,this.writeScriptToken(e,function(){n.onScriptDone(e)})},e.prototype.handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",this.writeStyleToken(e),t&&this.write()},e.prototype.writeStyleToken=function(t){var e=this.buildStyle(t);this.insertStyle(e),t.content&&(e.styleSheet&&!e.sheet?e.styleSheet.cssText=t.content:e.appendChild(this.doc.createTextNode(t.content)))},e.prototype.buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),s(e.attrs,function(e,n){t.setAttribute(e,n)}),t},e.prototype.insertStyle=function(t){this.writeImpl('<span id="ps-style"/>');var e=this.doc.getElementById("ps-style");e.parentNode.replaceChild(t,e)},e.prototype.onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype.onScriptDone=function(e){return e!==this.scriptStack[0]?void this.options.error({message:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),void(!this.scriptStack.length&&this.deferredRemote&&(this.onScriptStart(this.deferredRemote),this.deferredRemote=null)))},e.prototype.writeScriptToken=function(e,n){var t=this.buildScript(e),s=this.shouldRelease(t),o=this.options.afterAsync;e.src&&(t.src=e.src,this.scriptLoadHandler(t,s?o:function(){n(),o()}));try{this.insertScript(t),(!e.src||s)&&n()}catch(e){this.options.error(e),n()}},e.prototype.buildScript=function(e){var t=this.doc.createElement(e.tagName);return s(e.attrs,function(e,n){t.setAttribute(e,n)}),e.content&&(t.text=e.content),t},e.prototype.insertScript=function(t){this.writeImpl('<span id="ps-script"/>');var e=this.doc.getElementById("ps-script");e.parentNode.replaceChild(t,e)},e.prototype.scriptLoadHandler=function(e,n){function s(){e=e.onload=e.onreadystatechange=e.onerror=null}function o(){s(),n()}function i(e){s(),a(e),n()}var a=this.options.error;t(e,{onload:function(){o()},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&o()},onerror:function(){i({message:"remote script failed "+e.src})}})},e.prototype.shouldRelease=function(e){var t=/^script$/i.test(e.nodeName);return!t||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();o.postscribe=function(){function a(){var t,e=s.shift();e&&(t=p(e),t.afterDequeue(),e.stream=u.apply(null,e),t.afterStreamStart())}function u(u,m,s){function d(e){e=s.beforeWrite(e),n.write(e),s.afterWrite(e)}n=new l(u,s),n.id=h++,n.name=s.name||n.id,r.streams[n.name]=n;var c,o=u.ownerDocument,f={close:o.close,open:o.open,write:o.write,writeln:o.writeln};return t(o,{close:e,open:e,write:function(){return d(i(arguments).join(""))},writeln:function(){return d(i(arguments).join("")+"\n")}}),c=n.win.onerror||e,n.win.onerror=function(e,t,o){s.error({msg:e+" - "+t+":"+o}),c.apply(n.win,arguments)},n.write(m,function(){t(o,f),n.win.onerror=c,s.done(),n=null,a()}),n}function r(t,l,i){c(i)&&(i={done:i}),i=m(i,d),t=/^#/.test(t)?o.document.getElementById(t.substr(1)):t.jquery?t[0]:t;var r=[t,l,i];return t.postscribe={cancel:function(){r.stream?r.stream.abort():r[1]=e}},i.beforeEnqueue(r),s.push(r),n||a(),t.postscribe}var h=0,s=[],n=null;return t(r,{streams:{},queue:s,WriteStream:l})}()}}(),this.postscribe}),define("singleton/EventDispatcher",["backbone","underscore"],function(t,n){"use strict";var e=n.extend({},t.Events);return void 0!==window.orientation&&window.addEventListener("orientationchange",function(){90===Math.abs(window.orientation)?e.trigger("orientation:toLandscape"):e.trigger("orientation:toPortrait"),e.trigger("orientation:change")},!1),e}),define("module/ads/ads.events",["backbone","underscore"],function(e,t){"use strict";return t.clone(e.Events)}),define("app/MarionetteApp",["backbone.marionette","singleton/Utils","lib/amd-wrapped/soy/soy"],function(e,n,s){"use strict";var t=new e.Application;return t.addRegions({postRegion:"#editorplaceholder",modalRegion:"#modalplaceholder",duimodalregion:"#js_placeholder--duimodal",notificationRegion:".js_notif-wrapper",notificationDropdownRegion:"#js_notifications--dropdown",userDropdownRegion:"#js_usermenu--dropdown",flaggingListRegion:".js_flagging-admin",discussionRegion:"#js_discussion-region",channelsDropdownRegion:"#js_channels--dropdown",subscribeBtnRegion:".js_newsletter-btn--subscribe",unSubscribeBtnRegion:"#js_newsletter-btn--unsubscribe"}),e.Renderer.render=function(t,o,i){var e=n.getRenderableData(o,i),a=window.document.createDocumentFragment();try{return s.renderAsFragment(t,e.data,void 0,e.injected)}catch(e){return window.console.error(e),a}},t}),define("singleton/ModalManager",["jquery","underscore","singleton/EventDispatcher"],function(e,t,n){"use strict";var s=e("body"),o=["afterinsert"],i=function(a,i){var r=["open.fndtn.reveal","opened.fndtn.reveal","close.fndtn.reveal","closed.fndtn.reveal"];return this._events=[],this.init=function(){return this.$el=a,this.name=this._genName(),this.options=i,this.initEvents(),this},this.initEvents=function(){this.$el.on("closed.fndtn.reveal",t.bind(this.destroy,this))},this._genName=function(){return this.$el.attr("id")||"todo-uid"},this.bind=function(e,t){return r.indexOf(e)>=0?this.$el.bind(e,t):(this._events.push({name:e,fn:t}),n[o.indexOf(e)?"once":"on"](e,t)),this},this.on=this.bind,this.open=function(){return e.contains(document.documentElement,this.$el[0])||(s.append(this.$el),this._getEvent("afterinsert")&&n.trigger("afterinsert",this)),this.$el.foundation("reveal",i),this.$el.foundation("reveal","open"),this},this.destroy=function(){i.destroyOnClose&&this.$el.remove(),t.each(this._events,function(e){n.off(e.name,e.fn)})},this.close=function(){this.$el.foundation("reveal","close")},this._getEvent=function(e){return t.find(this._events,function(t){return t.name===e})},this},a={modals:{},modalOptions:{destroyOnClose:!0,close_on_background_click:!0,animation_speed:0},initialize:function(){return!this.initialize.done&&void(this.initialize.done=!0)},create:function(s,o){s.on("click",function(e){e.stopPropagation()}),e(document.body).one("opened.fndtn.reveal","[data-reveal]",function(){e(".reveal-modal, .reveal-modal-bg").off("click.closeManually").one("click.closeManually",function(t){var s=e(t.target),o=["close-reveal-modal","reveal-modal-bg","js_close","js_cancel"];o.forEach(function(e){s.hasClass(e)&&n.trigger("modal:close:manual")})})}),this.initialize();var a=t.extend({},this.modalOptions,o),r=new i(s,a);return this.currentModal=r.init(),this._register()._initEvents(),this.currentModal},_register:function(e){return e=e||this.currentModal,this.modals[e.name]=e,this},_initEvents:function(e){return e=e||this.currentModal,e.bind("closed",t.bind(function(){this._destroy(e)},this)),this},_destroy:function(t){var e=(t||{}).name;this.modals.hasOwnProperty(e)&&(this.modals[e].destroy(),delete this.modals[e])}};return a}),define("overlord",[],function(){"use strict";return window.overlord=window.overlord||{},window.overlord}),define("tiger",[],function(){"use strict";return window.tiger=window.tiger||{},window.tiger}),define("mantle",[],function(){"use strict";return window.mantle=window.mantle||{},window.mantle}),define("lib/amd-wrapped/soy/goog",["lib/amd-wrapped/soy/soyutils"],function(e){"use strict";return e.goog}),define("lib/amd-wrapped/soy/soydata",["lib/amd-wrapped/soy/soyutils"],function(e){"use strict";return e.soydata}),define("templates/tiger/components/forms/modals/modal-headers",["overlord","tiger","mantle","lib/amd-wrapped/soy/goog","lib/amd-wrapped/soy/soy","lib/amd-wrapped/soy/soydata"],function(o,e,i,n,s,t){e.components.forms.modals.headers.layout=function(e){return e=e||{},t.VERY_UNSAFE.ordainSanitizedHtml("<header><h3>"+s.$$escapeHtml(e.name)+(e.disableClose?"":'<a class="js_cancel modal-close-x">&times;</a>')+"</h3></header>")},n.DEBUG&&(e.components.forms.modals.headers.layout.soyTemplateName="tiger.components.forms.modals.headers.layout"),e.components.forms.modals.headers.avatarLayout=function(e){return t.VERY_UNSAFE.ordainSanitizedHtml('<header class="avatar-header"><h3><div class="row collapse show-for-large-up"><div class="columns large-1"><img id="avatarImg" class="avatar" src="'+s.$$escapeHtmlAttribute(s.$$filterNormalizeUri(window.kinja.imageUrl(e.avatarId,"avt-medium",e.avatarFormat)))+'" /></div><div class="columns large-4"><div class="height-container primary-name-container"><span class="primary-name">'+s.$$escapeHtml(e.primaryName)+'</span></div></div><div class="columns large-7"><div class="height-container"><span class="secondary-name">'+s.$$escapeHtml(e.secondaryName)+'</span><a class="js_cancel modal-close-x">&times;</a></div></div></div><div class="row collapse hide-for-large-up"><div class="columns"><div class="height-container"><span class="secondary-name">'+s.$$escapeHtml(e.secondaryName)+'</span><a class="js_cancel modal-close-x">&times;</a></div></div></div></h3></header>')},n.DEBUG&&(e.components.forms.modals.headers.avatarLayout.soyTemplateName="tiger.components.forms.modals.headers.avatarLayout"),e.components.forms.modals.headers.account=function(n,o,s){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.avatarLayout({primaryName:t.$$markUnsanitizedTextForInternalBlocks(""+n.userName),avatarId:t.$$markUnsanitizedTextForInternalBlocks(""+n.avatarId),avatarFormat:t.$$markUnsanitizedTextForInternalBlocks(""+n.avatarFormat),secondaryName:t.$$markUnsanitizedTextForInternalBlocks("Manage Kinja account")},null,s))},n.DEBUG&&(e.components.forms.modals.headers.account.soyTemplateName="tiger.components.forms.modals.headers.account"),e.components.forms.modals.headers.invite=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Send Invite To Post")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.invite.soyTemplateName="tiger.components.forms.modals.headers.invite"),e.components.forms.modals.headers.editorLink=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Link")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.editorLink.soyTemplateName="tiger.components.forms.modals.headers.editorLink"),e.components.forms.modals.headers.autosaveRecovery=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Post Recovery")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.autosaveRecovery.soyTemplateName="tiger.components.forms.modals.headers.autosaveRecovery"),e.components.forms.modals.headers.resend=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Resend your invitation")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.resend.soyTemplateName="tiger.components.forms.modals.headers.resend"),e.components.forms.modals.headers.login=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Log into your Kinja account")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.login.soyTemplateName="tiger.components.forms.modals.headers.login"),e.components.forms.modals.headers.signup=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Sign up for a Kinja account")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.signup.soyTemplateName="tiger.components.forms.modals.headers.signup"),e.components.forms.modals.headers.createburner=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Create a burner account")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.createburner.soyTemplateName="tiger.components.forms.modals.headers.createburner"),e.components.forms.modals.headers.burnercreated=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Burner account created")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.burnercreated.soyTemplateName="tiger.components.forms.modals.headers.burnercreated"),e.components.forms.modals.headers.createblog=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Create blog")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.createblog.soyTemplateName="tiger.components.forms.modals.headers.createblog"),e.components.forms.modals.headers.manageblog=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Manage blog")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.manageblog.soyTemplateName="tiger.components.forms.modals.headers.manageblog"),e.components.forms.modals.headers.featureedit=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Edit feature")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.featureedit.soyTemplateName="tiger.components.forms.modals.headers.featureedit"),e.components.forms.modals.headers.featurenew=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Create feature")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.featurenew.soyTemplateName="tiger.components.forms.modals.headers.featurenew"),e.components.forms.modals.headers.image=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Insert image")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.image.soyTemplateName="tiger.components.forms.modals.headers.image"),e.components.forms.modals.headers.media=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Insert media")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.media.soyTemplateName="tiger.components.forms.modals.headers.media"),e.components.forms.modals.headers.poststatus=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Post Status")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.poststatus.soyTemplateName="tiger.components.forms.modals.headers.poststatus"),e.components.forms.modals.headers.flagreason=function(){return t.VERY_UNSAFE.ordainSanitizedHtml('<header><h3>Why are you flagging this?<a class="hover-icon help-link icon icon-question-circle" href="http://help.gawker.com/customer/portal/articles/1726140-what-is-flagging-?b_id=5895" target="_blank"></a><a class="js_cancel modal-close-x">×</a></h3></header>')},n.DEBUG&&(e.components.forms.modals.headers.flagreason.soyTemplateName="tiger.components.forms.modals.headers.flagreason"),e.components.forms.modals.headers.business=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Business")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.business.soyTemplateName="tiger.components.forms.modals.headers.business"),e.components.forms.modals.headers.adInfo=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Ad Info")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.adInfo.soyTemplateName="tiger.components.forms.modals.headers.adInfo"),e.components.forms.modals.headers.pupil=function(s,o,n){return t.VERY_UNSAFE.ordainSanitizedHtml(e.components.forms.modals.headers.layout({name:t.$$markUnsanitizedTextForInternalBlocks("Post Content Ratings")},null,n))},n.DEBUG&&(e.components.forms.modals.headers.pupil.soyTemplateName="tiger.components.forms.modals.headers.pupil")}),define("view/modal/modal.header",["backbone","backbone.marionette","singleton/Utils","templates/tiger/components/forms/modals/modal-headers"],function(e,t,n){"use strict";var s=t.ItemView.extend({ui:{avatar:"img#avatarImg"},initialize:function(){this.model=new e.Model(this.options.headerAttributes),this.template=tiger.components.forms.modals.headers[this.options.name]},updateAvatar:function(e){this.ui.avatar.attr("src",n.imageUrl(e.get("id"),"avt-medium",e.get("format")))},updateName:function(e){this.options.name=e,this.template=tiger.components.forms.modals.headers[e],this.render()}});return s}),define("view/modal/modal.tabBehavior",["jquery","backbone.marionette"],function(e,t){"use strict";var n=t.Behavior.extend({events:{"keydown select:not([disabled]), input:not([disabled]), textarea:not([disabled]), button, .button:not(div), a:not(.modal-close-x)":"onFieldKeydown"},focusFieldsSelector:"select:not([disabled]), input:not([disabled]), textarea:not([disabled]), button, .button:not(div), a:not(.modal-close-x)",onFieldKeydown:function(t){var n,s,o,i,a,r,c;9===t.which&&(t.preventDefault(),n=this.$el.find(this.focusFieldsSelector),o=n.first(),i=n.last(),s=e(t.currentTarget),s.is(i)&&!t.shiftKey?o.focus():s.is(o)&&t.shiftKey?i.focus():(a=n.index(s),t.shiftKey?(c=e(n[a-1]),c.focus()):(r=e(n[a+1]),r.focus())))}});return n}),define("templates/tiger/components/forms/modals/modal",["overlord","tiger","mantle","lib/amd-wrapped/soy/goog","lib/amd-wrapped/soy/soy","lib/amd-wrapped/soy/soydata"],function(s,e,o,n,t){e.components.forms.modals.modal.container=function(n,o,s){return(n.disableClose?e.components.forms.modals.header({name:""+t.$$escapeHtml(n.name),disableClose:""+t.$$escapeHtml(n.disableClose)},null,s):e.components.forms.modals.header({name:""+t.$$escapeHtml(n.name)},null,s))+'<div class="modal-body proxima">'+t.$$filterNoAutoescape(n.body)+"</div>"},n.DEBUG&&(e.components.forms.modals.modal.container.soyTemplateName="tiger.components.forms.modals.modal.container"),e.components.forms.modals.modal.layout=function(){return'<div id="modalheader_placeholder" class="modal-header-container"></div><div id="modalbody_placeholder"></div>'},n.DEBUG&&(e.components.forms.modals.modal.layout.soyTemplateName="tiger.components.forms.modals.modal.layout"),e.components.forms.modals.modal.body=function(){return'<div id="modalsubnav_placeholder"></div><div id="modalcontent_placeholder"></div>'},n.DEBUG&&(e.components.forms.modals.modal.body.soyTemplateName="tiger.components.forms.modals.modal.body")}),define("view/modal/modal.layout",["backbone.marionette","view/modal/modal.header","view/modal/modal.tabBehavior","templates/tiger/components/forms/modals/modal"],function(e,t,n){"use strict";var s=e.Layout.extend({template:tiger.components.forms.modals.modal.layout,events:{"click .js_cancel":"onCancelClick"},attributes:{"data-reveal":""},regions:{header:"#modalheader_placeholder",body:"#modalbody_placeholder"},behaviors:{TabBehavior:{behaviorClass:n}},initialize:function(){this.headerView=new t({name:this.options.name,headerAttributes:this.options.headerAttributes})},onRender:function(){this.headerView&&this.header.show(this.headerView),this.options.body&&this.body.show(this.options.body)},onCancelClick:function(e){return e.preventDefault(),this.options.vent.trigger("modal:close"),!1},switchContent:function(e,t){t?this.body.show(new e(t)):this.body.show(new e)},updateHeaderAvatar:function(e){this.headerView.updateAvatar(e)},updateName:function(e){this.headerView.updateName(e)}});return s}),define("app/modal/modal.controller",["jquery","underscore","backbone","app/MarionetteApp","singleton/ModalManager","view/modal/modal.layout"],function(n,o,s,t,i,a){"use strict";var e={vent:o.extend({},s.Events),_initModal:function(a,s){var o=t.modalRegion,r={};s=s||{},o.show(a),o.listenTo(o.currentView,"modal:close",e.API.close),r.close_on_background_click=s.close_on_background_click,e.API.activeModal=i.create(a.$el,r),n(document).on("close.fndtn.reveal",function(){s&&s.onClose&&s.onClose(),e.API.activeModal=null,n(document).off("close.fndtn.reveal")}),e.API.activeModal.open()},_registerEvents:function(){e.vent.on("modal:close",e.API.close)},_destroyEvents:function(){e.vent.off("modal:close",e.API.close)},API:{instantiate:function(t,e){e={viewData:e.viewData||{},templateData:e.templateData||{}};var o,i=new s.Model(e.templateData);return n.extend(e.viewData,{model:i}),o=new t(e.viewData)},create:function(s,t){var n={vent:e.vent,body:s};t&&(t.addClassName&&(t.className=t.className+" "+t.addClassName),n.className=t.className||"reveal-modal kinja-modal proxima medium",n.name=t.name,n.headerAttributes={userName:t.userName,avatarId:t.avatarId,avatarFormat:t.avatarFormat}),e.API.open(function(){e._initModal(new a(n),t)})},open:function(t){if(e.API.close(),e._registerEvents(),"function"!=typeof t)throw new Error("Invalid modal type supplied to ModalController.open");t()},close:function(){e._destroyEvents(),e.API.activeModal&&(e.API.activeModal.close(),e.API.activeModal=null),t.modalRegion.reset()},change:function(n,s){e.API.activeModal&&t.modalRegion.currentView.switchContent(n,s)},updateHeaderAvatar:function(n){e.API.activeModal&&t.modalRegion.currentView.updateHeaderAvatar(n)},updateHeaderName:function(n){e.API.activeModal&&t.modalRegion.currentView.updateName(n)}}};return e.API}),define("module/ads/singleton/KeywordHelper",["jquery","underscore","view/BaseView","singleton/Feature","lib/jquery.cookie"],function(n,s,o,i){"use strict";var a,t="pageDepth",e=parseInt(n.cookie(t)||1,10);return i.isOn("ad_module")||5>e&&(e+=1,n.cookie(t,e,{expires:1,path:"/"})),new(a=o.extend({keywordsFromPage:function(o){var n={},t=function(e,t){n.hasOwnProperty(e)?n[e].push(t):n[e]=[t]},i=function(){t("mtfIFPath","/assets/vendor/doubleclick/"),t("page",this.getPageType()),t("pd",e),"default"!==o.slot&&t("slot",o.slot)}.bind(this),a=function(){var e=window.crtg_content?window.crtg_content.split(";"):[];s.each(e,function(n){var e=n.split("=");2===e.length&&t(e[0],e[1])})};return i(),a(),n}}))}),define("module/ads/singleton/RestrictedCompanyHelper",["jquery","underscore"],function(t,e){"use strict";var n={regex:/\b(?:accenture|amex|apple|bestbuy|bing|blackberry|bmw|ca|computer|capgemini|chrome|chrysler|cisco|comcast|dell|ea|electronic arts|ebay|ford|ge|general electric|gm|general motors|google|hp|hewlitt packard|htc|ibm|intel|internet explorer|lenovo|microsoft|motorola|msn|nintendo|oracle|oreo|outlook|outlook\.com|playstation|porsche|radioshack|samsung|sap|sas|siemens|sony|sprint|tmobile|virgin|virginamerica|visa|xbox)\b/i,brandMap:{playstation:"sony",bing:"microsoft","internet explorer":"microsoft",msn:"microsoft",outlook:"microsoft","outlook.com":"microsoft",xbox:"microsoft"},scanForCompanies:e.once(function(s){var o=e.map(s.tags,function(e){return e.name}).join(""),n=s.headline.match(this.regex)||o.match(this.regex)||t("article.post").text().match(this.regex);return n&&(n=n[0].toLowerCase()),this.brandMap[n]||n})};return n}),define("module/ads/model/ads.abstractSlotModel",["jquery","underscore","backbone","module/ads/singleton/KeywordHelper","singleton/CurrentBlog","singleton/Utils","module/ads/singleton/RestrictedCompanyHelper","module/ads/singleton/SocialReferrerHelper","gawkerlib/jquery.parseParams"],function(c,b,v,f,m,h,d,l){"use strict";var s=h.getKinjaMeta(),t=s.pageType,e=s.post,u=e?e.id:null,a=e?e.adZone:null,i=c.parseParams().adzone,n=s.tags,p=/why your team sucks|wyts/,g=/nsfw|gamergate/,o=p.test(n),r=g.test(n),j=e?d.scanForCompanies(e):null,y=v.Model.extend({initialize:function(){var e,t,n,s;this.get("forcedAdZone")||(t=this.computeForcedZone(),this.set("forcedAdZone",t)),e=this.computeAdZone(t),this.set("adZone",e),s=this.computeZoneSource(),this.set("zoneSource",s),n=this.computeCollapseState(e),this.set("collapsed",n)},adInfo:function(){var e=b.map(this.keywords(),function(e,t){return t+"="+e}).join(", ");return{pageType:t,zoneType:this.get("zoneType"),sizes:this.sizes(),slotId:this.get("slotId"),unitName:this.unitName(),adZone:this.get("adZone"),adZoneSource:this.get("zoneSource"),isEmpty:this.get("empty")||"UNKNOWN",status:this.stateName(),keywords:e,tags:n||"NONE",company:j||"NONE",forcedAdZone:this.get("forcedAdZone")||"false",postId:u||"NONE",blogName:m.name,referer:document.referrer||"NONE",socialReferrer:l.scanForSocialReferrers()||"NONE"}},navData:function(){return{text:this.get("zoneType"),msgText:"ad info modal "+this.get("slotId"),subViewSelector:"#"+this.get("slotId")+"-info",render:!0,slotModel:this}},computeForcedZone:function(){var e=!o&&r?"collapse":null;return i||e||a},computeAdZone:function(e){return e&&"collapse"===e?"collapse":"frontpage"===t?"front":t},computeCollapseState:function(e){return"collapse"===e},computeZoneSource:function(){return i?"URL param":a?"Post":!o&&r?"Tag force collapse":"Page type / GPT"},keywords:function(){return f.keywordsFromPage({slot:"default"})},setEmptiness:function(e){this.set("empty",e?"TRUE":"FALSE")},unitName:function(){throw"NOT IMPLEMENTED!"},stateName:function(){throw"NOT IMPLEMENTED!"},sizes:function(){throw"NOT IMPLEMENTED!"}});return y}),define("module/ads/model/ads.slotModel",["underscore","module/ads/model/ads.abstractSlotModel","singleton/Feature","singleton/CurrentBlog","singleton/Utils","module/ads/singleton/RestrictedCompanyHelper","singleton/WindowController","module/ads/singleton/SocialReferrerHelper","gawkerlib/jquery.parseParams"],function(n,r,o,s,p,u,t,v){"use strict";var a=p.getKinjaMeta(),i=a.post,g=i?i.id:null,b=(s.blogSales||{}).adSlotsDisabled||[],h=i?u.scanForCompanies(i):null,m=s.blogSales&&s.blogSales.adNetworkId||s.defaultAdNetworkId,f=s.blogSales&&s.blogSales.adSiteName||s.defaultAdSiteName,c=o.isOn("ad_module"),d=o.isOn("webpack"),l=o.isOn("webpack_admodule"),e=r.extend({initialize:function(){var t,s,o,i,a=this.get("zoneType");this.set("adState",e.states.INITIALIZING),r.prototype.initialize.call(this),s=n.contains(b,e.config[a].legacySizes),this.set("disabled",s),i=e.config[a],o=i.gptSizes,this.set("zoneConfig",i),this.set("gptSizes",o),t=this.get("adZone"),!t||s||this.get("collapsed")||this.createGptSlot(this.unitName(t),o,this.get("slotId")),this.set("adState",e.states.INITIALIZED)},adInfo:function(){return n.extend(r.prototype.adInfo.call(this),{diagnosticsUrl:this.get("diagnosticsUrl"),creativeUrl:this.get("creativeUrl"),pos:this.targetingPairs().pos||""})},targetingPairs:function(){var t,s={postId:g,company:h||"none",forcedAdZone:this.get("forcedAdZone")||"false",socialReferrer:v.scanForSocialReferrers()};return t=this.get("pp_position"),t&&n.extend(s,{pp_position:t}),"MOBILE_SECOND"===this.get("zoneType")&&n.extend(s,{tabContainer:[this.get("slotId")]}),n.extend(s,e.config[this.get("zoneType")].targetingPairs)},createGptSlot:function(e,t,s){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){var i,o=window.googletag.defineSlot(e,t,s);n.each(this.targetingPairs(),function(e,t){o.setTargeting(t,e)}),n.each(this.keywords(),function(e,t){o.setTargeting(t,e)}),o.addService(window.googletag.pubads()),i=o.renderEnded,o.renderEnded=function(t){var e=o.getContentUrl();this.set("diagnosticsUrl",this.getDiagnosticsUrl(e)),this.set("creativeUrl",this.getCreativeUrl(e)),this.set("gptData",t),this.trigger("ads.zonerendered"),i()}.bind(this),this.set("gptSlot",o),window.googletag.display(this.get("slotId"))}.bind(this))},getDiagnosticsUrl:function(e){var t=e.split("?");return"https://www.google.com/dfp/inventory#diagnostics/"+t[1]+"&base_url=http%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads"},getCreativeUrl:function(e){return e.replace("output=json_html","output=html")+"&base_url=http%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads"},unitName:function(e){return"/"+[m,f,e].join("/")},_getDimensionComponents:function(e){var t="width"===e?0:1;return n.reduce(this.get("gptSizes"),function(e,n){return e.push(n[t]),e},[])},sizes:function(){return n.map(this.get("gptSizes"),function(e){return e.join("x")}).join(", ")},widths:function(){return this._getDimensionComponents("width")},heights:function(){return this._getDimensionComponents("height")},setRendered:function(){this.set("adState",e.states.RENDERED)},setShown:function(){this.set("adState",e.states.SHOWN)},setHidden:function(){this.set("adState",e.states.HIDDEN)},stateName:function(){var t;switch(this.get("adState")){case e.states.INITIALIZING:t="initializing";break;case e.states.INITIALIZED:t="initialized";break;case e.states.RENDERED:t="rendered";break;case e.states.HIDDEN:t="hidden";break;case e.states.SHOWN:t="shown";break;default:t="error"}return t},isGptEmpty:function(){return this.get("gptData").isEmpty}},{config:{TRACKER:{gptSizes:[[1,1]],legacySize:"1x1",shouldRun:!0},TOP_BANNER:{gptSizes:[[970,90],[970,251],[728,90]],legacySize:"970x90",shouldRun:t.isLargeUp,targetingPairs:{pos:"top"},onViewHide:function(e){e.$el.parent(".js_ad-unit").addClass("hide")}},BILLBOARD:{gptSizes:[[970,250],[728,90]],legacySize:"970x250",shouldRun:t.isLargeUp,targetingPairs:{pos:"bottom"},onViewHide:function(e){e.$el.parent(".js_ad-unit").addClass("hide")}},BILLBOARD_DYNAMIC:{gptSizes:[[970,250],[728,90]],legacySize:"970x250",shouldRun:t.isLargeUp,targetingPairs:{pos:"bottom_dynamic"},onViewHide:function(e){e.$el.parent(".js_ad-unit").addClass("hide")}},LEFT_RAIL:{gptSizes:[[300,250],[300,600]],legacySize:"300x250",shouldRun:t.isLargeUp,targetingPairs:{pos:"left"}},LEFT_RAIL_DYNAMIC:{gptSizes:[[300,250],[300,600]],legacySize:"300x250",shouldRun:t.isLargeUp,targetingPairs:{pos:"left_dynamic"}},MOBILE:{gptSizes:[[300,250],[320,50]],legacySize:"300x50",shouldRun:o.isOn("tablet_300x250")?t.isMediumDown:t.isSmall,onViewHide:function(e){e.$el.parent(".js_ad-unit").addClass("hide")}},MOBILE_SECOND:{gptSizes:[[300,160]],legacySize:"300x160",dimensions:[300,130],shouldRun:function(){return"permalink"===a.pageType&&!a.post.sponsored&&t.isSmall()},onViewHide:function(e){e.$el.parent(".js_ad-unit").addClass("hide")}},ADHESION:{gptSizes:[[3,3]],legacySize:"3x3",shouldRun:t.isSmall},PROMOTION:{gptSizes:[[2,2]],legacySize:"2x2",shouldRun:t.isLargeUp},PROMOTION_MOBILE:{gptSizes:[[2,2]],legacySize:"2x2",shouldRun:t.isMediumDown},PROMOTION_SIDEBAR:{gptSizes:[[2,2]],legacySize:"2x2",shouldRun:"permalink"===window.kinja.meta.pageType&&t.isLargeUp()},SPLASHYTOP:{gptSizes:[[1280,720],[970,415]],isResponsive:!0,shouldSlideDown:!0,viewportVOffset:175,maxHeight:720,maxWidth:"100%",legacySize:"970x415",fallbackSize:"970x415",shouldRun:!(c||d&&l)},SPLASHYBOTTOM:{gptSizes:[[1280,721]],isResponsive:!0,shouldSlideDown:!1,viewportVOffset:175,maxHeight:720,maxWidth:"100%",legacySize:"970x415",shouldRun:!(c||d&&l)}},zoneTypes:{TRACKER:"TRACKER",TOP_BANNER:"TOP_BANNER",BILLBOARD:"BILLBOARD",LEFT_RAIL:"LEFT_RAIL",MOBILE:"MOBILE",MOBILE_SECOND:"MOBILE_SECOND",ADHESION:"ADHESION",PROMOTION:"PROMOTION",PROMOTION_MOBILE:"PROMOTION_MOBILE",PROMOTION_SIDEBAR:"PROMOTION_SIDEBAR",SPLASHYTOP:"SPLASHYTOP",SPLASHYBOTTOM:"SPLASHYBOTTOM"},states:{INITIALIZING:1,INITIALIZED:2,RENDERED:3,HIDDEN:4,SHOWN:5},shouldRun:function(s){var n=e.config[s],t=!!n&&n.shouldRun;return"function"==typeof t?t():t}});return e}),define("module/ads/model/ads.videoSlotModel",["jquery","underscore","module/ads/model/ads.abstractSlotModel","singleton/Feature","singleton/CurrentBlog","singleton/Utils","singleton/DeviceController","gawkerlib/jquery.parseParams","lib/jquery.cookie"],function(a,n,s,o,t,r,h){"use strict";var i=r.getKinjaMeta(),c=i.pageType,l=i.post,d=(t.blogSales||{}).adSlotsDisabled||[],u=t.blogSales&&t.blogSales.adSiteName||t.defaultAdSiteName,e=s.extend({initialize:function(){var t;this.set("zoneType","VIDEO"),this.set("slotId","foreplay"),this.set("adState",e.states.INITIALIZING),s.prototype.initialize.call(this),t=n.contains(d,e.config.size),this.set("disabled",t),!this.get("adZone")||t||this.get("collapsed")||(o.isOn("jwplayer_v7")?this.loadJwplayerV7():this.loadJwplayer()),this.set("adState",e.states.INITIALIZED)},setPlaying:function(){this.set("adState",e.states.PLAYING_INVALID_IMPRESSION)},setValidImpression:function(){this.set("adState",e.states.PLAYING_VALID_IMPRESSION)},hasValidImpression:function(){return this.get("adState")>e.states.PLAYING_INVALID_IMPRESSION},setComplete:function(){this.set("adState",e.states.COMPLETED)},loadJwplayer:function(){var t;require(["module/JWPlayer"]),t=window.setInterval(function(){window.jwplayer&&(window.clearInterval(t),this.setupJwplayer(),this.trigger("ads.jwplayer.loaded"))}.bind(this),e.config.jwPlayerPollInterval)},loadJwplayerV7:function(){var e=this;require(["lib/jwplayer/v7/jwplayer"],function(t){window.jwplayer=t,e.setupJwplayerV7(),e.trigger("ads.jwplayer.loaded")})},bindPlayerEvents:function(){var t=function(){var e=Array.prototype.slice.call(arguments);window.ga.apply(null,["send","event","Video"].concat(e))};jwplayer().onReady(function(e){t(e.type,"setupTime",e.setupTime)}),jwplayer().onAdComplete(function(n){this.set("adState",e.states.COMPLETED),this.trigger("ads.jwplayer.adcomplete",n),t(n.type)}.bind(this)),jwplayer().onAdClick(function(n){this.set("adState",e.states.COMPLETED),this.trigger("ads.jwplayer.adclick",n),t(n.type)}.bind(this)),jwplayer().onAdError(function(e){this.trigger("ads.jwplayer.aderror",e),t(e.type)}.bind(this)),jwplayer().onAdImpression(function(e){this.setEmptiness(!1),this.trigger("ads.jwplayer.adimpression",e),t(e.type,e.tag)}.bind(this)),jwplayer().onPlay(function(e){t(e.type)}),jwplayer().onPause(function(e){t(e.type)}),jwplayer().onComplete(function(e){t(e.type)})},setupJwplayerV7:function(){jwplayer.key="zUOgLEKfFxiFTxb+xVKDGOzNDITiyE6S8vdRBA==",jwplayer("jwPlayerVideo").setup({file:"/assets/javascripts/lib/jwplayer/blank.mp4",autostart:"true",controls:!1,height:360,width:640,mute:!0,advertising:{client:"googima",admessage:" ",tag:"http://ad.doubleclick.net/N4246/pfadx/"+this.dfpParams()}}),this.setTriggeredCookie(),this.bindPlayerEvents()},setupJwplayer:function(){var e="http://x.kinja-static.com/assets/javascripts/lib/jwplayer/";jwplayer.key="nO4NxCWRcKVQRGrsXfNPjFlcUmY2/ainbLHfAQ==",jwplayer("jwPlayerVideo").setup({primary:o.isOn("html5_jwplayer")?"html5":"flash",flashplayer:e+"jwplayer.flash.swf",file:e+"blank.mp4",base:e,autostart:"true",controls:!1,height:360,width:640,mute:!0,advertising:{client:"googima",admessage:" ",tag:"http://ad.doubleclick.net/N4246/pfadx/"+this.dfpParams()}}),this.setTriggeredCookie(),this.bindPlayerEvents()},setTriggeredCookie:function(){a.cookie(e.config.triggeredCookieKey,"1",{path:"/",expires:1})},dfpParams:function(){var o=this.unitName(this.get("adZone")),i=this.keywords(),a={forcedAdZone:this.get("forcedAdZone")||"false",blogName:t.name||"",sz:e.config.size,tile:1,ord:Math.floor(9e7*Math.random())+1e7},s=[o];return n.each(i,function(e,t){n.each(e,function(e){s.push(t+"="+e)})}),n.each(a,function(e,t){s.push(t+"="+e)}),s.join(";")},sizes:function(){return e.config.size},unitName:function(e){return[u,e].join("/")},stateName:function(){var t;switch(this.get("adState")){case e.states.INITIALIZING:t="initializing";break;case e.states.INITIALIZED:t="initialized";break;case e.states.PLAYING_INVALID_IMPRESSION:t="playing (invalid)";break;case e.states.PLAYING_VALID_IMPRESSION:t="playing (valid)";break;case e.states.COMPLETED:t="completed";break;default:t="error"}return t}},{config:{size:"640x480",jwPlayerPollInterval:1e3,triggeredCookieKey:"foreplay_triggered"},states:{INITIALIZING:1,INITIALIZED:2,PLAYING_INVALID_IMPRESSION:3,PLAYING_VALID_IMPRESSION:4,COMPLETED:5},shouldRun:function(){return"permalink"===c&&"1"!==a.cookie(this.config.triggeredCookieKey)&&!l.sponsored&&h.isDesktopLike()}});return e}),define("module/ads/model/ads.instreamVideoSlotModel",["jquery","underscore","module/ads/model/ads.abstractSlotModel","singleton/Feature","singleton/CurrentBlog","singleton/Utils","singleton/DeviceController"],function(i,s,a,t,n,u,r){"use strict";var c=(n.blogSales||{}).adSlotsDisabled||[],l=u.getKinjaMeta(),d=l.pageType,o=n.blogSales&&n.blogSales.adSiteName||n.defaultAdSiteName,e=a.extend({videoPlayer:null,tagXml:"",initialize:function(n){window.volumeInterval=null;var t;this.on("change",function(e){"playerState"===s.keys(e.changed)[0]&&this.loadVideoPlayer()}),this.set("zoneType","INSTREAM_VIDEO"),this.set("slotId","instream_video"),this.set("pp-position",n.container.data("pp-position").replace(/instream_/,"")),this.set("adState",e.states.INITIALIZING),a.prototype.initialize.call(this),t=s.contains(c,e.config.size),this.set("disabled",t),e.shouldRun()?this.set("adState",e.states.INITIALIZED):this.set("disabled",!0)},setPlaying:function(){this.set("adState",e.states.PLAYING_INVALID_IMPRESSION)},setValidImpression:function(){this.set("adState",e.states.PLAYING_VALID_IMPRESSION)},hasValidImpression:function(){return this.get("adState")>e.states.PLAYING_INVALID_IMPRESSION},setComplete:function(){this.set("adState",e.states.COMPLETED)},loadVideoPlayer:function(){var e=this;require(["lib/jwplayer/v7/jwplayer"],function(t){window.jwplayer=t,e.setupVideoPlayer()})},prefetch:function(){i.ajax({url:this.generatePrerollTag(),dataType:"xml"}).done(function(t,n,e){i(e.responseXML).find("Ad").length>0?(this.tagXml=e.responseText,this.loadVideoPlayer()):this.trigger("ads.videoplayer.emptyAdResponse")}.bind(this)).fail(function(){window.console.warn("Video prefetch failed"),this.trigger("ads.videoplayer.emptyAdResponse")}.bind(this))},bindPlayerEvents:function(){var t=this,n=function(){var e=Array.prototype.slice.call(arguments);window.ga.apply(null,["send","event","Video"].concat(e))};this.videoPlayer.on("ready",function(e){n(e.type,"setupTime",e.setupTime)}).on("pause",function(e){t.videoPlayer.paused=!0,n(e.type)}).on("volume",function(e){n(e.type)}).on("adPlay",function(e){t.videoPlayer.paused=!1,t.videoPlayer.adState="playing",n(e.type)}).on("adPause",function(e){t.videoPlayer.paused=!0,t.videoPlayer.adState="paused",n(e.type)}).on("adError",function(e){t.trigger("ads.videoplayer.aderror",e),t.videoPlayer.adState="error",n(e.type)}).on("adComplete",function(s){t.set("adState",e.states.COMPLETED),t.trigger("ads.videoplayer.adcomplete",s),t.videoPlayer.adState="completed",n(s.type)}).on("adClick",function(s){t.set("adState",e.states.COMPLETED),t.trigger("ads.videoplayer.adclick",s),n(s.type)}).on("adImpression",function(e){t.setEmptiness(!1),t.trigger("ads.videoplayer.adimpression",e),n(e.type,e.tag)})},setupVideoPlayer:function(){var e=this.get("container").find(".js_instream-video-placeholder")[0],n="https://x.kinja-static.com/assets/javascripts/lib/jwplayer/",o=this.generatePrerollTag();jwplayer.key="zUOgLEKfFxiFTxb+xVKDGOzNDITiyE6S8vdRBA==",this.videoPlayer=jwplayer(e),t.isOn("instream_ajax")?this.videoPlayer.setup({file:n+"blank.mp4",controls:!0,width:"100%",aspectratio:"16:9",mute:!0,cookies:!1,advertising:{client:"vast",admessage:" ",schedule:{adbreak1:{offset:"pre",ad:{source:"vast",vastxml:this.tagXml}}}}}):(this.videoPlayer=jwplayer(e),this.videoPlayer.setup({file:n+"blank.mp4",controls:!0,width:"100%",aspectratio:"16:9",mute:!0,cookies:!1,advertising:{client:"googima",admessage:" ",tag:o}})),s.extend(this.videoPlayer,{visible:!1,paused:!1,resumed:!1,adState:"stopped",volumeControl:{min:10,max:90,step:10}}),this.bindPlayerEvents(),this.trigger("ads.videoplayer.loaded")},generatePrerollTag:function(){var e,s,i=t.isOn("video_nodart"),a=t.value("dfp_instream_video_viewability");return i?(s="https://pubads.g.doubleclick.net/gampad/ads?",e=[["sz","400x300"],["iu","/4246/"+o],["impl","s"],["gdfp_req","1"],["env","vp"],["output","xml_vast2"],["unviewed_position_start","1"],["url",t.isOn("instream_ajax")?window.document.referrer:"[referrer_url]"],["description_url",t.isOn("instream_ajax")?"":"[description_url]"],["correlator",t.isOn("instream_ajax")?(new Date).getTime():"[timestamp]"],["forcedAdZone",this.get("forcedAdZone")||"false"],["dfp_instream_video_viewability",a],["instream_video",this.get("pp-position")]]):(s="http://ad.doubleclick.net/N4246/pfadx/"+o+"/"+this.get("adZone")+";",e=[["page","frontpage"],["forcedAdZone",this.get("forcedAdZone")||"false"],["blogName",n.name||""],["sz","400x300"],["tile","1"],["dcmt","text/xml"],["ord",Math.floor(9e7*Math.random())+1e7],["dfp_instream_video_viewability",a],["instream_video",this.get("pp-position")]]),e=e.map(function(e){return e[0]+"="+e[1]}).join(i?"&":";"),s+=e},dfpParams:function(){var t=o+"/"+this.get("adZone"),e=[t],i={page:d,forcedAdZone:this.get("forcedAdZone")||"false",blogName:n.name||"",sz:"400x300",tile:1,dcmt:"text/xml",ord:Math.floor(9e7*Math.random())+1e7};return s.each(i,function(t,n){e.push(n+"="+t)}),e.join(";")},sizes:function(){return e.config.size},stateName:function(){var t;switch(this.get("adState")){case e.states.INITIALIZING:t="initializing";break;case e.states.INITIALIZED:t="initialized";break;case e.states.PLAYING_INVALID_IMPRESSION:t="playing (invalid)";break;case e.states.PLAYING_VALID_IMPRESSION:t="playing (valid)";break;case e.states.COMPLETED:t="completed";break;default:t="error"}return t},playVideo:function(){this.videoPlayer.play()},pauseVideo:function(){this.videoPlayer.pauseAd()},setVolumeMax:function(){window.clearInterval(window.volumeInterval),this.setVolume(1)},setVolumeMin:function(){window.clearInterval(window.volumeInterval),this.setVolume(0)},setVolume:function(r,c){var n=0,e=this.videoPlayer,t=this.videoPlayer.volumeControl.min,o=this.videoPlayer.volumeControl.max,s=r?o:t,a=this.videoPlayer.volumeControl.step,i=function(){return e.getVolume()};return c?void e.setVolume(r):(this.isMuted()&&(e.setVolume(t),e.setMute(!1)),s===t&&(n=i()),void(window.volumeInterval=window.setInterval(function(){s===o&&i()<=o?n+=a:s===t&&i()>=t&&(n-=2*a),e.setVolume(n)},250)))},isAdPlaying:function(){return"playing"===this.videoPlayer.adState},isPlaying:function(){return"playing"===this.videoPlayer.getState()},isPaused:function(){return"paused"===this.videoPlayer.getState()},isMuted:function(){return this.videoPlayer.getMute()},isComplete:function(){return"completed"===this.videoPlayer.getState()},isVisible:function(){return this.videoPlayer.visible},isResumed:function(){return this.videoPlayer.resumed}},{config:{},states:{INITIALIZING:1,INITIALIZED:2,PLAYING_INVALID_IMPRESSION:3,PLAYING_VALID_IMPRESSION:4,COMPLETED:5},shouldRun:function(){return t.isOn("dfp_instream_video")&&r.isDesktopLike()}});return e}),define("module/ads/collection/ads.slotCollection",["backbone","module/ads/model/ads.slotModel"],function(e,t){"use strict";var n=e.Collection.extend({model:t,toNavigation:function(){var e=this.map(function(e){return e.navData()});return e.length&&(e[0].active=!0),e}});return n}),define("module/ads/view/ads.slotView",["jquery","underscore","backbone.marionette","singleton/Feature","singleton/CurrentBlog","module/ads/ads.events"],function(n,r,i,t,o,e){"use strict";var a=o.blogSales.adNetworkId===o.defaultAdNetworkId,s=i.ItemView.extend({modelEvents:{"ads.zonerendered":"onZoneRendered"},showAd:function(){var n=this.model.get("zoneConfig");this.$el.addClass("js_slot-displayed"),this.$el.show(),t.isOn("splashy_ad")&&n.isResponsive===!0?(this.setDimensions(),n.shouldSlideDown===!0?this.$el.parents(".splashy-ad-container").slideDown(400,function(){this.triggerDisplayedEvent(),e.trigger("ads.zonedisplayed",this)}.bind(this)):(this.$el.parents(".splashy-ad-container").show(),this.triggerDisplayedEvent(),e.trigger("ads.zonedisplayed",this))):(this.triggerDisplayedEvent(),e.trigger("ads.zonedisplayed",this),this.setDimensions()),this.model.setShown()},hideAd:function(){var t=this.model.get("zoneConfig");this.$el.addClass("hide js_slot-hidden"),this.triggerHideEvent(),e.trigger("ads.zonedisplayed",this),this.model.setHidden(),t.hasOwnProperty("onViewHide")&&"function"==typeof t.onViewHide&&t.onViewHide(this)},triggerDisplayedEvent:function(){e.trigger("kinjaads."+this.model.get("zoneType")+".displayed",{element:this.$el}),e.trigger("kinjaads."+this.model.get("slotId")+".displayed",{zone:this})},triggerHideEvent:function(){e.trigger("kinjaads."+this.model.get("zoneType")+".hide",{element:this.$el}),e.trigger("kinjaads."+this.model.get("slotId")+".hide",{zone:this})},setDimensions:function(){var e,o=this.model.get("gptData"),i=this.model.get("zoneConfig"),n=o.size[0],s=o.size[1],a=n+"x"+s;t.isOn("splashy_ad")&&i.isResponsive?a===i.fallbackSize?(this._setDimensionStyle(n,s),this._setIframeDimensions(n,s),this._handleStaticFallback()):(e=this.calculateResponsiveAdZoneDimensions(),this._setDimensionStyle(e[0],e[1]),this._setIframeDimensions(e[0],e[1]),this.adjustResponsiveAdContainerHeight(e[1])):(this._setDimensionStyle(n,s),this._setIframeDimensions(n,s))},calculateResponsiveAdZoneDimensions:function(){var e=[],t=this.model.get("zoneConfig"),s=n(window).height();return e[0]=t.maxWidth,e[1]=Math.min(t.maxHeight,s-t.viewportVOffset),e},adjustResponsiveAdContainerHeight:function(e){var t=this.$el.find("div:first-child"),n=this.$el.find("iframe:first-child");t.length&&t.height()>e&&t.css({height:e,overflow:"hidden"}),n.length&&n.height()>e&&n.css("height",e)},_setDimensionStyle:function(e,t){this.$el.css({width:e,height:t})},_setIframeDimensions:function(t,n){var s,e=this.$("div > iframe");e.attr("width",t),e.attr("height",n);try{s=e.contents().find("body").css("text-align","center")}catch(e){console.log("cannot set iframe body css")}},_handleStaticFallback:function(){this.$el.addClass("centered"),this.$el.parent(".js_ad-unit").addClass("static-fallback")},isEmpty:function(){var e,s,o,r,c,t=!1,i=this.$el,a=this.$("> div > iframe",i).eq(0);if(a.length>0)try{e=a.contents(),r=e.find("body"),c=e.find("head, body"),e&&!e.length?t=this.treatInaccessibleIframeAsEmpty():(s=r.html(),o=c.find("[src]"),t=this.checkIframeEmptiness(a))}catch(e){t=this.treatInaccessibleIframeAsEmpty()}else s=i.html(),o=n("[src]",i),t=this.checkAdEmptiness(s,o);return t},checkIframeEmptiness:function(i){var e,t,n,s,o;try{return e=i.contents(),t=e.find("body"),n=e.find("head, body"),s=t.html(),o=n.find("[src]"),this.checkAdEmptiness(s,o)}catch(e){return this.treatInaccessibleIframeAsEmpty()}},treatInaccessibleIframeAsEmpty:function(){return a},checkAdEmptiness:function(s,o){var e;return 0===n.trim(s).length||(r.find(o,function(n){var s=/817-(grey|grey_|blank|blank_)\.gif/,o=/ads\/collapser.gif/,i=/ads.rubiconproject.com/;t.isOn("rubicon_no_collapse")&&n.src.match(i)?e=!1:n&&n.src&&(n.src.match(s)||n.src.match(o))&&(e=!0)}),e)},onZoneRendered:function(){var r,l=!1,u=/(?:https?:\/\/)(?:[\w]+\.)([a-zA-Z.]{2,63})([/\w.-]*)*\/?/i,a=function(){this.model.setEmptiness(!0),this.hideAd()}.bind(this),m=function(){this.model.setEmptiness(!1),this.showAd()}.bind(this),i=function(){this.model.isGptEmpty()?a():this.isEmpty()===!0?l?a():(window.setTimeout(i,s.config.checkEmptinessDelay),l=!0):m()}.bind(this),d=this.$el[0],n=this.$("> div > iframe",d).eq(0),c=n.attr("src"),h=this.model.get("zoneConfig"),o=h.dimensions,f=2e3;e.trigger("ads.zonerendered"),this.model.setRendered(),"MOBILE_SECOND"===this.model.get("zoneType")?(this.model.setRendered(),this.model.setEmptiness(!1),this.$el.parents(".js_ad-mobile-second").toggleClass("hide-contents"),o&&o.length&&n.css({width:o[0]+"px",height:o[1]+"px"})):n.length?t.isOn("splashy_ad")&&c&&null===c.match(u)?i():(r=window.setTimeout(function(){n.off("load.kinjaads"),a()}.bind(this),f),n.on("load.kinjaads",function(){window.clearInterval(r),i()}.bind(this))):i()}},{config:{dimensionTolerance:4,iframeMaxWaitTime:750,checkEmptinessDelay:750}});return s}),define("module/ads/view/ads.videoSlotView",["jquery","backbone.marionette","singleton/Feature"],function(o,r,i){"use strict";var t,a=o("body"),s=o(".main-column"),e=o(".ad-background"),n=r.ItemView.extend({modelEvents:{"ads.jwplayer.loaded":"onJwplayerLoaded","ads.jwplayer.adcomplete":"hideAd","ads.jwplayer.adclick":"hideAd","ads.jwplayer.aderror":"hideAd","ads.jwplayer.adimpression":"onAdImpression"},ui:{closeLink:".js_foreplay-close"},events:{"click @ui.closeLink":"onCloseLinkClick"},triggerAd:function(){this.$el.css("display","block")},setAdPlaying:function(){s.css("-webkit-transform","none"),e.show(),this.$el.css({visibility:"visible",display:"block"}).addClass("js_foreplay-locked"),this.$el.focus().addClass("foreplay-fixed"),a.addClass("lock-body-onpreroll"),this.model.setPlaying()},hideAd:function(){t&&window.clearInterval(t),window.setTimeout(function(){a.removeClass("lock-body-onpreroll"),s.css("-webkit-transform","translate3d(0,0,0)"),this.$el.css({visibility:"hidden",display:"none"}),e.hide()}.bind(this),n.config.jwPlayerCloseDelayTime)},disableBGCloseEvents:function(){e.off("click").off("click.reveal").css({cursor:"default"})},enableBGCloseEvents:function(){e.css({cursor:"pointer"}),this.listenTo(e,"click.foreplay",this.hideAd)},onJwplayerLoaded:function(){s.before(this.$el),i.isOn("jwplayer_v7")||i.isOn("html5_jwplayer")||this.$el.css("display","block")},onAdImpression:function(s){if(!s||s.tag){var e=5,o=function(){e-=1,0===e?i():this.ui.closeLink.text("You can skip this ad in "+e+" seconds.")}.bind(this),i=function(){var e="Skip ad";window.clearInterval(t),t=null,this.ui.closeLink.text(e),this.model.setValidImpression(),this.enableBGCloseEvents()}.bind(this);this.disableBGCloseEvents(),this.setAdPlaying(),t=window.setInterval(o,n.config.jwPlayerCountdownInterval)}},onCloseLinkClick:function(){return this.model.hasValidImpression()&&(this.hideAd(),this.model.setComplete()),!1}},{config:{jwPlayerCloseDelayTime:100,jwPlayerCountdownInterval:1e3}});return n}),define("module/ads/view/ads.instreamVideoSlotView",["underscore","backbone.marionette","singleton/Feature","lib/waypoints"],function(t,n,e){"use strict";var s=n.ItemView.extend({modelEvents:{"ads.videoplayer.loaded":"onVideoplayerLoaded","ads.videoplayer.adimpression":"onAdImpression","ads.videoplayer.adcomplete":"onAdComplete","ads.videoplayer.emptyAdResponse":"onEmptyAdResponse"},ui:{videoPlayer:".js_instream-video-placeholder"},events:{"mouseenter @ui.videoPlayer":"onEnterVideoPlayer","mouseleave @ui.videoPlayer":"onLeaveVideoPlayer"},clearWaypoints:function(e){e.waypoint("destroy")},onRender:function(){var n=t.once(function(){e.isOn("instream_ajax")?this.model.prefetch():(this.clearWaypoints(this.ui.videoPlayer),this.model.set("playerState","require"))}.bind(this));return this.model.get("disabled")?void this.ui.videoPlayer.closest(".ad-instream").addClass("hide"):void this.ui.videoPlayer.waypoint({handler:function(e){"down"===e&&n()},offset:"300%"}).waypoint({handler:function(e){"up"===e&&n()},offset:"-300%"}).waypoint({handler:function(){n()},offset:"100%"})},onVideoplayerLoaded:function(){var t,n,s=this.model,o=this.model.videoPlayer,i=window.parseInt(e.value("dfp_instream_video_viewability")||20,10);switch(i){case 0:t="100%",n="-60%";break;case 10:t="95%",n="-55%";break;default:t="90%",n="-50%"}o.on("ready",function(){this.$el.waypoint({handler:function(e){"down"===e?s.playVideo():"up"===e&&s.pauseVideo()},offset:t}).waypoint({handler:function(e){"down"===e?s.pauseVideo():"up"===e&&s.playVideo()},offset:n})}.bind(this))},onAdComplete:function(){this.clearWaypoints(this.$el)},onEnterVideoPlayer:function(){e.isOn("dfp_instream_video_click")||this.model.setVolumeMax()},onLeaveVideoPlayer:function(){e.isOn("dfp_instream_video_click")||this.model.setVolumeMin()},onEmptyAdResponse:function(){this.$el.parents(".ad-instream").hide()},onAdImpression:function(){this.model.setValidImpression()}},{config:{}});return s}),define("templates/tiger/components/forms/modals/subnav",["overlord","tiger","mantle","lib/amd-wrapped/soy/goog","lib/amd-wrapped/soy/soy","lib/amd-wrapped/soy/soydata"],function(s,e,o,n,t){e.components.forms.modals.subnav=function(c,l,a){for(var n,o='<div class="phl text-center filter-selector mbx"><dl class="sub-nav inline-block mbn">',i=c.items,r=i.length,s=0;r>s;s++)n=i[s],o+=1==n.render?'<dd class="js_navigate '+t.$$escapeHtmlAttribute(n.active?"active":"")+'" data-sub-view="'+t.$$escapeHtmlAttribute(n.subViewSelector)+'"><a href="#" class="icon--svg svg-icon--white">'+(1==n.superuserTab?e.icons.actions.gear(null,null,a):"")+" "+t.$$escapeHtml(n.text)+"</a></dd>":"";return o+="</dl></div>"},n.DEBUG&&(e.components.forms.modals.subnav.soyTemplateName="tiger.components.forms.modals.subnav")}),define("view/modal/modal.subnav",["jquery","backbone.marionette","templates/tiger/components/forms/modals/subnav"],function(e,t){"use strict";var n=t.ItemView.extend({template:tiger.components.forms.modals.subnav,events:{"click .js_navigate":"onNavigateClick"},ui:{navElements:".js_navigate"},onNavigateClick:function(t){var n=e(t.currentTarget),s=this.collection.findWhere({subViewSelector:n.attr("data-sub-view")});return this.collection.trigger("modal:navigate",s),!1}});return n}),define("module/ads/view/ads.adInfoLayout",["backbone.marionette","view/modal/modal.subnav","templates/tiger/components/forms/modals/modal"],function(e,t){"use strict";var n=e.Layout.extend({template:tiger.components.forms.modals.modal.body,className:"modal-body proxima",regions:{subnav:"#modalsubnav_placeholder",content:"#modalcontent_placeholder"},onRender:function(){this.subnav.show(new t({collection:this.options.navigation})),this.content.show(new this.options.view({vent:this.options.vent,model:this.options.viewOptions.model}))}});return n}),define("templates/tiger/components/ad/adInfo",["overlord","tiger","mantle","lib/amd-wrapped/soy/goog","lib/amd-wrapped/soy/soy","lib/amd-wrapped/soy/soydata"],function(s,t,o,n,e){t.components.ad.info=function(){return'<dl class="tabs" data-tab></div><div class="ad-info__content js_ad-info__content tabs-content mbn pam"></div>;'},n.DEBUG&&(t.components.ad.info.soyTemplateName="tiger.components.ad.info"),t.components.ad.infoItem=function(t){return'<div class="ad-info-item__entry"><span class="ad-info-item-title">Page Type:</span> '+e.$$escapeHtml(t.pageType)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Zone Type:</span> '+e.$$escapeHtml(t.zoneType)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Sizes:</span> '+e.$$escapeHtml(t.sizes)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Slot Id:</span> '+e.$$escapeHtml(t.slotId)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Unit Name:</span> '+e.$$escapeHtml(t.unitName)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Ad Zone:</span> '+e.$$escapeHtml(t.adZone)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Position:</span> '+e.$$escapeHtml(t.pos)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Ad Zone Source:</span> '+e.$$escapeHtml(t.adZoneSource)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Forced Ad Zone:</span> '+e.$$escapeHtml(t.forcedAdZone)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Empty:</span> '+e.$$escapeHtml(t.isEmpty)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Status:</span> '+e.$$escapeHtml(t.status)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Keywords:</span> '+e.$$escapeHtml(t.keywords)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Tags:</span> '+e.$$escapeHtml(t.tags)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Company:</span> '+e.$$escapeHtml(t.company)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Post Id:</span> '+e.$$escapeHtml(t.postId)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Blog Name:</span> '+e.$$escapeHtml(t.blogName)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Referer:</span> '+e.$$escapeHtml(t.referer)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Social Referrer:</span> '+e.$$escapeHtml(t.socialReferrer)+"</div>"+(t.diagnosticsUrl?'<div class="ad-info-item__entry"><span class="ad-info-item-title">Diagnostics Url:</span> <a href="'+e.$$escapeHtmlAttribute(e.$$filterNormalizeUri(t.diagnosticsUrl))+'">'+e.$$escapeHtml(e.$$truncate(t.diagnosticsUrl,100,!0))+"</a></div>":"")+(t.creativeUrl?'<div class="ad-info-item__entry"><span class="ad-info-item-title">Creative Url:</span> <a href="'+e.$$escapeHtmlAttribute(e.$$filterNormalizeUri(t.creativeUrl))+'">'+e.$$escapeHtml(e.$$truncate(t.creativeUrl,100,!0))+"</a></div>":"")},n.DEBUG&&(t.components.ad.infoItem.soyTemplateName="tiger.components.ad.infoItem")}),define("module/ads/view/ads.adInfoItemView",["backbone.marionette","templates/tiger/components/ad/adInfo"],function(e){"use strict";var t=e.ItemView.extend({template:tiger.components.ad.infoItem,className:"content ad-info-item js_ad-info-item",id:function(){return this.model.get("slotId")+"-info"},serializeData:function(){return this.model.adInfo()}});return t}),define("module/ads/ads.controller",["jquery","underscore","backbone","lib/amd-wrapped/postscribe","singleton/CurrentBlog","singleton/Utils","singleton/Feature","singleton/EventDispatcher","module/ads/ads.events","app/modal/modal.controller","module/ads/model/ads.slotModel","module/ads/model/ads.videoSlotModel","module/ads/model/ads.instreamVideoSlotModel","module/ads/collection/ads.slotCollection","module/ads/view/ads.slotView","module/ads/view/ads.videoSlotView","module/ads/view/ads.instreamVideoSlotView","module/ads/view/ads.adInfoLayout","module/ads/view/ads.adInfoItemView"],function(o,n,_,w,c,e,t,g,s,u,i,h,O,y,j,b,v,m,p){"use strict";var f=[],r=[],d=!1,l=new y,a={_bindEvents:function(){var e=a;s.on("ads.dynamicad.load",e.onDynamicAdLoad),s.on("ads.zonerendered",e.onZoneRendered),s.on("ads.zonedisplayed",e.onZoneDisplayed)},onDynamicAdLoad:function(e,t){var n,s,o;(t!==i.zoneTypes.MOBILE_SECOND||i.config[t].shouldRun())&&(s=e.attr("id"),o=e.data().forcedAdZone,n=a._initZone(t,e,s,o)[1],a._refreshZones(n.model))},onZoneRendered:n.once(function(){var n=" - "+(t.isOn("webpack")?"webpack":"require");n+=" - "+(c.blogGroup||"default"),e.markTimeForPermalink("JS - first ad rendered"+n),e.markTimeWithPageType("JS - first ad rendered"+n),d=!0}),onZoneDisplayed:function(t){var s=t.model.get("zoneType")+" - "+e.getKinjaMeta().pageType;r=n.chain(r).without(t.cid).compact().value(),d&&performance.measure&&performance.measure("JS - time to display ad - "+s,t.model.get("refreshMark")),!r.length&&d&&(n.once(e.markTimeForPermalink.bind(e,"JS - ads displayed")),n.once(e.markTimeForPermalink.bind(e,"JS - ads displayed - "+e.getKinjaMeta().pageType)))},_adsEnabled:function(){return!!c.blogSales&&!!c.blogSales.adsEnabled},_initAmazonMatchbuy:function(e){var t=function(){try{window.amznads.getAds("3076")}catch(e){console.log(e.message)}};o.getScript("//c.amazon-adsystem.com/aax2/amzn_ads.js",function(){w("#matchbuy-placeholder",t,{done:e})})},_initGpt:function(){var n,s=window.googletag=window.googletag||{};s.cmd=s.cmd||[],o.getScript("//www.googletagservices.com/tag/js/gpt.js"),s.cmd.push(function(){n=s.pubads(),n.collapseEmptyDivs(),n.enableAsyncRendering(),n.setTargeting("tags",(e.getKinjaMeta().tags||"").split(",")),n.setTargeting("refer",document.referrer),n.setTargeting("blogName",c.name),n.setTargeting("ksg",window.Krux.segments),n.setTargeting("kuid",window.Krux.user),t.isOn("amazon_matchbuy")&&window.amznads.setTargetingForGPTAsync("amznslots"),n.enableSingleRequest(),n.disableInitialLoad(),s.enableServices()})},_refreshZones:function(s){var a=n.isArray(s)||!s?s:[s],o=n.invoke(a,"get","gptSlot"),i=function(){o&&o.length?(window.googletag.pubads().refresh(o),n.each(a,function(t){t.set("refreshMark",e.markTimeWithPageType("JS - ad refreshed - "+t.get("zoneType")))})):window.googletag.pubads().refresh()};window.googletag.cmd.push(function(){if(t.isOn("amazon_matchbuy")){window.googletag.pubads().clearTargeting();var e=function(){var e=window.location.href;window.amznads.setTargetingForGPTAsync("amznslots"),-1!==e.indexOf("#")&&""===window.location.hash&&"function"==typeof window.history.replaceState&&window.history.replaceState({},window.title,e.split("#")[0]),i()};window.amznads.getAdsCallback("3076",e),window.googletag.pubads().clearTargeting("amznslots")}else i()})},_renderZones:function(){var s=[];n.each(f,function(t){var e=t.model;!e.get("adZone")||e.get("collapsed")||e.get("disabled")?t.hideAd():s.push(e)},this),s.length&&(t.isOn("ad_module")?a._refreshZones(s):a._refreshZones(),e.markTimeForPermalink("JS - before ads fetched"))},_registerZone:function(e){f.push(e),r.push(e.cid)},_initZone:function(r,n,s,o,a){var e,t;return e=new i({zoneType:r,slotId:s,forcedAdZone:o,pp_position:a}),t=new j({model:e,el:n}),t.bindUIElements(),l.add(e),[e,t]},_initPreroll:function(){var e,t;return e=new h,t=new b({model:e,el:o("#foreplay")}),t.bindUIElements(),e},_initInstreamVideo:function(t){var e,n;return n=new O({container:t}),e=new v({model:n,el:t}),e.bindUIElements(),e.onRender(),e},_setMobileWidth:function(n){var e=o(".js_page"),s=e.css("margin-left").replace(/[^0-9.]/g,""),i=e.css("padding-left").replace(/[^0-9.]/g,""),a=-1*s+-1*i;t.isOn("permalink_body_mobile_ad")||t.isOn("permalink_body_mobile_ad_label")||n.css({width:o(window).width(),"margin-left":a})},_bindMobileEvents:function(e){g.on("orientation:change",function(){this._setMobileWidth(e)}.bind(this)),s.on("kinjaads.MOBILE.displayed",function(){e.removeClass("hide-contents")})},_initZones:function(){var e,r,c,u,d=[],m=["INSTREAM_VIDEO","MOBILE_SECOND"];h.shouldRun()&&(r=this._initPreroll(),l.add(r)),t.isOn("dfp_instream_video")&&o('.js_ad-container:not(.initialized)[data-zone-type="INSTREAM_VIDEO"]').each(function(){u=a._initInstreamVideo(o(this))}),c=o(".js_ad-container:not(.initialized)").not(function(){var e="data-zone-type";return this.hasAttribute(e)&&-1!==m.indexOf(this.getAttribute(e))}),n.each(c,function(r){var a,c,l,u,m,t=o(r),e=t.data("zoneType"),f=r.id,p=t.data("forcedAdZone"),h=t.data("postId");if(e===i.zoneTypes.TRACKER){if(n.contains(d,h))return!1;d.push(h)}i.shouldRun(e)?(e===i.zoneTypes.MOBILE&&(a=t.closest(".js_ad-unit"),this._setMobileWidth(a),this._bindMobileEvents(a)),(e===i.zoneTypes.PROMOTION||e===i.zoneTypes.PROMOTION_MOBILE||e===i.zoneTypes.PROMOTION_SIDEBAR)&&(u=t.data("pp-position")),c=this._initZone(e,r,f,p,u),m=c[0],l=c[1],t.addClass("initialized"),this._registerZone(l)):(t.addClass("hide js_slot-inactive"),s.trigger("ads."+e+".inactive"))}.bind(this)),l.length&&(s.on("ads.info.show",function(){e=new _.Collection(l.toNavigation()),e.activeModel=e.at(0),e.on("modal:navigate",this.onAdInfoNavigation),this._showInfoModal(e)}.bind(this)),this._renderZones())},_showInfoModal:function(e){u.create(new m({navigation:e,vent:s,view:p,viewOptions:{model:e.at(0).get("slotModel")}}),{name:"adInfo"})},onAdInfoNavigation:function(e){var t=e.collection;t.activeModel.set("active",!1),e.set("active",!0),t.activeModel=e,u.change(m,{navigation:t,vent:s,view:p,viewOptions:{model:e.get("slotModel")}})},API:{startAds:function(){var n=a,o=function(){function e(){window.setTimeout(function(){s--,window.googletag.pubadsReady?n._initZones():s&&e()},250)}var s=20;t.isOn("ad_module")||n._initGpt(),t.isOn("webpack")?e():n._initZones()};n._adsEnabled()?(e.markTimeForPermalink("JS - before ad controller initialized"),n._bindEvents(),t.isOn("amazon_matchbuy")?n._initAmazonMatchbuy(o):o()):s.trigger("kinjaads.disabled")},showInfo:function(){s.trigger("ads.info.show")}}};return window.kinjaads=window.kinjaads||{},window.kinjaads.queue=window.kinjaads.queue||[],window.kinjaads.showInfo=a.API.showInfo,a.API}),define("lib/kriteo",["singleton/Feature"],function(a){"use strict";function s(o){var e,n,s,t=document.cookie.split(";");for(e=0;e<t.length;e++)if(n=t[e].substr(0,t[e].indexOf("=")),s=t[e].substr(t[e].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n===o)return unescape(s);return""}if(a.isOn("no3rdparty"))return!1;var e,o="1482",n="cto_gawk",i=(s(n),Math.floor(99999999999*Math.random())),t="//rtax.criteo.com/delivery/rta/rta.js?netId="+escape(o);t+="&cookieName="+escape(n),t+="&rnd="+i,t+="&varName=crtg_content",e=document.createElement("script"),e.type="text/javascript",e.src=t,e.async=!0,document.getElementsByTagName("head").length>0?document.getElementsByTagName("head")[0].appendChild(e):document.getElementsByTagName("body").length>0&&document.getElementsByTagName("body")[0].appendChild(e)}),define("lib/jquery.browser.mobile",["jquery"],function(e){!function(t){(e.browser=e.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera)}),define("singleton/VideoUtils",["jquery","lib/jquery.browser.mobile"],function(e){"use strict";var t,n,s,o=e(document.body);return n=function(n){e.browser.mobile&&(n&&t?t.show():n||(t=o.find(".flex-video iframe:visible, .flex-video video:visible").hide()))},s=function(){e(document.body).on("opened.fndtn.reveal","[data-reveal]",function(){n(!1)}).on("close.fndtn.reveal","[data-reveal]",function(){n(!0)})},{hideVideosOnModalOpen:s}}),function(e,t){if("function"==typeof define&&define.amd)define("lib/foundation/foundation",["jquery"],t);else if("object"==typeof exports){var n=require("jquery");module.exports=t(n)}else e.Foundation=t(e.jQuery||e.$)}(this,function(t){"use strict";function s(e){return("string"==typeof e||e instanceof String)&&(e=e.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),e}n=function(e){for(var n=e.length,s=t("head");n--;)0===s.has("."+e[n]).length&&s.append('<meta class="'+e[n]+'" />')},n(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),t(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof document.body&&FastClick.attach(document.body)});var n,e=function(n,e){if("string"==typeof n){if(e){var s;if(e.jquery){if(s=e[0],!s)return e}else s=e;return t(s.querySelectorAll(n))}return t(document.querySelectorAll(n))}return t(n,e)},o=function(t){var e=[];return t||e.push("data"),this.namespace.length>0&&e.push(this.namespace),e.push(this.name),e.join("-")},i=function(s){for(var t=s.split("-"),e=t.length,n=[];e--;)0!==e?n.push(t[e]):this.namespace.length>0?n.push(this.namespace,t[e]):n.push(t[e]);return n.reverse().join("-")},a=function(s,o){var n=this,i=function(){var i=e(this),a=!i.data(n.attr_name(!0)+"-init");i.data(n.attr_name(!0)+"-init",t.extend({},n.settings,o||s,n.data_options(i))),a&&n.events(this)};return e(this.scope).is("["+this.attr_name()+"]")?i.call(this.scope):e("["+this.attr_name()+"]",this.scope).each(i),"string"==typeof s?this[s].call(this,o):void 0},r=function(e,n){function t(){n(e[0])}function s(){if(this.one("load",t),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=this.attr("src"),n=e.match(/\?/)?"&":"?";n+="random="+(new Date).getTime(),this.attr("src",e+n)}}return e.attr("src")?void(e[0].complete||4===e[0].readyState?t():s.call(e)):void t()};return window.matchMedia||(window.matchMedia=function(){if(t=window.styleMedia||window.media,!t){var t,e=document.createElement("style"),n=document.getElementsByTagName("script")[0],s=null;e.type="text/css",e.id="matchmediajs-test",n.parentNode.insertBefore(e,n),s="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(n){var t="@media "+n+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=t:e.textContent=t,"1px"===s.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(t){function a(){s&&(n(a),r&&t.fx.tick())}for(var s,e=0,o=["webkit","moz"],n=window.requestAnimationFrame,i=window.cancelAnimationFrame,r="undefined"!=typeof t.fx;e<o.length&&!n;e++)n=window[o[e]+"RequestAnimationFrame"],i=i||window[o[e]+"CancelAnimationFrame"]||window[o[e]+"CancelRequestAnimationFrame"];n?(window.requestAnimationFrame=n,window.cancelAnimationFrame=i,r&&(t.fx.timer=function(e){e()&&t.timers.push(e)&&!s&&(s=!0,a())},t.fx.stop=function(){s=!1})):(window.requestAnimationFrame=function(s){var t=(new Date).getTime(),n=Math.max(0,16-(t-e)),o=window.setTimeout(function(){s(t+n)},n);return e=t+n,o},window.cancelAnimationFrame=function(e){clearTimeout(e)})}(t),window.Foundation={name:"Foundation",version:"5.5.2",media_queries:{small:e(".foundation-mq-small").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),"small-only":e(".foundation-mq-small-only").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),medium:e(".foundation-mq-medium").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),"medium-only":e(".foundation-mq-medium-only").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),large:e(".foundation-mq-large").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),"large-only":e(".foundation-mq-large-only").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),xlarge:e(".foundation-mq-xlarge").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),"xlarge-only":e(".foundation-mq-xlarge-only").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),xxlarge:e(".foundation-mq-xxlarge").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,"")},stylesheet:t("<style></style>").appendTo("head")[0].sheet,global:{namespace:""},init:function(n,t,o,i,a){var c,r=[n,o,i,a],s=[];if(this.rtl=/rtl/i.test(e("html").attr("dir")),this.scope=n||this.scope,this.set_namespace(),t&&"string"==typeof t&&!/reflow/i.test(t))this.libs.hasOwnProperty(t)&&s.push(this.init_lib(t,r));else for(c in this.libs)s.push(this.init_lib(c,t));return e(window).load(function(){e(window).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),n},init_lib:function(e,n){return this.libs.hasOwnProperty(e)?(this.patch(this.libs[e]),n&&n.hasOwnProperty(e)?("undefined"!=typeof this.libs[e].settings?t.extend(!0,this.libs[e].settings,n[e]):"undefined"!=typeof this.libs[e].defaults&&t.extend(!0,this.libs[e].defaults,n[e]),this.libs[e].init.apply(this.libs[e],[this.scope,n[e]])):(n=n instanceof Array?n:new Array(n),this.libs[e].init.apply(this.libs[e],n))):function(){}},patch:function(e){e.scope=this.scope,e.namespace=this.global.namespace,e.rtl=this.rtl,e.data_options=this.utils.data_options,e.attr_name=o,e.add_namespace=i,e.bindings=a,e.S=this.utils.S},inherit:function(n,s){for(var e=s.split(" "),t=e.length;t--;)this.utils.hasOwnProperty(e[t])&&(n[e[t]]=this.utils[e[t]])},set_namespace:function(){var e=void 0===this.global.namespace?t(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=void 0===e||/false/i.test(e)?"":e},libs:{},utils:{S:e,throttle:function(t,n){var e=null;return function(){var s=this,o=arguments;null==e&&(e=setTimeout(function(){t.apply(s,o),e=null},n))}},debounce:function(n,o,s){var e,t;return function(){var i=this,a=arguments,r=function(){e=null,s||(t=n.apply(i,a))},c=s&&!e;return clearTimeout(e),e=setTimeout(r,o),c&&(t=n.apply(i,a)),t}},data_options:function(l,n){function c(e){return!isNaN(e-0)&&null!==e&&""!==e&&e!==!1&&e!==!0}function r(e){return"string"==typeof e?t.trim(e):e}n=n||"options";var e,s,i,a={},d=function(e){var t=Foundation.global.namespace;return t.length>0?e.data(t+"-"+n):e.data(n)},o=d(l);if("object"==typeof o)return o;for(s=(o||":").split(";"),i=s.length;i--;)e=s[i].split(":"),e=[e[0],e.slice(1).join(":")],/true/i.test(e[1])&&(e[1]=!0),/false/i.test(e[1])&&(e[1]=!1),c(e[1])&&(-1===e[1].indexOf(".")?e[1]=parseInt(e[1],10):e[1]=parseFloat(e[1])),2===e.length&&e[0].length>0&&(a[r(e[0])]=r(e[1]));return a},register_media:function(e,n){void 0===Foundation.media_queries[e]&&(t("head").append('<meta class="'+n+'"/>'),Foundation.media_queries[e]=s(t("."+n).css("font-family")))},add_custom_rule:function(t,e){if(void 0===e&&Foundation.stylesheet)Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length);else{var n=Foundation.media_queries[e];void 0!==n&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+t+" }",Foundation.stylesheet.cssRules.length)}},image_loaded:function(e,n){function s(e){for(var n=e.length,t=n-1;t>=0;t--)if(void 0===e.attr("height"))return!1;return!0}var o=this,t=e.length;(0===t||s(e))&&n(e),e.each(function(){r(o.S(this),function(){t-=1,0===t&&n(e)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(e){return window.matchMedia(e).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},t.fn.foundation=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(e)),this})},Foundation}),define("gawkerlib/foundation.kinja.dropdown",["jquery","lib/amd-wrapped/modernizr","lib/foundation/foundation"],function(t,n,e){"use strict";var s={name:"dropdown",version:"5.5.2",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",autoalign:!1,is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(o,n,s){e.inherit(this,"throttle"),t.extend(!0,this.settings,n,s),this.bindings(n,s)},events:function(){var e=this,s=e.S;s(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(o){var i=s(this).data(e.attr_name(!0)+"-init")||e.settings;(!i.is_hover||n.touch)&&(o.preventDefault(),s(this).parent("[data-reveal-id]").length&&o.stopPropagation(),e.toggle(t(this),i))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(a){var t,n,o,i=s(this);window.clearTimeout(e.timeout),i.data(e.data_attr())?(t=s("#"+i.data(e.data_attr())),n=i):(t=i,n=s("["+e.attr_name()+'="'+t.attr("id")+'"]')),o=n.data(e.attr_name(!0)+"-init")||e.settings,s(a.currentTarget).data(e.data_attr())&&o.is_hover&&e.closeall.call(e),o.is_hover&&e.open.apply(e,[t,n,o])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var t,o,n=s(this);n.data(e.data_attr())?t=n.data(e.data_attr(!0)+"-init")||e.settings:(o=s("["+e.attr_name()+'="'+s(this).attr("id")+'"]'),t=o.data(e.attr_name(!0)+"-init")||e.settings),e.timeout=window.setTimeout(function(){n.data(e.data_attr())?t.is_hover&&e.close.call(e,s("#"+n.data(e.data_attr())),t):t.is_hover&&e.close.call(e,n,t)}.bind(this),t.hover_timeout)}).on("click.fndtn.dropdown",function(n){var o=s(n.target),i=o.closest("["+e.attr_name()+"-content]"),a=i.find("a");return a.length>0&&"false"!==i.attr("aria-autoclose")&&e.close.call(e,s("["+e.attr_name()+"-content]")),n.target!==document&&!t.contains(document.documentElement,n.target)||o.closest("["+e.attr_name()+"]").length>0?void 0:!o.data("revealId")&&i.length>0&&(o.is("["+e.attr_name()+"-content]")||t.contains(i.first()[0],n.target))?void n.stopPropagation():void e.close.call(e,s("["+e.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.closed.call(this)}),s(window).off(".dropdown").on("resize.fndtn.dropdown",e.throttle(function(){e.resize.call(e)},50)),this.resize()},close:function(s,o){var n=this;s.each(function(r){var a,i=n.S(this);i.hasClass(n.settings.active_class)&&(a=t("["+n.attr_name()+"="+s[r].id+"]")||t("aria-controls="+s[r].id+"]"),a.attr("aria-expanded","false"),o=o||a.data(n.attr_name(!0)+"-init")||n.settings,o.autoalign&&i.css(e.rtl?"right":"left","-99999px"),i.attr("aria-hidden","true").removeClass(n.settings.active_class).prev("["+n.attr_name()+"]").removeClass(n.settings.active_class).removeData("target"),i.trigger("closed.fndtn.dropdown",[s]))}),s.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var e=this;t.each(e.S(".f-open-"+this.attr_name(!0)),function(){e.close.call(e,e.S(this))})},open:function(e,t,n){e.addClass(this.settings.active_class),n.autoalign&&this.css(e,t),e.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),e.data("target",t.get(0)).trigger("opened.fndtn.dropdown",[e,t]),e.attr("aria-hidden","false"),t.attr("aria-expanded","true"),e.focus(),e.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(e,s){var n,o;if(!e.hasClass(this.settings.disabled_class)){if(n=this.S("#"+e.data(this.data_attr())),0===n.length)return void(e.data("deferred")||(o=t.Deferred(),o.promise().then(function(t){e.data("deferred","resolved"),e.before(t),this.toggle(e,s)}.bind(this)),e.data("deferred","requested"),e.trigger("requested.fndtn.dropdown",[o])));this.close.call(this,this.S("["+this.attr_name()+"-content]").not(n)),n.hasClass(this.settings.active_class)?(this.close.call(this,n,s),n.data("target")!==e.get(0)&&this.open.call(this,n,e,s)):this.open.call(this,n,e,s)}},resize:function(){var e=this.S("["+this.attr_name()+"-content].open"),n=t(e.data("target")),s=n.data(this.attr_name(!0)+"-init")||this.settings;s.autoalign&&e.length&&n.length&&this.css(e,n)},css:function(t,n){var s,o,i=Math.max((n.width()-t.width())/2,8),a=n.data(this.attr_name(!0)+"-init")||this.settings,r=t.parent().css("overflow-y")||t.parent().css("overflow");return this.clear_idx(),this.small()?(s=this.dirs.bottom.call(t,n,a),t.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:s.top}),t.css(e.rtl?"right":"left",i)):"visible"!==r?(o=n[0].offsetTop+n[0].offsetHeight,t.attr("style","").css({position:"absolute",top:o}),t.css(e.rtl?"right":"left",i)):this.style(t,n,a),t},style:function(e,s,n){var o=t.extend({position:"absolute"},this.dirs[n.align].call(e,s,n));e.attr("style","").css(o)},dirs:{_base:function(t){var n,s,o,a=this.offsetParent(),i=a.offset(),e=t.offset();return e.top-=i.top,e.left-=i.left,e.missRight=!1,e.missTop=!1,e.missLeft=!1,e.leftRightFlag=!1,s=document.getElementsByClassName("row")[0]?document.getElementsByClassName("row")[0].clientWidth:window.innerWidth,n=(window.innerWidth-s)/2,o=s,this.hasClass("mega")||(t.offset().top<=this.outerHeight()&&(e.missTop=!0,o=window.innerWidth-n,e.leftRightFlag=!0),t.offset().left+this.outerWidth()>t.offset().left+n&&t.offset().left-n>this.outerWidth()&&(e.missRight=!0,e.missLeft=!1),t.offset().left-this.outerWidth()<=0&&(e.missLeft=!0,e.missRight=!1)),e},top:function(n,o){var s=e.libs.dropdown,t=s.dirs._base.call(this,n);return this.addClass("drop-top"),t.missTop===!0&&(t.top=t.top+n.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),t.missRight===!0&&(t.left=t.left-this.outerWidth()+n.outerWidth()),(n.outerWidth()<this.outerWidth()||s.small()||this.hasClass(o.mega_menu))&&s.adjust_pip(this,n,o,t),e.rtl?{left:t.left-this.outerWidth()+n.outerWidth(),top:t.top-this.outerHeight()}:{left:t.left,top:t.top-this.outerHeight()}},bottom:function(n,o){var s=e.libs.dropdown,t=s.dirs._base.call(this,n);return t.missRight===!0&&(t.left=t.left-this.outerWidth()+n.outerWidth()),(n.outerWidth()<this.outerWidth()||s.small()||this.hasClass(o.mega_menu))&&s.adjust_pip(this,n,o,t),s.rtl?{left:t.left-this.outerWidth()+n.outerWidth(),top:t.top+n.outerHeight()}:{left:t.left,top:t.top+n.outerHeight()}},left:function(n){var t=e.libs.dropdown.dirs._base.call(this,n);return this.addClass("drop-left"),t.missLeft===!0&&(t.left=t.left+this.outerWidth(),t.top=t.top+n.outerHeight(),this.removeClass("drop-left")),{left:t.left-this.outerWidth(),top:t.top}},right:function(n,s){var t=e.libs.dropdown.dirs._base.call(this,n),o=e.libs.dropdown;return this.addClass("drop-right"),t.missRight===!0?(t.left=t.left-this.outerWidth(),t.top=t.top+n.outerHeight(),this.removeClass("drop-right")):t.triggeredRight=!0,(n.outerWidth()<this.outerWidth()||o.small()||this.hasClass(s.mega_menu))&&o.adjust_pip(this,n,s,t),{left:t.left+n.outerWidth(),top:t.top}}},adjust_pip:function(c,l,d,r){var s,o,i,a,t=e.stylesheet,n=8;r.missRight===!0?n=c.outerWidth()-23:c.hasClass(d.mega_class)?n=r.left+l.outerWidth()/2-8:this.small()&&(n+=r.left-8),this.rule_idx=t.cssRules.length,i=".f-dropdown.open:before",a=".f-dropdown.open:after",s="left: "+n+"px;",o="left: "+(n-1)+"px;",r.triggeredRight===!0&&(i=".f-dropdown.open:before",a=".f-dropdown.open:after",s="left:-12px;",o="left:-14px;"),t.insertRule?(t.insertRule([i,"{",s,"}"].join(" "),this.rule_idx),t.insertRule([a,"{",o,"}"].join(" "),this.rule_idx+1)):(t.addRule(i,s,this.rule_idx),t.addRule(a,o,this.rule_idx+1))},clear_idx:function(){var t=e.stylesheet;"undefined"!=typeof this.rule_idx&&(t.deleteRule(this.rule_idx),t.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return window.matchMedia(e.media_queries.small).matches&&!window.matchMedia(e.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(window).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}};e.libs.dropdown=s}),function(e,t){if("function"==typeof define&&define.amd)define("lib/foundation/foundation.interchange",["jquery","./foundation"],t);else if("object"==typeof exports){var n=require("jquery"),s=require("./foundation");module.exports=t(n,s)}else t(e.jQuery||e.$,e.Foundation)}(this,function(t,e){"use strict";e.libs.interchange={name:"interchange",version:"5.5.2",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{default:"only screen",small:e.media_queries.small,"small-only":e.media_queries["small-only"],medium:e.media_queries.medium,"medium-only":e.media_queries["medium-only"],large:e.media_queries.large,"large-only":e.media_queries["large-only"],xlarge:e.media_queries.xlarge,"xlarge-only":e.media_queries["xlarge-only"],xxlarge:e.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(e,n,s){if(null!==e&&/IMG/.test(e[0].nodeName)){if(o=e[0].src,new RegExp(n,"i").test(o))return;return e.attr("src",n),s(e[0].src)}var o,i=e.data(this.data_attr+"-last-path"),a=this;if(i!=n)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(n)?(t(e).css("background-image","url("+n+")"),e.data("interchange-last-path",n),s(n)):t.get(n,function(t){e.html(t),e.data(a.data_attr+"-last-path",n),s()})}}},init:function(o,n,s){e.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),t.extend(!0,this.settings,n,s),this.bindings(n,s),this.reflow()},get_media_hash:function(){var t,e="";for(t in this.settings.named_queries)e+=matchMedia(this.settings.named_queries[t]).matches.toString();return e},events:function(){var n,e=this;return t(window).off(".interchange").on("resize.fndtn.interchange",e.throttle(function(){var t=e.get_media_hash();t!==n&&e.resize(),n=t},50)),this},resize:function(){var e,s,n=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout(t.proxy(this.resize,this),50);for(s in n)n.hasOwnProperty(s)&&(e=this.results(s,n[s]),e&&this.settings.directives[e.scenario[1]].call(this,e.el,e.scenario[0],function(e){if(arguments[0]instanceof Array)var t=arguments[0];else t=Array.prototype.slice.call(arguments,0);return function(){e.el.trigger(e.scenario[1],t)}}(e)))},results:function(i,n){var t,s,o,e=n.length;if(e>0)for(s=this.S("["+this.add_namespace("data-uuid")+'="'+i+'"]');e--;)if(t=n[e][2],o=this.settings.named_queries.hasOwnProperty(t)?matchMedia(this.settings.named_queries[t]):matchMedia(t),o.matches)return{el:s,scenario:n[e]};return!1},load:function(e,t){return("undefined"==typeof this["cached_"+e]||t)&&this["update_"+e](),this["cached_"+e]},update_images:function(){var o,e=this.S("img["+this.data_attr+"]"),n=e.length,t=n,s=0,i=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===n;t--;)(s++,e[t])&&(o=e[t].getAttribute(i)||"",o.length>0&&this.cached_images.push(e[t])),s===n&&(this.images_loaded=!0,this.enhance("images"));return this},update_nodes:function(){var o,e=this.S("["+this.data_attr+"]").not("img"),t=e.length,n=t,s=0,i=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===t;n--;)s++,o=e[n].getAttribute(i)||"",o.length>0&&this.cached_nodes.push(e[n]),s===t&&(this.nodes_loaded=!0,this.enhance("nodes"));return this},enhance:function(e){for(var n=this["cached_"+e].length;n--;)this.object(t(this["cached_"+e][n]));return t(window).trigger("resize.fndtn.interchange")},convert_directive:function(t){var e=this.trim(t);return e.length>0?e:"replace"},parse_scenario:function(t){if(e=t[0].match(/(.+),\s*(\w+)\s*$/),n=t[1].match(/(.*)\)/),e)s=e[1],o=e[2];else var e,n,i=t[0].split(/,\s*$/),s=i[0],o="";return[this.trim(s),this.convert_directive(o),this.trim(n[1])]},object:function(n){var t,i,s=this.parse_data_attr(n),o=[],e=s.length;if(e>0)for(;e--;)t=s[e].split(/,\s?\(/),t.length>1&&(i=this.parse_scenario(t),o.push(i));return this.store(n,o)},store:function(e,s){var t=this.random_str(),n=e.data(this.add_namespace("uuid",!0));return this.cache[n]?this.cache[n]:(e.attr(this.add_namespace("data-uuid"),t),this.cache[t]=s)},trim:function(e){return"string"==typeof e?t.trim(e):e},set_data_attr:function(e){return e?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(s){for(var e=s.attr(this.attr_name()).split(/\[(.*?)\]/),t=e.length,n=[];t--;)e[t].replace(/[\W\d]+/,"").length>4&&n.push(e[t]);return n},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}),function(e,t){if("function"==typeof define&&define.amd)define("lib/foundation/foundation.reveal",["jquery","./foundation"],t);else if("object"==typeof exports){var n=require("jquery"),s=require("./foundation");module.exports=t(n,s)}else t(e.jQuery||e.$,e.Foundation)}(this,function(e,n){"use strict";function t(e){var t=/fade/i.test(e),n=/pop/i.test(e);return{animate:t||n,pop:n,fade:t}}n.libs.reveal={name:"reveal",version:"5.5.2",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",multiple_opened:!1,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:e.noop,bg:e(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(s,t,n){e.extend(!0,this.settings,t,n),this.bindings(t,n)},events:function(){var e=this,t=e.S;return t(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(i){if(i.preventDefault(),!e.locked){var o,n=t(this),s=n.data(e.data_attr("reveal-ajax")),a=n.data(e.data_attr("reveal-replace-content"));e.locked=!0,"undefined"==typeof s?e.open.call(e,n):(o=s===!0?n.attr("href"):s,e.open.call(e,n,{url:o},{replaceContentSel:a}))}}),t(document).on("click.fndtn.reveal",this.close_targets(),function(n){if(n.preventDefault(),!e.locked){var s=t("["+e.attr_name()+"].open").data(e.attr_name(!0)+"-init")||e.settings,o=t(n.target)[0]===t("."+s.bg_class)[0];if(o){if(!s.close_on_background_click)return;n.stopPropagation()}e.locked=!0,e.close.call(e,o?t("["+e.attr_name()+"].open:not(.toback)"):t(this).closest("["+e.attr_name()+"]"))}}),t("["+e.attr_name()+"]",this.scope).length>0?t(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):t(this.scope).on("open.fndtn.reveal","["+e.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+e.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.close_video),!0},key_up_on:function(){var e=this;return e.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(s){var t=e.S("["+e.attr_name()+"].open"),n=t.data(e.attr_name(!0)+"-init")||e.settings;n&&27===s.which&&n.close_on_esc&&!e.locked&&e.close.call(e,t)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(a,s){var t,o,i,r,n=this;if(a?"undefined"!=typeof a.selector?t=n.S("#"+a.data(n.data_attr("reveal-id"))).first():(t=n.S(this.scope),s=a):t=n.S(this.scope),o=t.data(n.attr_name(!0)+"-init"),o=o||this.settings,t.hasClass("open")&&a.attr("data-reveal-id")==t.attr("id"))return n.close(t);t.hasClass("open")||(i=n.S("["+n.attr_name()+"].open"),"undefined"==typeof t.data("css-top")&&t.data("css-top",parseInt(t.css("top"),10)).data("offset",this.cache_offset(t)),t.attr("tabindex","0").attr("aria-hidden","false"),this.key_up_on(t),t.on("open.fndtn.reveal",function(e){"fndtn.reveal"!==e.namespace}),t.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),i.length<1&&this.toggle_bg(t,!0),"string"==typeof s&&(s={url:s}),"undefined"!=typeof s&&s.url?(r="undefined"!=typeof s.success?s.success:null,e.extend(s,{success:function(s,c,l){if(e.isFunction(r)){var a=r(s,c,l);"string"==typeof a&&(s=a)}"undefined"!=typeof options&&"undefined"!=typeof options.replaceContentSel?t.find(options.replaceContentSel).html(s):t.html(s),n.S(t).foundation("section","reflow"),n.S(t).children().foundation(),i.length>0&&(o.multiple_opened?n.to_back(i):n.hide(i,o.css.close)),n.show(t,o.css.open)}}),o.on_ajax_error!==e.noop&&e.extend(s,{error:o.on_ajax_error}),e.ajax(s)):(i.length>0&&(o.multiple_opened?n.to_back(i):n.hide(i,o.css.close)),this.show(t,o.css.open))),n.S(window).trigger("resize")},close:function(t){var t=t&&t.length?t:this.S(this.scope),o=this.S("["+this.attr_name()+"].open"),n=t.data(this.attr_name(!0)+"-init")||this.settings,s=this;o.length>0&&(t.removeAttr("tabindex","0").attr("aria-hidden","true"),this.locked=!0,this.key_up_off(t),t.trigger("close.fndtn.reveal"),(n.multiple_opened&&1===o.length||!n.multiple_opened||t.length>1)&&(s.toggle_bg(t,!1),s.to_front(t)),n.multiple_opened?(s.hide(t,n.css.close,n),s.to_front(e(e.makeArray(o).reverse()[1]))):s.hide(o,n.css.close,n))},close_targets:function(){var e="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?e+", ."+this.settings.bg_class:e},toggle_bg:function(s,t){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=e("<div />",{class:this.settings.bg_class}).appendTo("body").hide());var n=this.settings.bg.filter(":visible").length>0;t!=n&&((void 0==t?n:!t)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(n,o){if(o){var i,a,l,s=n.data(this.attr_name(!0)+"-init")||this.settings,r=s.root_element,c=this;return 0===n.parent(r).length&&(l=n.wrap('<div style="display: none;" />').parent(),n.on("closed.fndtn.reveal.wrapped",function(){n.detach().appendTo(l),n.unwrap().unbind("closed.fndtn.reveal.wrapped")}),n.detach().appendTo(r)),i=t(s.animation),i.animate||(this.locked=!1),i.pop?(o.top=e(window).scrollTop()-n.data("offset")+"px",a={top:e(window).scrollTop()+n.data("css-top")+"px",opacity:1},setTimeout(function(){return n.css(o).animate(a,s.animation_speed,"linear",function(){c.locked=!1,n.trigger("opened.fndtn.reveal")}).addClass("open")},s.animation_speed/2)):i.fade?(o.top=e(window).scrollTop()+n.data("css-top")+"px",a={opacity:1},setTimeout(function(){return n.css(o).animate(a,s.animation_speed,"linear",function(){c.locked=!1,n.trigger("opened.fndtn.reveal")}).addClass("open")},s.animation_speed/2)):n.css(o).show().css({opacity:1}).addClass("open").trigger("opened.fndtn.reveal")}return s=this.settings,t(s.animation).fade?n.fadeIn(s.animation_speed/2):(this.locked=!1,n.show())},to_back:function(e){e.addClass("toback")},to_front:function(e){e.removeClass("toback")},hide:function(s,o){if(o){var i,n=s.data(this.attr_name(!0)+"-init"),r=this,n=n||this.settings,a=t(n.animation);return a.animate||(this.locked=!1),a.pop?(i={top:-e(window).scrollTop()-s.data("offset")+"px",opacity:0},setTimeout(function(){return s.animate(i,n.animation_speed,"linear",function(){r.locked=!1,s.css(o).trigger("closed.fndtn.reveal")}).removeClass("open")},n.animation_speed/2)):a.fade?(i={opacity:0},setTimeout(function(){return s.animate(i,n.animation_speed,"linear",function(){r.locked=!1,s.css(o).trigger("closed.fndtn.reveal")}).removeClass("open")},n.animation_speed/2)):s.hide().css(o).removeClass("open").trigger("closed.fndtn.reveal")}return n=this.settings,t(n.animation).fade?s.fadeOut(n.animation_speed/2):s.hide()},close_video:function(s){var n=e(".flex-video",s.target),t=e("iframe",n);t.length>0&&(t.attr("data-src",t[0].src),t.attr("src",t.attr("src")),n.hide())},open_video:function(i){var s,o,n=e(".flex-video",i.target),t=n.find("iframe");t.length>0&&(s=t.attr("data-src"),"string"==typeof s?t[0].src=t.attr("data-src"):(o=t[0].src,t[0].src=void 0,t[0].src=o),n.show())},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},cache_offset:function(e){var t=e.show().height()+parseInt(e.css("top"),10)+e.scrollY;return e.hide(),t},off:function(){e(this.scope).off(".fndtn.reveal")},reflow:function(){}}}),define("module/foundation/Foundation5",["jquery","singleton/VideoUtils","lib/foundation/foundation","gawkerlib/foundation.kinja.dropdown","lib/foundation/foundation.interchange","lib/foundation/foundation.reveal"],function(e,s,t){"use strict";var n=t.libs.reveal;n.open_video=e.noop,n.close_video=e.noop,s.hideVideosOnModalOpen(),t.set_namespace=e.noop,e(document).foundation(),e(document.body).on("opened.fndtn.dropdown",".f-dropdown",function(){e(this).find("img[data-src]").each(function(){var t=e(this);t.attr("src",t.data("src")).removeData("src")})})}),define("lib/polyfills/json-null-old-android",[],function(){"use strict";window.navigator.userAgent.match(/Android [12]/)&&(JSON.originalParse=JSON.parse,JSON.parse=function(e){return e?JSON.originalParse(e):null})}),function(){"use strict";define("module/Main",["jquery","singleton/Feature","singleton/RavenConfig","singleton/Trackers","singleton/DeviceController","singleton/PerfTracker","module/ads/ads.controller","app/MarionetteApp","singleton/CurrentUser","singleton/CurrentBlog","lib/kriteo","module/foundation/Foundation5","lib/polyfills/json-null-old-android"],function(n,e,s,t,o,i,a,r){function c(){s.init(),e.isOn("no3rdparty")?t.loadDummy():(t.load(),o.setDevice(),a.startAds()),r.start(),e.isOn("frontendtiming")&&window.setTimeout(function(){i.start()},0)}return n.ajaxSetup({cache:!0}),{start:c}})}()