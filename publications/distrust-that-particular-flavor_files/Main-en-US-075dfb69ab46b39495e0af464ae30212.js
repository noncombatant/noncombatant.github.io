if("undefined"==typeof tiger)var tiger={};"undefined"==typeof tiger.components&&(tiger.components={}),"undefined"==typeof tiger.components.ad&&(tiger.components.ad={}),"undefined"==typeof tiger.components.forms&&(tiger.components.forms={}),"undefined"==typeof tiger.components.forms.modals&&(tiger.components.forms.modals={}),"undefined"==typeof tiger.components.forms.modals.headers&&(tiger.components.forms.modals.headers={}),"undefined"==typeof tiger.components.forms.modals.modal&&(tiger.components.forms.modals.modal={}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function q(e){var t=e.length,s=n.type(e);return"function"!==s&&!n.isWindow(e)&&(!!(1===e.nodeType&&t)||"array"===s||0===t||"number"==typeof t&&t>0&&t-1 in e)}function W(e,t,s){if(n.isFunction(t))return n.grep(e,function(e,n){return!!t.call(e,n,e)!==s});if(t.nodeType)return n.grep(e,function(e){return e===t!==s});if("string"==typeof t){if(jt.test(t))return n.filter(t,e,s);t=n.filter(t,e)}return n.grep(e,function(e){return I.call(t,e)>=0!==s})}function Pe(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function Rt(e){var t=te[e]={};return n.each(e.match(d)||[],function(e,n){t[n]=!0}),t}function V(){o.removeEventListener("DOMContentLoaded",V,!1),e.removeEventListener("load",V,!1),n.ready()}function f(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}function Ce(e,t,s){var o;if(0[0]===s&&1===e.nodeType)if(o="data-"+t.replace(ht,"-$1").toLowerCase(),s=e.getAttribute(o),"string"==typeof s){try{s="true"===s||"false"!==s&&("null"===s?null:+s+""===s?+s:ft.test(s)?n.parseJSON(s):s)}catch{}a.set(e,t,s)}else s=0[0];return s}function L(){return!0}function j(){return!1}function ye(){try{return o.activeElement}catch{}}function be(e,t){return n.nodeName(e,"table")&&n.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Lt(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Nt(e){var t=at.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function se(e,t){for(var n=0,o=e.length;o>n;n++)s.set(e[n],"globalEval",!t||s.get(t[n],"globalEval"))}function ce(e,t){var o,i,r,c,l,d,u,h;if(1===t.nodeType){if(s.hasData(e)&&(c=s.access(e),l=s.set(t,c),r=c.events)){delete l.handle,l.events={};for(i in r)for(o=0,d=r[i].length;d>o;o++)n.event.add(t,i,r[i][o])}a.hasData(e)&&(u=a.access(e),h=n.extend({},u),a.set(t,h))}}function r(e,t){var s=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return 0[0]===t||t&&n.nodeName(e,t)?n.merge([e],s):s}function Dt(e,t){var n=t.nodeName.toLowerCase();"input"===n&&xe.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function _e(t,s){var i,o=n(s.createElement(t)).appendTo(s.body),a=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(o[0]))?i.display:n.css(o[0],"display");return o.detach(),a}function X(e){var s=o,t=Ie[e];return t||(t=_e(e,s),"none"!==t&&t||(F=(F||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(s.documentElement),s=F[0].contentDocument,s.write(),s.close(),t=_e(e,s),F.detach()),Ie[e]=t),t}function C(e,t,s){var o,a,r,c,i=e.style;return s=s||B(e),s&&(o=s.getPropertyValue(t)||s[t]),s&&(""!==o||n.contains(e.ownerDocument,e)||(o=n.style(e,t)),ee.test(o)&&Be.test(t)&&(a=i.width,r=i.minWidth,c=i.maxWidth,i.minWidth=i.maxWidth=i.width=o,o=s.width,i.width=a,i.minWidth=r,i.maxWidth=c)),0[0]!==o?o+"":o}function Oe(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function $e(e,t){if(t in e)return t;for(var s=t[0].toUpperCase()+t.slice(1),o=t,n=Ge.length;n--;)if(t=Ge[n]+s,t in e)return t;return o}function de(e,t,n){var s=nt.exec(t);return s?Math.max(0,s[1]-(n||0))+(s[2]||"px"):t}function Xe(e,t,s,o,i){for(var a=s===(o?"border":"content")?4:"width"===t?1:0,r=0;4>a;a+=2)"margin"===s&&(r+=n.css(e,s+v[a],!0,i)),o?("content"===s&&(r-=n.css(e,"padding"+v[a],!0,i)),"margin"!==s&&(r-=n.css(e,"border"+v[a]+"Width",!0,i))):(r+=n.css(e,"padding"+v[a],!0,i),"padding"!==s&&(r+=n.css(e,"border"+v[a]+"Width",!0,i)));return r}function Ke(e,t,s){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,a=B(e),c="border-box"===n.css(e,"boxSizing",!1,a);if(0>=o||o==null){if(o=C(e,t,a),(0>o||o==null)&&(o=e.style[t]),ee.test(o))return o;r=c&&(i.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+Xe(e,t,s||(c?"border":"content"),r,a)+"px"}function Ue(e,t){for(var o,a,c,r=[],i=0,l=e.length;l>i;i++)o=e[i],o.style&&(r[i]=s.get(o,"olddisplay"),a=o.style.display,t?(r[i]||"none"!==a||(o.style.display=""),""===o.style.display&&O(o)&&(r[i]=s.access(o,"olddisplay",X(o.nodeName)))):(c=O(o),"none"===a&&c||s.set(o,"olddisplay",c?a:n.css(o,"display"))));for(i=0;l>i;i++)o=e[i],o.style&&(t&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=t?r[i]||"":"none"));return e}function c(e,t,n,s,o){return new c.prototype.init(e,t,n,s,o)}function Ve(){return setTimeout(function(){_=0[0]}),_=n.now()}function M(e,t){var s,o=0,n={height:e};for(t=t?1:0;4>o;o+=2-t)s=v[o],n["margin"+s]=n["padding"+s]=e;return t&&(n.opacity=n.width=e),n}function He(e,t,n){for(var o,i=(x[t]||[]).concat(x["*"]),s=0,a=i.length;a>s;s++)if(o=i[s].call(n,t,e))return o}function zt(e,t,o){var i,r,d,h,f,p,g,v,u=this,m={},c=e.style,l=e.nodeType&&O(e),a=s.get(e,"fxshow");o.queue||(r=n._queueHooks(e,"fx"),null==r.unqueued&&(r.unqueued=0,v=r.empty.fire,r.empty.fire=function(){r.unqueued||v()}),r.unqueued++,u.always(function(){u.always(function(){r.unqueued--,n.queue(e,"fx").length||r.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(o.overflow=[c.overflow,c.overflowX,c.overflowY],d=n.css(e,"display"),g="none"===d?s.get(e,"olddisplay")||X(e.nodeName):d,"inline"===g&&"none"===n.css(e,"float")&&(c.display="inline-block")),o.overflow&&(c.overflow="hidden",u.always(function(){c.overflow=o.overflow[0],c.overflowX=o.overflow[1],c.overflowY=o.overflow[2]}));for(i in t)if(f=t[i],Ze.exec(f)){if(delete t[i],p=p||"toggle"===f,f===(l?"hide":"show")){if("show"!==f||!a||0[0]===a[i])continue;l=!0}m[i]=a&&a[i]||n.style(e,i)}else d=0[0];if(n.isEmptyObject(m))"inline"===("none"===d?X(e.nodeName):d)&&(c.display=d);else{a?"hidden"in a&&(l=a.hidden):a=s.access(e,"fxshow",{}),p&&(a.hidden=!l),l?n(e).show():u.done(function(){n(e).hide()}),u.done(function(){var t;s.remove(e,"fxshow");for(t in m)n.style(e,t,m[t])});for(i in m)h=He(l?a[i]:0,i,u),i in a||(a[i]=h.start,l&&(h.end=h.start,h.start="width"===i||"height"===i?1:0))}}function Tt(e,t){var s,o,i,a,r;for(s in e)if(i=n.camelCase(s),a=t[i],o=e[s],n.isArray(o)&&(a=o[1],o=e[s]=o[0]),s!==i&&(e[i]=o,delete e[s]),r=n.cssHooks[i],r&&"expand"in r){o=r.expand(o),delete e[i];for(s in o)s in e||(e[s]=o[s],t[s]=a)}else t[i]=a}function De(e,t,s){var a,l,r=0,u=H.length,i=n.Deferred().always(function(){delete d.elem}),d=function(){if(a)return!1;for(var c=_||Ve(),t=Math.max(0,o.startTime+o.duration-c),l=t/o.duration||0,n=1-l,s=0,r=o.tweens.length;r>s;s++)o.tweens[s].run(n);return i.notifyWith(e,[o,n,t]),1>n&&r?t:(i.resolveWith(e,[o]),!1)},o=i.promise({elem:e,props:n.extend({},t),opts:n.extend(!0,{specialEasing:{}},s),originalProperties:t,originalOptions:s,startTime:_||Ve(),duration:s.duration,tweens:[],createTween:function(t,s){var i=n.Tween(e,o.opts,t,s,o.opts.specialEasing[t]||o.opts.easing);return o.tweens.push(i),i},stop:function(t){var n=0,s=t?o.tweens.length:0;if(a)return this;for(a=!0;s>n;n++)o.tweens[n].run(1);return t?i.resolveWith(e,[o,t]):i.rejectWith(e,[o,t]),this}}),c=o.props;for(Tt(c,o.opts.specialEasing);u>r;r++)if(l=H[r].call(o,e,c,o.opts))return l;return n.map(c,He,o),n.isFunction(o.opts.start)&&o.opts.start.call(e,o),n.fx.timer(n.extend(d,{elem:e,anim:o,queue:o.opts.queue})),o.progress(o.opts.progress).done(o.opts.done,o.opts.complete).fail(o.opts.fail).always(o.opts.always)}function Te(e){return function(t,s){"string"!=typeof t&&(s=t,t="*");var o,i=0,a=t.toLowerCase().match(d)||[];if(n.isFunction(s))for(;o=a[i++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(s)):(e[o]=e[o]||[]).push(s)}}function ie(e,t,s,o){function i(c){var l;return a[c]=!0,n.each(e[c]||[],function(e,n){var c=n(t,s,o);return"string"!=typeof c||r||a[c]?r?!(l=c):0[0]:(t.dataTypes.unshift(c),i(c),!1)}),l}var a={},r=e===ne;return i(t.dataTypes[0])||!a["*"]&&i("*")}function Y(e,t){var s,o,i=n.ajaxSettings.flatOptions||{};for(s in t)0[0]!==t[s]&&((i[s]?e:o||(o={}))[s]=t[s]);return o&&n.extend(!0,e,o),e}function Qe(e,t,n){for(var o,i,a,r,c=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),0[0]===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(o in c)if(c[o]&&c[o].test(a)){s.unshift(o);break}if(s[0]in n)i=s[0];else{for(o in n){if(!s[0]||e.converters[o+" "+s[0]]){i=o;break}r||(r=o)}i=i||r}return i?(i!==s[0]&&s.unshift(i),n[i]):0[0]}function Ft(e,t,n,s){var o,i,a,c,l,r={},d=e.dataTypes.slice();if(d[1])for(i in e.converters)r[i.toLowerCase()]=e.converters[i];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!a&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=o,o=d.shift())if("*"===o)o=a;else if("*"!==a&&a!==o){if(i=r[a+" "+o]||r["* "+o],!i)for(l in r)if(c=l.split(" "),c[1]===o&&(i=r[a+" "+c[0]]||r["* "+c[0]])){i===!0?i=r[l]:r[l]!==!0&&(o=c[0],d.unshift(c[1]));break}if(i!==!0)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+a+" to "+o}}}return{state:"success",data:t}}function K(e,t,s,o){var i;if(n.isArray(t))n.each(t,function(t,n){s||xt.test(e)?o(e,n):K(e+"["+("object"==typeof n?t:"")+"]",n,s,o)});else if(s||"object"!==n.type(t))o(e,t);else for(i in t)K(e+"["+i+"]",t[i],s,o)}function Ee(e){return n.isWindow(e)?e:9===e.nodeType&&e.defaultView}var g,R,le,oe,ue,he,d,te,u,b,S,st,We,y,Le,D,ze,A,T,N,Q,Z,J,ve,Re,w=[],m=w.slice,we=w.concat,U=w.push,I=w.indexOf,P={},St=P.toString,G=P.hasOwnProperty,i={},o=e.document,ge="2.1.1",n=function(e,t){return new n.fn.init(e,t)},Ct=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,wt=/^-ms-/,_t=/-([\da-z])/gi,yt=function(e,t){return t.toUpperCase()};n.fn=n.prototype={jquery:ge,constructor:n,selector:"",length:0,toArray:function(){return m.call(this)},get:function(e){return e!=null?0>e?this[e+this.length]:this[e]:m.call(this)},pushStack:function(e){var t=n.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return n.each(this,e,t)},map:function(e){return this.pushStack(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(m.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var n=this.length,t=+e+(0>e?n:0);return this.pushStack(t>=0&&n>t?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:w.sort,splice:w.splice},n.extend=n.fn.extend=function(){var t,s,i,a,r,c,e=arguments[0]||{},o=1,d=arguments.length,l=!1;for("boolean"==typeof e&&(l=e,e=arguments[o]||{},o++),"object"==typeof e||n.isFunction(e)||(e={}),o===d&&(e=this,o--);d>o;o++)if(null!=(a=arguments[o]))for(i in a)s=e[i],t=a[i],e!==t&&(l&&t&&(n.isPlainObject(t)||(r=n.isArray(t)))?(r?(r=!1,c=s&&n.isArray(s)?s:[]):c=s&&n.isPlainObject(s)?s:{},e[i]=n.extend(l,c,t)):0[0]!==t&&(e[i]=t));return e},n.extend({expando:"jQuery"+(ge+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===n.type(e)},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){return!n.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return!("object"!==n.type(e)||e.nodeType||n.isWindow(e))&&(!e.constructor||!!G.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return e==null?e+"":"object"==typeof e||"function"==typeof e?P[St.call(e)]||"object":typeof e},globalEval:function(e){var t,s=eval;e=n.trim(e),e&&(1===e.indexOf("use strict")?(t=o.createElement("script"),t.text=e,o.head.appendChild(t).parentNode.removeChild(t)):s(e))},camelCase:function(e){return e.replace(wt,"ms-").replace(_t,yt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o,s=0,i=e.length,a=q(e);if(n){if(a)for(;i>s&&(o=t.apply(e[s],n),o!==!1);s++);else for(s in e)if(o=t.apply(e[s],n),o===!1)break}else if(a)for(;i>s&&(o=t.call(e[s],s,e[s]),o!==!1);s++);else for(s in e)if(o=t.call(e[s],s,e[s]),o===!1)break;return e},trim:function(e){return e==null?"":(e+"").replace(Ct,"")},makeArray:function(e,t){var s=t||[];return e!=null&&(q(Object(e))?n.merge(s,"string"==typeof e?[e]:e):U.call(s,e)),s},inArray:function(e,t,n){return t==null?-1:I.call(t,e,n)},merge:function(e,t){for(var o=+t.length,n=0,s=e.length;o>n;n++)e[s++]=t[n];return e.length=s,e},grep:function(e,t,n){for(var o,i=[],s=0,a=e.length,r=!n;a>s;s++)o=!t(e[s],s),o!==r&&i.push(e[s]);return i},map:function(e,t,n){var o,s=0,a=e.length,r=q(e),i=[];if(r)for(;a>s;s++)o=t(e[s],s,n),o!=null&&i.push(o);else for(s in e)o=t(e[s],s,n),o!=null&&i.push(o);return we.apply([],i)},guid:1,proxy:function(e,t){var s,o,i;return"string"==typeof t&&(o=e[t],t=e,e=o),n.isFunction(e)?(i=m.call(arguments,2),s=function(){return e.apply(t||this,i.concat(m.call(arguments)))},s.guid=e.guid=e.guid||n.guid++,s):0[0]},now:Date.now,support:i}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){P["[object "+t+"]"]=t.toLowerCase()}),g=function(e){function s(e,t,n,s){var l,d,u,m,f,p,b,j,y,_;if((t?t.ownerDocument||t:c)!==a&&v(t),t=t||a,n=n||[],!e||"string"!=typeof e)return n;if(1!==(m=t.nodeType)&&9!==m)return[];if(h&&!s){if(p=be.exec(e))if(d=p[1]){if(9===m){{if(l=t.getElementById(d),!l||!l.parentNode)return n;if(l.id===d)return n.push(l),n}}else if(t.ownerDocument&&(l=t.ownerDocument.getElementById(d))&&S(t,l)&&l.id===d)return n.push(l),n}else{if(p[2])return g.apply(n,t.getElementsByTagName(e)),n;if((d=p[3])&&o.getElementsByClassName&&t.getElementsByClassName)return g.apply(n,t.getElementsByClassName(d)),n}if(o.qsa&&(!r||!r.test(e))){if(u=j=i,_=t,y=9===m&&e,1===m&&"object"!==t.nodeName.toLowerCase()){for(f=k(e),(j=t.getAttribute("id"))?u=j.replace(ye,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",b=f.length;b--;)f[b]=u+L(f[b]);_=V.test(e)&&P(t.parentNode)||t,y=f.join(",")}if(y)try{return g.apply(n,_.querySelectorAll(y)),n}catch{}finally{j||t.removeAttribute("id")}}}return J(e.replace(M,"$1"),t,n,s)}function U(){function e(s,o){return n.push(s+" ")>t.cacheLength&&delete e[n.shift()],e[s+" "]=o}var n=[];return e}function l(e){return e[i]=!0,e}function d(e){var t=a.createElement("div");try{return!!e(t)}catch{return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function I(e,n){for(var o=e.split("|"),s=e.length;s--;)t.attrHandle[o[s]]=n}function se(e,t){var n=t&&e,s=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(s)return s;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function re(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ce(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function _(e){return l(function(t){return t=+t,l(function(n,s){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(s[o]=n[o]))})})}function P(e){return e&&typeof e.getElementsByTagName!==x&&e}function oe(){}function L(e){for(var t=0,s=e.length,n="";s>t;t++)n+=e[t].value;return n}function H(e,t,n){var s=t.dir,o=n&&"parentNode"===s,a=je++;return t.first?function(t,n,i){for(;t=t[s];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,r){var c,l,d=[u,a];if(r){for(;t=t[s];)if((1===t.nodeType||o)&&e(t,n,r))return!0}else for(;t=t[s];)if(1===t.nodeType||o){if(l=t[i]||(t[i]={}),(c=l[s])&&c[0]===u&&c[1]===a)return d[2]=c[2];if(l[s]=d,d[2]=e(t,n,r))return!0}}}function Y(e){return e.length>1?function(t,n,s){for(var o=e.length;o--;)if(!e[o](t,n,s))return!1;return!0}:e[0]}function _e(e,t,n){for(var o=0,i=t.length;i>o;o++)s(e,t[o],n);return n}function N(e,t,n,s,o){for(var a,r=[],i=0,c=e.length,l=t!=null;c>i;i++)(a=e[i])&&(!n||n(a,s,o))&&(r.push(a),l&&t.push(i));return r}function R(e,t,n,s,o,a){return s&&!s[i]&&(s=R(s)),o&&!o[i]&&(o=R(o,a)),l(function(i,a,r,c){var d,u,h,p=[],f=[],v=a.length,b=i||_e(t||"*",r.nodeType?[r]:r,[]),m=!e||!i&&t?b:N(b,p,e,r,c),l=n?o||(i?e:v||s)?[]:a:m;if(n&&n(m,l,r,c),s)for(u=N(l,f),s(u,[],r,c),d=u.length;d--;)(h=u[d])&&(l[f[d]]=!(m[f[d]]=h));if(i){if(o||e){if(o){for(u=[],d=l.length;d--;)(h=l[d])&&u.push(m[d]=h);o(null,l=[],u,c)}for(d=l.length;d--;)(h=l[d])&&(u=o?w.call(i,h):p[d])>-1&&(i[u]=!(a[u]=h))}}else l=N(l===a?l.splice(v,l.length):l),o?o(null,a,l,c):g.apply(a,l)})}function q(e){for(var s,o,c,r=e.length,l=t.relative[e[0].type],d=l||t.relative[" "],n=l?1:0,u=H(function(e){return e===c},d,!0),h=H(function(e){return w.call(c,e)>-1},d,!0),a=[function(e,t,n){return!l&&(n||t!==F)||((c=t).nodeType?u(e,t,n):h(e,t,n))}];r>n;n++)if(o=t.relative[e[n].type])a=[H(Y(a),o)];else{if(o=t.filter[e[n].type].apply(null,e[n].matches),o[i]){for(s=++n;r>s&&!t.relative[e[s].type];s++);return R(n>1&&Y(a),n>1&&L(e.slice(0,n-1).concat({value:" "===e[n-2].type?"*":""})).replace(M,"$1"),o,s>n&&q(e.slice(n,s)),r>s&&q(e=e.slice(s)),r>s&&L(e))}a.push(o)}return Y(a)}function we(e,n){var o=n.length>0,i=e.length>0,r=function(r,c,l,d,h){var f,v,j,b=0,m="0",y=r&&[],p=[],_=F,w=r||i&&t.find.TAG("*",h),O=u+=_==null?1:Math.random()||.1,x=w.length;for(h&&(F=c!==a&&c);m!==x&&null!=(f=w[m]);m++){if(i&&f){for(j=0;v=e[j++];)if(v(f,c,l)){d.push(f);break}h&&(u=O)}o&&((f=!v&&f)&&b--,r&&y.push(f))}if(b+=m,o&&m!==b){for(j=0;v=n[j++];)v(y,p,c,l);if(r){if(b>0)for(;m--;)y[m]||p[m]||(p[m]=ve.call(d));p=N(p)}g.apply(d,p),h&&!r&&p.length>0&&b+n.length>1&&s.uniqueSort(d)}return h&&(u=O,F=_),y};return o?l(r):r}var t,o,a,r,h,m,f,v,y,O,C,k,S,F,T,D,B,X,J,i="sizzle"+-new Date,c=e.document,u=0,je=0,ne=U(),te=U(),Z=U(),K=function(e,t){return e===t&&(C=!0),0},x="undefined",G=1<<31,ae={}.hasOwnProperty,p=[],ve=p.pop,fe=p.push,g=p.push,ee=p.slice,w=p.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},$="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",n=`[\\x20\\t\\r\\n\\f]`,E="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=E.replace("w","w#"),Q="\\["+n+"*("+E+")(?:"+n+"*([*^$|!~]?=)"+n+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ie+"))|)"+n+"*\\]",W=":("+E+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Q+")*)|.*)\\)|)",M=new RegExp("^"+n+"+|((?:^|[^\\\\])(?:\\\\.)*)"+n+"+$","g"),le=new RegExp("^"+n+"*,"+n+"*"),de=new RegExp("^"+n+"*([>+~]|"+n+")"+n+"*"),ue=new RegExp("="+n+`*([^\\]'"]*?)`+n+"*\\]","g"),he=new RegExp(W),me=new RegExp("^"+ie+"$"),z={ID:new RegExp("^#("+E+")"),CLASS:new RegExp("^\\.("+E+")"),TAG:new RegExp("^("+E.replace("w","w*")+")"),ATTR:new RegExp("^"+Q),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+n+"*(even|odd|(([+-]|)(\\d*)n|)"+n+"*(?:([+-]|)"+n+"*(\\d+)|))"+n+"*\\)|)","i"),bool:new RegExp("^(?:"+$+")$","i"),needsContext:new RegExp("^"+n+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+n+"*((?:-\\d)?\\d*)"+n+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,A=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,V=/[+~]/,ye=/'|\\/g,b=new RegExp("\\\\([\\da-f]{1,6}"+n+"?|("+n+")|.)","ig"),j=function(e,t,n){var s="0x"+t-65536;return s!==s||n?t:0>s?String.fromCharCode(s+65536):String.fromCharCode(s>>10|55296,1023&s|56320)};try{g.apply(p=ee.call(c.childNodes),c.childNodes),p[c.childNodes.length].nodeType}catch{g={apply:p.length?function(e,t){fe.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,s=0;e[n++]=t[s++];);e.length=n-1}}}o=s.support={},X=s.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},v=s.setDocument=function(e){var u,s=e?e.ownerDocument||e:c,l=s.defaultView;return s!==a&&9===s.nodeType&&s.documentElement?(a=s,m=s.documentElement,h=!X(s),l&&l!==l.top&&(l.addEventListener?l.addEventListener("unload",function(){v()},!1):l.attachEvent&&l.attachEvent("onunload",function(){v()})),o.attributes=d(function(e){return e.className="i",!e.getAttribute("className")}),o.getElementsByTagName=d(function(e){return e.appendChild(s.createComment("")),!e.getElementsByTagName("*").length}),o.getElementsByClassName=A.test(s.getElementsByClassName)&&d(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),o.getById=d(function(e){return m.appendChild(e).id=i,!s.getElementsByName||!s.getElementsByName(i).length}),o.getById?(t.find.ID=function(e,t){if(typeof t.getElementById!==x&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},t.filter.ID=function(e){var t=e.replace(b,j);return function(e){return e.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(e){var t=e.replace(b,j);return function(e){var n=typeof e.getAttributeNode!==x&&e.getAttributeNode("id");return n&&n.value===t}}),t.find.TAG=o.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==x?t.getElementsByTagName(e):0[0]}:function(e,t){var n,s=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&s.push(n);return s}return o},t.find.CLASS=o.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==x&&h?t.getElementsByClassName(e):0[0]},y=[],r=[],(o.qsa=A.test(s.querySelectorAll))&&(d(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&r.push("[*^$]="+n+`*(?:''|"")`),e.querySelectorAll("[selected]").length||r.push("\\["+n+"*(?:value|"+$+")"),e.querySelectorAll(":checked").length||r.push(":checked")}),d(function(e){var t=s.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&r.push("name"+n+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||r.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),r.push(",.*:")})),(o.matchesSelector=A.test(D=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&d(function(e){o.disconnectedMatch=D.call(e,"div"),D.call(e,"[s!='']:x"),y.push("!=",W)}),r=r.length&&new RegExp(r.join("|")),y=y.length&&new RegExp(y.join("|")),u=A.test(m.compareDocumentPosition),S=u||A.test(m.contains)?function(e,t){var s=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(s.contains?s.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=u?function(e,t){if(e===t)return C=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!o.sortDetached&&t.compareDocumentPosition(e)===n?e===s||e.ownerDocument===c&&S(c,e)?-1:t===s||t.ownerDocument===c&&S(c,t)?1:f?w.call(f,e)-w.call(f,t):0:4&n?-1:1)}:function(e,t){if(e===t)return C=!0,0;var n,o=0,r=e.parentNode,l=t.parentNode,i=[e],a=[t];if(!r||!l)return e===s?-1:t===s?1:r?-1:l?1:f?w.call(f,e)-w.call(f,t):0;if(r===l)return se(e,t);for(n=e;n=n.parentNode;)i.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;i[o]===a[o];)o++;return o?se(i[o],a[o]):i[o]===c?-1:a[o]===c?1:0},s):a},s.matches=function(e,t){return s(e,null,null,t)},s.matchesSelector=function(e,t){if((e.ownerDocument||e)!==a&&v(e),t=t.replace(ue,"='$1']"),o.matchesSelector&&h&&(!y||!y.test(t))&&(!r||!r.test(t)))try{var n=D.call(e,t);if(n||o.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch{}return s(t,a,null,[e]).length>0},s.contains=function(e,t){return(e.ownerDocument||e)!==a&&v(e),S(e,t)},s.attr=function(e,n){(e.ownerDocument||e)!==a&&v(e);var i=t.attrHandle[n.toLowerCase()],s=i&&ae.call(t.attrHandle,n.toLowerCase())?i(e,n,!h):0[0];return 0[0]!==s?s:o.attributes||!h?e.getAttribute(n):(s=e.getAttributeNode(n))&&s.specified?s.value:null},s.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},s.uniqueSort=function(e){var s,i=[],t=0,n=0;if(C=!o.detectDuplicates,f=!o.sortStable&&e.slice(0),e.sort(K),C){for(;s=e[n++];)s===e[n]&&(t=i.push(n));for(;t--;)e.splice(i[t],1)}return f=null,e},T=s.getText=function(e){var s,n="",o=0,t=e.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===t||4===t)return e.nodeValue}else for(;s=e[o++];)n+=T(s);return n},t=s.selectors={cacheLength:50,createPseudo:l,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(b,j),e[3]=(e[3]||e[4]||e[5]||"").replace(b,j),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||s.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&s.error(e[0]),e},PSEUDO:function(e){var n,t=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":t&&he.test(t)&&(n=k(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(e[0]=e[0].slice(0,n),e[2]=t.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(b,j).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=ne[e+" "];return t||(t=new RegExp("(^|"+n+")"+e+"("+n+"|$)"))&&ne(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==x&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(o){var i=s.attr(o,e);return i==null?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,s,o){var c="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===s&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var d,h,m,f,g,b,v=c!==r?"nextSibling":"previousSibling",p=t.parentNode,y=a&&t.nodeName.toLowerCase(),j=!l&&!a;if(p){if(c){for(;v;){for(d=t;d=d[v];)if(a?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;g=v="only"===e&&!g&&"nextSibling"}return!0}if(g=[r?p.firstChild:p.lastChild],r&&j){for(b=p[i]||(p[i]={}),m=b[e]||[],f=m[0]===u&&m[1],h=m[0]===u&&m[2],d=f&&p.childNodes[f];d=++f&&d&&d[v]||(h=f=0)||g.pop();)if(1===d.nodeType&&++h&&d===t){b[e]=[u,f,h];break}}else if(j&&(m=(t[i]||(t[i]={}))[e])&&m[0]===u)h=m[1];else for(;(d=++f&&d&&d[v]||(h=f=0)||g.pop())&&((a?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++h||(j&&((d[i]||(d[i]={}))[e]=[u,h]),d!==t)););return h-=o,h===s||h%s===0&&h/s>=0}}},PSEUDO:function(e,n){var a,o=t.pseudos[e]||t.setFilters[e.toLowerCase()]||s.error("unsupported pseudo: "+e);return o[i]?o(n):o.length>1?(a=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var s,i=o(e,n),a=i.length;a--;)s=w.call(e,i[a]),e[s]=!(t[s]=i[a])}):function(e){return o(e,0,a)}):o}},pseudos:{not:l(function(e){var n=[],s=[],t=B(e.replace(M,"$1"));return t[i]?l(function(e,n,s,o){for(var a,r=t(e,null,o,[]),i=e.length;i--;)(a=r[i])&&(e[i]=!(n[i]=a))}):function(e,o,i){return n[0]=e,t(n,null,i,s),!s.pop()}}),has:l(function(e){return function(t){return s(e,t).length>0}}),contains:l(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:l(function(e){return me.test(e||"")||s.error("unsupported lang: "+e),e=e.replace(b,j).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType)return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===m},focus:function(e){return e===a.activeElement&&(!a.hasFocus||a.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:_(function(){return[0]}),last:_(function(e,t){return[t-1]}),eq:_(function(e,t,n){return[0>n?n+t:n]}),even:_(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:_(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:_(function(e,t,n){for(var s=0>n?n+t:n;--s>=0;)e.push(s);return e}),gt:_(function(e,t,n){for(var s=0>n?n+t:n;++s<t;)e.push(s);return e})}},t.pseudos.nth=t.pseudos.eq;for(O in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[O]=re(O);for(O in{submit:!0,reset:!0})t.pseudos[O]=ce(O);return oe.prototype=t.filters=t.pseudos,t.setFilters=new oe,k=s.tokenize=function(e,n){var o,i,a,r,c,l,d,u=te[e+" "];if(u)return n?0:u.slice(0);for(o=e,l=[],d=t.preFilter;o;){(!a||(i=le.exec(o)))&&(i&&(o=o.slice(i[0].length)||o),l.push(c=[])),a=!1,(i=de.exec(o))&&(a=i.shift(),c.push({value:a,type:i[0].replace(M," ")}),o=o.slice(a.length));for(r in t.filter)!(i=z[r].exec(o))||d[r]&&!(i=d[r](i))||(a=i.shift(),c.push({value:a,type:r,matches:i}),o=o.slice(a.length));if(!a)break}return n?o.length:o?s.error(e):te(e,l).slice(0)},B=s.compile=function(e,t){var s,o=[],a=[],n=Z[e+" "];if(!n){for(t||(t=k(e)),s=t.length;s--;)n=q(t[s]),n[i]?o.push(n):a.push(n);n=Z(e,we(a,o)),n.selector=e}return n},J=s.select=function(e,n,s,i){var a,r,c,u,m,d="function"==typeof e&&e,l=!i&&k(e=d.selector||e);if(s=s||[],1===l.length){if(a=l[0]=l[0].slice(0),a.length>2&&"ID"===(r=a[0]).type&&o.getById&&9===n.nodeType&&h&&t.relative[a[1].type]){if(n=(t.find.ID(r.matches[0].replace(b,j),n)||[])[0],!n)return s;d&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(c=z.needsContext.test(e)?0:a.length;c--&&(r=a[c],!t.relative[u=r.type]);)if((m=t.find[u])&&(i=m(r.matches[0].replace(b,j),V.test(a[0].type)&&P(n.parentNode)||n))){if(a.splice(c,1),e=i.length&&L(a),!e)return g.apply(s,i),s;break}}return(d||B(e,l))(i,n,!h,s,V.test(e)&&P(n.parentNode)||n),s},o.sortStable=i.split("").sort(K).join("")===i,o.detectDuplicates=!!C,v(),o.sortDetached=d(function(e){return 1&e.compareDocumentPosition(a.createElement("div"))}),d(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||I("type|href|height|width",function(e,t,n){return n?0[0]:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),o.attributes&&d(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||I("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?0[0]:e.defaultValue}),d(function(e){return null==e.getAttribute("disabled")})||I($,function(e,t,n){var s;return n?0[0]:e[t]===!0?t.toLowerCase():(s=e.getAttributeNode(t))&&s.specified?s.value:null}),s}(e),n.find=g,n.expr=g.selectors,n.expr[":"]=n.expr.pseudos,n.unique=g.uniqueSort,n.text=g.getText,n.isXMLDoc=g.isXML,n.contains=g.contains;var ke=n.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,jt=/^.[^:#[.,]*$/;n.filter=function(e,t,s){var o=t[0];return s&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?n.find.matchesSelector(o,e)?[o]:[]:n.find.matches(e,n.grep(t,function(e){return 1===e.nodeType}))},n.fn.extend({find:function(e){var t,o=this.length,s=[],i=this;if("string"!=typeof e)return this.pushStack(n(e).filter(function(){for(t=0;o>t;t++)if(n.contains(i[t],this))return!0}));for(t=0;o>t;t++)n.find(e,i[t],s);return s=this.pushStack(o>1?n.unique(s):s),s.selector=this.selector?this.selector+" "+e:e,s},filter:function(e){return this.pushStack(W(this,e||[],!1))},not:function(e){return this.pushStack(W(this,e||[],!0))},is:function(e){return!!W(this,"string"==typeof e&&ke.test(e)?n(e):e||[],!1).length}}),le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,oe=n.fn.init=function(e,t){var s,i;if(!e)return this;if("string"==typeof e){if(s="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!s||!s[1]&&t)return!t||t.jquery?(t||R).find(e):this.constructor(t).find(e);if(s[1]){if(t=t instanceof n?t[0]:t,n.merge(this,n.parseHTML(s[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),ae.test(s[1])&&n.isPlainObject(t))for(s in t)n.isFunction(this[s])?this[s](t[s]):this.attr(s,t[s]);return this}return i=o.getElementById(s[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):n.isFunction(e)?"undefined"!=typeof R.ready?R.ready(e):e(n):(0[0]!==e.selector&&(this.selector=e.selector,this.context=e.context),n.makeArray(e,this))},oe.prototype=n.fn,R=n(o),ue=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0},n.extend({dir:function(e,t,s){for(var o=[],i=0[0]!==s;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&n(e).is(s))break;o.push(e)}return o},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),n.fn.extend({has:function(e){var t=n(e,this),s=t.length;return this.filter(function(){for(var e=0;s>e;e++)if(n.contains(this,t[e]))return!0})},closest:function(e,t){for(var s,i=0,r=this.length,o=[],a=ke.test(e)||"string"!=typeof e?n(e,t||this.context):0;r>i;i++)for(s=this[i];s&&s!==t;s=s.parentNode)if(s.nodeType<11&&(a?a.index(s)>-1:1===s.nodeType&&n.find.matchesSelector(s,e))){o.push(s);break}return this.pushStack(o.length>1?n.unique(o):o)},index:function(e){return e?"string"==typeof e?I.call(n(e),this[0]):I.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(n.unique(n.merge(this.get(),n(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),n.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return n.dir(e,"parentNode")},parentsUntil:function(e,t,s){return n.dir(e,"parentNode",s)},next:function(e){return Pe(e,"nextSibling")},prev:function(e){return Pe(e,"previousSibling")},nextAll:function(e){return n.dir(e,"nextSibling")},prevAll:function(e){return n.dir(e,"previousSibling")},nextUntil:function(e,t,s){return n.dir(e,"nextSibling",s)},prevUntil:function(e,t,s){return n.dir(e,"previousSibling",s)},siblings:function(e){return n.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return n.sibling(e.firstChild)},contents:function(e){return e.contentDocument||n.merge([],e.childNodes)}},function(e,t){n.fn[e]=function(s,o){var i=n.map(this,t,s);return"Until"!==e.slice(-5)&&(o=s),o&&"string"==typeof o&&(i=n.filter(o,i)),this.length>1&&(he[e]||n.unique(i),ue.test(e)&&i.reverse()),this.pushStack(i)}}),d=/\S+/g,te={},n.Callbacks=function(e){e="string"==typeof e?te[e]||Rt(e):n.extend({},e);var o,i,a,r,l,d,t=[],s=!e.once&&[],u=function(n){for(o=e.memory&&n,l=!0,a=d||0,d=0,i=t.length,r=!0;t&&i>a;a++)if(t[a].apply(n[0],n[1])===!1&&e.stopOnFalse){o=!1;break}r=!1,t&&(s?s.length&&u(s.shift()):o?t=[]:c.disable())},c={add:function(){if(t){var s=t.length;!function s(o){n.each(o,function(o,i){var a=n.type(i);"function"===a?e.unique&&c.has(i)||t.push(i):i&&i.length&&"string"!==a&&s(i)})}(arguments),r?i=t.length:o&&(d=s,u(o))}return this},remove:function(){return t&&n.each(arguments,function(e,s){for(var o;(o=n.inArray(s,t,o))>-1;)t.splice(o,1),r&&(i>=o&&i--,a>=o&&a--)}),this},has:function(e){return e?n.inArray(e,t)>-1:!!t&&!!t.length},empty:function(){return t=[],i=0,this},disable:function(){return t=s=o=0[0],this},disabled:function(){return!t},lock:function(){return s=0[0],o||c.disable(),this},locked:function(){return!s},fireWith:function(e,n){return!t||l&&!s||(n=n||[],n=[e,n.slice?n.slice():n],r?s.push(n):u(n)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!l}};return c},n.extend({Deferred:function(e){var o=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],i="pending",s={state:function(){return i},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var e=arguments;return n.Deferred(function(i){n.each(o,function(o,a){var r=n.isFunction(e[o])&&e[o];t[a[1]](function(){var e=r&&r.apply(this,arguments);e&&n.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a[0]+"With"](this===s?i.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?n.extend(e,s):s}},t={};return s.pipe=s.then,n.each(o,function(e,n){var a=n[2],r=n[3];s[n[1]]=a.add,r&&a.add(function(){i=r},o[1^e][2].disable,o[2][2].lock),t[n[0]]=function(){return t[n[0]+"With"](this===t?s:this,arguments),this},t[n[0]+"With"]=a.fireWith}),s.promise(t),e&&e.call(t,t),t},when:function(e){var r,c,l,t=0,o=m.call(arguments),s=o.length,a=1!==s||e&&n.isFunction(e.promise)?s:0,i=1===a?e:n.Deferred(),d=function(e,t,n){return function(s){t[e]=this,n[e]=arguments.length>1?m.call(arguments):s,n===r?i.notifyWith(t,n):--a||i.resolveWith(t,n)}};if(s>1)for(r=new Array(s),l=new Array(s),c=new Array(s);s>t;t++)o[t]&&n.isFunction(o[t].promise)?o[t].promise().done(d(t,c,o)).fail(i.reject).progress(d(t,l,r)):--a;return a||i.resolveWith(c,o),i.promise()}}),n.fn.ready=function(e){return n.ready.promise().done(e),this},n.extend({isReady:!1,readyWait:1,holdReady:function(e){e?n.readyWait++:n.ready(!0)},ready:function(e){(e===!0?--n.readyWait:n.isReady)||(n.isReady=!0,e!==!0&&--n.readyWait>0||(S.resolveWith(o,[n]),n.fn.triggerHandler&&(n(o).triggerHandler("ready"),n(o).off("ready"))))}}),n.ready.promise=function(t){return S||(S=n.Deferred(),"complete"===o.readyState?setTimeout(n.ready):(o.addEventListener("DOMContentLoaded",V,!1),e.addEventListener("load",V,!1))),S.promise(t)},n.ready.promise(),u=n.access=function(e,t,s,o,i,a,r){var c=0,d=e.length,l=s==null;if("object"===n.type(s)){i=!0;for(c in s)n.access(e,t,c,s[c],!0,a,r)}else if(0[0]!==o&&(i=!0,n.isFunction(o)||(r=!0),l&&(r?(t.call(e,o),t=null):(l=t,t=function(e,t,s){return l.call(n(e),s)})),t))for(;d>c;c++)t(e[c],s,r?o:o.call(e[c],c,t(e[c],s)));return i?e:l?t.call(e):d?t(e[0],s):a},n.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},f.uid=1,f.accepts=n.acceptData,f.prototype={key:function(e){if(!f.accepts(e))return 0;var s={},t=e[this.expando];if(!t){t=f.uid++;try{s[this.expando]={value:t},Object.defineProperties(e,s)}catch{s[this.expando]=t,n.extend(e,s)}}return this.cache[t]||(this.cache[t]={}),t},set:function(e,t,s){var i,a=this.key(e),o=this.cache[a];if("string"==typeof t)o[t]=s;else if(n.isEmptyObject(o))n.extend(this.cache[a],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return 0[0]===t?n:n[t]},access:function(e,t,s){var o;return 0[0]===t||t&&"string"==typeof t&&0[0]===s?(o=this.get(e,t),0[0]!==o?o:this.get(e,n.camelCase(t))):(this.set(e,t,s),0[0]!==s?s:t)},remove:function(e,t){var s,o,i,r=this.key(e),a=this.cache[r];if(0[0]===t)this.cache[r]={};else for(n.isArray(t)?s=t.concat(t.map(n.camelCase)):(i=n.camelCase(t),t in a?s=[t,i]:(s=i,s=s in a?[s]:s.match(d)||[])),o=s.length;o--;)delete a[s[o]]},hasData:function(e){return!n.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var s=new f,a=new f,ft=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ht=/([A-Z])/g;n.extend({hasData:function(e){return a.hasData(e)||s.hasData(e)},data:function(e,t,n){return a.access(e,t,n)},removeData:function(e,t){a.remove(e,t)},_data:function(e,t,n){return s.access(e,t,n)},_removeData:function(e,t){s.remove(e,t)}}),n.fn.extend({data:function(e,t){var i,r,c,o=this[0],l=o&&o.attributes;if(0[0]===e){if(this.length&&(c=a.get(o),1===o.nodeType&&!s.get(o,"hasDataAttrs"))){for(r=l.length;r--;)l[r]&&(i=l[r].name,0===i.indexOf("data-")&&(i=n.camelCase(i.slice(5)),Ce(o,i,c[i])));s.set(o,"hasDataAttrs",!0)}return c}return"object"==typeof e?this.each(function(){a.set(this,e)}):u(this,function(t){var s,i=n.camelCase(e);if(o&&0[0]===t){{if(s=a.get(o,e),0[0]!==s)return s;if(s=a.get(o,i),0[0]!==s)return s;if(s=Ce(o,i,0[0]),0[0]!==s)return s}}else this.each(function(){var n=a.get(this,i);a.set(this,i,t),-1!==e.indexOf("-")&&0[0]!==n&&a.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){a.remove(this,e)})}}),n.extend({queue:function(e,t,o){var i;return e?(t=(t||"fx")+"queue",i=s.get(e,t),o&&(!i||n.isArray(o)?i=s.access(e,t,n.makeArray(o)):i.push(o)),i||[]):0[0]},dequeue:function(e,t){t=t||"fx";var s=n.queue(e,t),a=s.length,o=s.shift(),i=n._queueHooks(e,t),r=function(){n.dequeue(e,t)};"inprogress"===o&&(o=s.shift(),a--),o&&("fx"===t&&s.unshift("inprogress"),delete i.stop,o.call(e,r,i)),!a&&i&&i.empty.fire()},_queueHooks:function(e,t){var o=t+"queueHooks";return s.get(e,o)||s.access(e,o,{empty:n.Callbacks("once memory").add(function(){s.remove(e,[t+"queue",o])})})}}),n.fn.extend({queue:function(e,t){var s=2;return"string"!=typeof e&&(t=e,e="fx",s--),arguments.length<s?n.queue(this[0],e):0[0]===t?this:this.each(function(){var s=n.queue(this,e,t);n._queueHooks(this,e),"fx"===e&&"inprogress"!==s[0]&&n.dequeue(this,e)})},dequeue:function(e){return this.each(function(){n.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var o,a=1,r=n.Deferred(),i=this,c=this.length,l=function(){--a||r.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=0[0]),e=e||"fx";c--;)o=s.get(i[c],e+"queueHooks"),o&&o.empty&&(a++,o.empty.add(l));return l(),r.promise(t)}});var z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,v=["Top","Right","Bottom","Left"],O=function(e,t){return e=t||e,"none"===n.css(e,"display")||!n.contains(e.ownerDocument,e)},xe=/^(?:checkbox|radio)$/i;!function(){var n=o.createDocumentFragment(),e=n.appendChild(o.createElement("div")),t=o.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),i.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",i.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}(),b="undefined",i.focusinBubbles="onfocusin"in e;var ut=/^key/,dt=/^(?:mouse|pointer|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,Se=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(e,t,o,i,a){var r,c,l,u,m,f,p,g,v,j,y,h=s.get(e);if(h)for(o.handler&&(m=o,o=m.handler,a=m.selector),o.guid||(o.guid=n.guid++),(p=h.events)||(p=h.events={}),(f=h.handle)||(f=h.handle=function(t){return typeof n!==b&&n.event.triggered!==t.type?n.event.dispatch.apply(e,arguments):0[0]}),t=(t||"").match(d)||[""],v=t.length;v--;)g=Se.exec(t[v])||[],r=y=g[1],j=(g[2]||"").split(".").sort(),r&&(c=n.event.special[r]||{},r=(a?c.delegateType:c.bindType)||r,c=n.event.special[r]||{},l=n.extend({type:r,origType:y,data:i,handler:o,guid:o.guid,selector:a,needsContext:a&&n.expr.match.needsContext.test(a),namespace:j.join(".")},m),(u=p[r])||(u=p[r]=[],u.delegateCount=0,c.setup&&c.setup.call(e,i,j,f)!==!1||e.addEventListener&&e.addEventListener(r,f,!1)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=o.guid)),a?u.splice(u.delegateCount++,0,l):u.push(l),n.event.global[r]=!0)},remove:function(e,t,o,i,a){var r,c,l,u,h,m,p,g,v,b,j,f=s.hasData(e)&&s.get(e);if(f&&(m=f.events)){for(t=(t||"").match(d)||[""],g=t.length;g--;)if(l=Se.exec(t[g])||[],r=j=l[1],v=(l[2]||"").split(".").sort(),r){for(u=n.event.special[r]||{},r=(i?u.delegateType:u.bindType)||r,h=m[r]||[],l=l[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),b=p=h.length;p--;)c=h[p],!a&&j!==c.origType||o&&o.guid!==c.guid||l&&!l.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(p,1),c.selector&&h.delegateCount--,u.remove&&u.remove.call(e,c));b&&!h.length&&(u.teardown&&u.teardown.call(e,v,f.handle)!==!1||n.removeEvent(e,r,f.handle),delete m[r])}else for(r in m)n.event.remove(e,r+t[g],o,i,!0);n.isEmptyObject(m)&&(delete f.handle,s.remove(e,"events"))}},trigger:function(t,i,a,r){var c,d,u,h,m,g,v,p=[a||o],l=G.call(t,"type")?t.type:t,f=G.call(t,"namespace")?t.namespace.split("."):[];if(c=d=a=a||o,3!==a.nodeType&&8!==a.nodeType&&!Ae.test(l+n.event.triggered)&&(l.indexOf(".")>=0&&(f=l.split("."),l=f.shift(),f.sort()),h=l.indexOf(":")<0&&"on"+l,t=t[n.expando]?t:new n.Event(l,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=0[0],t.target||(t.target=a),i=i==null?[t]:n.makeArray(i,[t]),u=n.event.special[l]||{},r||!u.trigger||u.trigger.apply(a,i)!==!1)){if(!r&&!u.noBubble&&!n.isWindow(a)){for(v=u.delegateType||l,Ae.test(v+l)||(c=c.parentNode);c;c=c.parentNode)p.push(c),d=c;d===(a.ownerDocument||o)&&p.push(d.defaultView||d.parentWindow||e)}for(g=0;(c=p[g++])&&!t.isPropagationStopped();)t.type=g>1?v:u.bindType||l,m=(s.get(c,"events")||{})[t.type]&&s.get(c,"handle"),m&&m.apply(c,i),m=h&&c[h],m&&m.apply&&n.acceptData(c)&&(t.result=m.apply(c,i),t.result===!1&&t.preventDefault());return t.type=l,r||t.isDefaultPrevented()||u._default&&u._default.apply(p.pop(),i)!==!1||!n.acceptData(a)||h&&n.isFunction(a[l])&&!n.isWindow(a)&&(d=a[h],d&&(a[h]=null),n.event.triggered=l,a[l](),n.event.triggered=0[0],d&&(a[h]=d)),t.result}},dispatch:function(e){e=n.event.fix(e);var t,o,a,r,c,l=[],d=m.call(arguments),u=(s.get(this,"events")||{})[e.type]||[],i=n.event.special[e.type]||{};if(d[0]=e,e.delegateTarget=this,!i.preDispatch||i.preDispatch.call(this,e)!==!1){for(l=n.event.handlers.call(this,e,u),r=0;(o=l[r++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,c=0;(t=o.handlers[c++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(t.namespace))&&(e.handleObj=t,e.data=t.data,a=((n.event.special[t.origType]||{}).handle||t.handler).apply(o.elem,d),0[0]!==a&&(e.result=a)===!1&&(e.preventDefault(),e.stopPropagation()));return i.postDispatch&&i.postDispatch.call(this,e),e.result}},handlers:function(e,t){var o,i,a,r,l=[],c=t.delegateCount,s=e.target;if(c&&s.nodeType&&(!e.button||"click"!==e.type))for(;s!==this;s=s.parentNode||this)if(s.disabled!==!0||"click"!==e.type){for(o=[],a=0;c>a;a++)r=t[a],i=r.selector+" ",0[0]===o[i]&&(o[i]=r.needsContext?n(i,this).index(s)>=0:n.find(i,this,null,[s]).length),o[i]&&o.push(r);o.length&&l.push({elem:s,handlers:o})}return c<t.length&&l.push({elem:this,handlers:t.slice(c)}),l},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,s,a,i=t.button;return null==e.pageX&&null!=t.clientX&&(a=e.target.ownerDocument||o,n=a.documentElement,s=a.body,e.pageX=t.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)),e.which||0[0]===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[n.expando])return e;var i,a,r,s=e.type,c=e,t=this.fixHooks[s];for(t||(this.fixHooks[s]=t=dt.test(s)?this.mouseHooks:ut.test(s)?this.keyHooks:{}),r=t.props?this.props.concat(t.props):this.props,e=new n.Event(c),i=r.length;i--;)a=r[i],e[a]=c[a];return e.target||(e.target=o),3===e.target.nodeType&&(e.target=e.target.parentNode),t.filter?t.filter(e,c):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ye()&&this.focus?(this.focus(),!1):0[0]},delegateType:"focusin"},blur:{trigger:function(){return this===ye()&&this.blur?(this.blur(),!1):0[0]},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):0[0]},_default:function(e){return n.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){0[0]!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,s,o){var i=n.extend(new n.Event,s,{type:e,isSimulated:!0,originalEvent:{}});o?n.event.trigger(i,null,t):n.event.dispatch.call(t,i),i.isDefaultPrevented()&&s.preventDefault()}},n.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},n.Event=function(e,t){return this instanceof n.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||0[0]===e.defaultPrevented&&e.returnValue===!1?L:j):this.type=e,t&&n.extend(this,t),this.timeStamp=e&&e.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(e,t)},n.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=L,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=L,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=L,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){n.event.special[e]={delegateType:t,bindType:t,handle:function(e){var o,i=this,s=e.relatedTarget,a=e.handleObj;return(!s||s!==i&&!n.contains(i,s))&&(e.type=a.origType,o=a.handler.apply(this,arguments),e.type=t),o}}}),i.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(e,t){var o=function(e){n.event.simulate(t,e.target,n.event.fix(e),!0)};n.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=s.access(n,t);i||n.addEventListener(e,o,!0),s.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=s.access(n,t)-1;i?s.access(n,t,i):(n.removeEventListener(e,o,!0),s.remove(n,t))}}}),n.fn.extend({on:function(e,t,s,o,i){var a,r;if("object"==typeof e){"string"!=typeof t&&(s=s||t,t=0[0]);for(r in e)this.on(r,t,s,e[r],i);return this}if(s==null&&o==null?(o=t,s=t=0[0]):o==null&&("string"==typeof t?(o=s,s=0[0]):(o=s,s=t,t=0[0])),o===!1)o=j;else if(!o)return this;return 1===i&&(a=o,o=function(e){return n().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=n.guid++)),this.each(function(){n.event.add(this,e,o,s,t)})},one:function(e,t,n,s){return this.on(e,t,n,s,1)},off:function(e,t,s){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,n(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(s=t,t=0[0]),s===!1&&(s=j),this.each(function(){n.event.remove(this,e,s,t)})},trigger:function(e,t){return this.each(function(){n.event.trigger(e,t,this)})},triggerHandler:function(e,t){var s=this[0];return s?n.event.trigger(e,t,s,!0):0[0]}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fe=/<([\w:]+)/,lt=/<|&#?\w+;/,ct=/<(?:script|style|link)/i,rt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^$|\/(?:java|ecma)script/i,at=/^true\/(.*)/,it=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,l={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};l.optgroup=l.option,l.tbody=l.tfoot=l.colgroup=l.caption=l.thead,l.th=l.td,n.extend({clone:function(e,t,s){var o,a,c,d,l=e.cloneNode(!0),u=n.contains(e.ownerDocument,e);if(!(i.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||n.isXMLDoc(e)))for(a=r(l),c=r(e),o=0,d=c.length;d>o;o++)Dt(c[o],a[o]);if(t)if(s)for(c=c||r(e),a=a||r(l),o=0,d=c.length;d>o;o++)ce(c[o],a[o]);else ce(e,l);return a=r(l,"script"),a.length>0&&se(a,!u&&r(e,"script")),l},buildFragment:function(e,t,s,o){for(var i,a,u,h,f,p,c=t.createDocumentFragment(),m=[],d=0,g=e.length;g>d;d++)if(i=e[d],i||0===i)if("object"===n.type(i))n.merge(m,i.nodeType?[i]:i);else if(lt.test(i)){for(a=a||c.appendChild(t.createElement("div")),f=(Fe.exec(i)||["",""])[1].toLowerCase(),u=l[f]||l._default,a.innerHTML=u[1]+i.replace(Me,"<$1></$2>")+u[2],h=u[0];h--;)a=a.lastChild;n.merge(m,a.childNodes),a=c.firstChild,a.textContent=""}else m.push(t.createTextNode(i));for(c.textContent="",d=0;i=m[d++];)if((!o||-1===n.inArray(i,o))&&(p=n.contains(i.ownerDocument,i),a=r(c.appendChild(i),"script"),p&&se(a),s))for(h=0;i=a[h++];)Ne.test(i.type||"")&&s.push(i);return c},cleanData:function(e){for(var t,o,i,r,l=n.event.special,c=0;0[0]!==(t=e[c]);c++){if(n.acceptData(t)&&(o=t[s.expando],o&&(i=s.cache[o]))){if(i.events)for(r in i.events)l[r]?n.event.remove(t,r):n.removeEvent(t,r,i.handle);s.cache[o]&&delete s.cache[o]}delete a.cache[t[a.expando]]}}}),n.fn.extend({text:function(e){return u(this,function(e){return 0[0]===e?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=be(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=be(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var s,i=e?n.filter(e,this):this,o=0;null!=(s=i[o]);o++)t||1!==s.nodeType||n.cleanData(r(s)),s.parentNode&&(t&&n.contains(s.ownerDocument,s)&&se(r(s,"script")),s.parentNode.removeChild(s));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(n.cleanData(r(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e??!1,t=t??e,this.map(function(){return n.clone(this,e,t)})},html:function(e){return u(this,function(e){var t=this[0]||{},s=0,o=this.length;if(0[0]===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ct.test(e)&&!l[(Fe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Me,"<$1></$2>");try{for(;o>s;s++)t=this[s]||{},1===t.nodeType&&(n.cleanData(r(t,!1)),t.innerHTML=e);t=0}catch{}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,n.cleanData(r(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=we.apply([],e);var o,c,l,d,m,f,a=0,u=this.length,g=this,v=u-1,h=e[0],p=n.isFunction(h);if(p||u>1&&"string"==typeof h&&!i.checkClone&&rt.test(h))return this.each(function(n){var s=g.eq(n);p&&(e[0]=h.call(this,n,s.html())),s.domManip(e,t)});if(u&&(l=n.buildFragment(e,this[0].ownerDocument,!1,this),m=l.firstChild,1===l.childNodes.length&&(l=m),m)){for(c=n.map(r(l,"script"),Lt),d=c.length;u>a;a++)o=l,a!==v&&(o=n.clone(o,!0,!0),d&&n.merge(c,r(o,"script"))),t.call(this[a],o,a);if(d)for(f=c[c.length-1].ownerDocument,n.map(c,Nt),a=0;d>a;a++)o=c[a],Ne.test(o.type||"")&&!s.access(o,"globalEval")&&n.contains(f,o)&&(o.src?n._evalUrl&&n._evalUrl(o.src):n.globalEval(o.textContent.replace(it,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){n.fn[e]=function(e){for(var o,i=[],a=n(e),r=a.length-1,s=0;r>=s;s++)o=s===r?this:this.clone(!0),n(a[s])[t](o),U.apply(i,o.get());return this.pushStack(i)}});var F,Ie={},Be=/^margin/,ee=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),B=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function c(){t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",t.innerHTML="",a.appendChild(s);var n=e.getComputedStyle(t,null),l="1%"!==n.top,r="4px"===n.width;a.removeChild(s)}var r,l,a=o.documentElement,s=o.createElement("div"),t=o.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",i.clearCloneStyle="content-box"===t.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",s.appendChild(t),e.getComputedStyle&&n.extend(i,{pixelPosition:function(){return c(),l},boxSizingReliable:function(){return r==null&&c(),r},reliableMarginRight:function(){var i,n=t.appendChild(o.createElement("div"));return n.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",t.style.width="1px",a.appendChild(s),i=!parseFloat(e.getComputedStyle(n,null).marginRight),a.removeChild(s),i}}))}(),n.swap=function(e,t,n,s){var o,i,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,s||[]);for(o in t)e.style[o]=a[o];return i};var ot=/^(none|table(?!-c[ea]).+)/,nt=new RegExp("^("+z+")(.*)$","i"),tt=new RegExp("^([+-])=("+z+")","i"),Je={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=C(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,s,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,l,c=n.camelCase(t),d=e.style;return t=n.cssProps[c]||(n.cssProps[c]=$e(d,c)),a=n.cssHooks[t]||n.cssHooks[c],0[0]===s?a&&"get"in a&&0[0]!==(r=a.get(e,!1,o))?r:d[t]:(l=typeof s,"string"===l&&(r=tt.exec(s))&&(s=(r[1]+1)*r[2]+parseFloat(n.css(e,t)),l="number"),s!=null&&s===s&&("number"!==l||n.cssNumber[c]||(s+="px"),i.clearCloneStyle||""!==s||0!==t.indexOf("background")||(d[t]="inherit"),a&&"set"in a&&0[0]===(s=a.set(e,s,o))||(d[t]=s)),0[0])}},css:function(e,t,s,o){var i,a,c,r=n.camelCase(t);return t=n.cssProps[r]||(n.cssProps[r]=$e(e.style,r)),a=n.cssHooks[t]||n.cssHooks[r],a&&"get"in a&&(i=a.get(e,!0,s)),0[0]===i&&(i=C(e,t,o)),"normal"===i&&t in Ye&&(i=Ye[t]),""===s||s?(c=parseFloat(i),s===!0||n.isNumeric(c)?c||0:i):i}}),n.each(["height","width"],function(e,t){n.cssHooks[t]={get:function(e,s,o){return s?ot.test(n.css(e,"display"))&&0===e.offsetWidth?n.swap(e,Je,function(){return Ke(e,t,o)}):Ke(e,t,o):0[0]},set:function(e,s,o){var i=o&&B(e);return de(e,s,o?Xe(e,t,o,"border-box"===n.css(e,"boxSizing",!1,i),i):0)}}}),n.cssHooks.marginRight=Oe(i.reliableMarginRight,function(e,t){return t?n.swap(e,{display:"inline-block"},C,[e,"marginRight"]):0[0]}),n.each({margin:"",padding:"",border:"Width"},function(e,t){n.cssHooks[e+t]={expand:function(n){for(var s=0,i={},o="string"==typeof n?n.split(" "):[n];4>s;s++)i[e+v[s]+t]=o[s]||o[s-2]||o[0];return i}},Be.test(e)||(n.cssHooks[e+t].set=de)}),n.fn.extend({css:function(e,t){return u(this,function(e,t,s){var i,a,r={},o=0;if(n.isArray(t)){for(i=B(e),a=t.length;a>o;o++)r[t[o]]=n.css(e,t[o],!1,i);return r}return 0[0]!==s?n.style(e,t,s):n.css(e,t)},e,t,arguments.length>1)},show:function(){return Ue(this,!0)},hide:function(){return Ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){O(this)?n(this).show():n(this).hide()})}}),n.Tween=c,c.prototype={constructor:c,init:function(e,t,s,o,i,a){this.elem=e,this.prop=s,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=a||(n.cssNumber[s]?"":"px")},cur:function(){var e=c.propHooks[this.prop];return e&&e.get?e.get(this):c.propHooks._default.get(this)},run:function(e){var t,s=c.propHooks[this.prop];return this.options.duration?this.pos=t=n.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),s&&s.set?s.set(this):c.propHooks._default.set(this),this}},c.prototype.init.prototype=c.prototype,c.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=n.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){n.fx.step[e.prop]?n.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[n.cssProps[e.prop]]||n.cssHooks[e.prop])?n.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},c.propHooks.scrollTop=c.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},n.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},n.fx=c.prototype.init,n.fx.step={};var _,$,Ze=/^(?:toggle|show|hide)$/,qe=new RegExp("^(?:([+-])=|)("+z+")([a-z%]*)$","i"),et=/queueHooks$/,H=[zt],x={"*":[function(e,t){var i=this.createTween(e,t),c=i.cur(),s=qe.exec(t),a=s&&s[3]||(n.cssNumber[e]?"":"px"),o=(n.cssNumber[e]||"px"!==a&&+c)&&qe.exec(n.css(i.elem,e)),r=1,l=20;if(o&&o[3]!==a){a=a||o[3],s=s||[],o=+c||1;do r=r||".5",o/=r,n.style(i.elem,e,o+a);while(r!==(r=i.cur()/c)&&1!==r&&--l)}return s&&(o=i.start=+o||+c||0,i.unit=a,i.end=s[1]?o+(s[1]+1)*s[2]:+s[2]),i}]};n.Animation=n.extend(De,{tweener:function(e,t){n.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var s,o=0,i=e.length;i>o;o++)s=e[o],x[s]=x[s]||[],x[s].unshift(t)},prefilter:function(e,t){t?H.unshift(e):H.push(e)}}),n.speed=function(e,t,s){var o=e&&"object"==typeof e?n.extend({},e):{complete:s||!s&&t||n.isFunction(e)&&e,duration:e,easing:s&&t||t&&!n.isFunction(t)&&t};return o.duration=n.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in n.fx.speeds?n.fx.speeds[o.duration]:n.fx.speeds._default,(null==o.queue||o.queue===!0)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){n.isFunction(o.old)&&o.old.call(this),o.queue&&n.dequeue(this,o.queue)},o},n.fn.extend({fadeTo:function(e,t,n,s){return this.filter(O).css("opacity",0).show().end().animate({opacity:t},e,n,s)},animate:function(e,t,o,i){var c=n.isEmptyObject(e),r=n.speed(t,o,i),a=function(){var t=De(this,n.extend({},e),r);(c||s.get(this,"finish"))&&t.stop(!0)};return a.finish=a,c||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,t,o){var i=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof e&&(o=t,t=e,e=0[0]),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var c=!0,t=e!=null&&e+"queueHooks",r=n.timers,a=s.get(this);if(t)a[t]&&a[t].stop&&i(a[t]);else for(t in a)a[t]&&a[t].stop&&et.test(t)&&i(a[t]);for(t=r.length;t--;)r[t].elem!==this||e!=null&&r[t].queue!==e||(r[t].anim.stop(o),c=!1,r.splice(t,1));(c||!o)&&n.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,a=s.get(this),o=a[e+"queue"],r=a[e+"queueHooks"],i=n.timers,c=o?o.length:0;for(a.finish=!0,n.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;c>t;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete a.finish})}}),n.each(["toggle","show","hide"],function(e,t){var s=n.fn[t];n.fn[t]=function(e,n,o){return e==null||"boolean"==typeof e?s.apply(this,arguments):this.animate(M(t,!0),e,n,o)}}),n.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){n.fn[e]=function(e,n,s){return this.animate(t,e,n,s)}}),n.timers=[],n.fx.tick=function(){var s,e=0,t=n.timers;for(_=n.now();e<t.length;e++)s=t[e],s()||t[e]!==s||t.splice(e--,1);t.length||n.fx.stop(),_=0[0]},n.fx.timer=function(e){n.timers.push(e),e()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){$||($=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval($),$=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(e,t){return e=n.fx?n.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var s=setTimeout(t,e);n.stop=function(){clearTimeout(s)}})},function(){var e=o.createElement("input"),t=o.createElement("select"),n=t.appendChild(o.createElement("option"));e.type="checkbox",i.checkOn=""!==e.value,i.optSelected=n.selected,t.disabled=!0,i.optDisabled=!n.disabled,e=o.createElement("input"),e.value="t",e.type="radio",i.radioValue="t"===e.value}(),y=n.expr.attrHandle,n.fn.extend({attr:function(e,t){return u(this,n.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){n.removeAttr(this,e)})}}),n.extend({attr:function(e,t,s){var o,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===b?n.prop(e,t,s):(1===a&&n.isXMLDoc(e)||(t=t.toLowerCase(),o=n.attrHooks[t]||(n.expr.match.bool.test(t)?We:st)),0[0]===s?o&&"get"in o&&null!==(i=o.get(e,t))?i:(i=n.find.attr(e,t),i??0[0]):null!==s?o&&"set"in o&&0[0]!==(i=o.set(e,s,t))?i:(e.setAttribute(t,s+""),s):void n.removeAttr(e,t))},removeAttr:function(e,t){var s,o,a=0,i=t&&t.match(d);if(i&&1===e.nodeType)for(;s=i[a++];)o=n.propFix[s]||s,n.expr.match.bool.test(s)&&(e[o]=!1),e.removeAttribute(s)},attrHooks:{type:{set:function(e,t){if(!i.radioValue&&"radio"===t&&n.nodeName(e,"input")){var s=e.value;return e.setAttribute("type",t),s&&(e.value=s),t}}}}}),We={set:function(e,t,s){return t===!1?n.removeAttr(e,s):e.setAttribute(s,s),s}},n.each(n.expr.match.bool.source.match(/\w+/g),function(e,t){var s=y[t]||n.find.attr;y[t]=function(e,t,n){var o,i;return n||(i=y[t],y[t]=o,o=null!=s(e,t,n)?t.toLowerCase():null,y[t]=i),o}}),Le=/^(?:input|select|textarea|button)$/i,n.fn.extend({prop:function(e,t){return u(this,n.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[n.propFix[e]||e]})}}),n.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,s){var o,i,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!n.isXMLDoc(e),r&&(t=n.propFix[t]||t,o=n.propHooks[t]),0[0]!==s?o&&"set"in o&&0[0]!==(i=o.set(e,s,t))?i:e[t]=s:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Le.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),i.optSelected||(n.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),D=/[\t\r\n\f]/g,n.fn.extend({addClass:function(e){var t,s,o,i,r,c,l="string"==typeof e&&e,a=0,u=this.length;if(n.isFunction(e))return this.each(function(t){n(this).addClass(e.call(this,t,this.className))});if(l)for(r=(e||"").match(d)||[];u>a;a++)if(t=this[a],s=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(D," "):" ")){for(c=0;o=r[c++];)s.indexOf(" "+o+" ")<0&&(s+=o+" ");i=n.trim(s),t.className!==i&&(t.className=i)}return this},removeClass:function(e){var t,s,o,i,r,c,l=0===arguments.length||"string"==typeof e&&e,a=0,u=this.length;if(n.isFunction(e))return this.each(function(t){n(this).removeClass(e.call(this,t,this.className))});if(l)for(r=(e||"").match(d)||[];u>a;a++)if(t=this[a],s=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(D," "):"")){for(c=0;o=r[c++];)for(;s.indexOf(" "+o+" ")>=0;)s=s.replace(" "+o+" "," ");i=e?n.trim(s):"",t.className!==i&&(t.className=i)}return this},toggleClass:function(e,t){var o=typeof e;return"boolean"==typeof t&&"string"===o?t?this.addClass(e):this.removeClass(e):n.isFunction(e)?this.each(function(s){n(this).toggleClass(e.call(this,s,this.className,t),t)}):this.each(function(){if("string"===o)for(var t,a=0,i=n(this),r=e.match(d)||[];t=r[a++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(o===b||"boolean"===o)&&(this.className&&s.set(this,"__className__",this.className),this.className=this.className||e===!1?"":s.get(this,"__className__")||"")})},hasClass:function(e){for(var n=" "+e+" ",t=0,s=this.length;s>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(D," ").indexOf(n)>=0)return!0;return!1}}),ze=/\r/g,n.fn.extend({val:function(e){var t,s,i,o=this[0];{if(arguments.length)return i=n.isFunction(e),this.each(function(s){var o;1===this.nodeType&&(o=i?e.call(this,s,n(this).val()):e,o==null?o="":"number"==typeof o?o+="":n.isArray(o)&&(o=n.map(o,function(e){return e==null?"":e+""})),t=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&0[0]!==t.set(this,o,"value")||(this.value=o))});if(o)return t=n.valHooks[o.type]||n.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&0[0]!==(s=t.get(o,"value"))?s:(s=o.value,"string"==typeof s?s.replace(ze,""):s??"")}}}),n.extend({valHooks:{option:{get:function(e){var t=n.find.attr(e,"value");return t??n.trim(n.text(e))}},select:{get:function(e){for(var t,r,c=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,l=o?null:[],d=o?s+1:c.length,a=0>s?d:o?s:0;d>a;a++)if(t=c[a],(t.selected||a===s)&&(i.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!n.nodeName(t.parentNode,"optgroup"))){if(r=n(t).val(),o)return r;l.push(r)}return l},set:function(e,t){for(var s,o,i=e.options,a=n.makeArray(t),r=i.length;r--;)s=i[r],(s.selected=n.inArray(s.value,a)>=0)&&(o=!0);return o||(e.selectedIndex=-1),a}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(e,t){return n.isArray(t)?e.checked=n.inArray(n(e).val(),t)>=0:0[0]}},i.checkOn||(n.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){n.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),n.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,s){return this.on(t,e,n,s)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),N=n.now(),A=/\?/,n.parseJSON=function(e){return JSON.parse(e+"")},n.parseXML=function(e){var t,s;if(!e||"string"!=typeof e)return null;try{s=new DOMParser,t=s.parseFromString(e,"text/xml")}catch{t=0[0]}return(!t||t.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+e),t};var h,p,mt=/#.*$/,je=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,gt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vt=/^(?:GET|HEAD)$/,bt=/^\/\//,re=/^([\w.+-]+:)(?:\/\/(?:[^/?#]*@|)([^/?#:]*)(?::(\d+)|)|)/,me={},ne={},fe="*/".concat("*");try{h=location.href}catch{h=o.createElement("a"),h.href="",h=h.href}p=re.exec(h.toLowerCase())||[],n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:h,type:"GET",isLocal:gt.test(p[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,n.ajaxSettings),t):Y(n.ajaxSettings,e)},ajaxPrefilter:Te(me),ajaxTransport:Te(ne),ajax:function(e,t){function v(e,t,c,l){var h,p,g,v,O,d=t;2!==a&&(a=2,b&&clearTimeout(b),u=0[0],_=l||"",o.readyState=e>0?4:0,h=e>=200&&300>e||304===e,c&&(p=Qe(s,o,c)),p=Ft(s,p,o,h),h?(s.ifModified&&(g=o.getResponseHeader("Last-Modified"),g&&(n.lastModified[i]=g),g=o.getResponseHeader("etag"),g&&(n.etag[i]=g)),204===e||"HEAD"===s.type?d="nocontent":304===e?d="notmodified":(d=p.state,O=p.data,v=p.error,h=!v)):(v=d,(e||!d)&&(d="error",0>e&&(e=0))),o.status=e,o.statusText=(t||d)+"",h?j.resolveWith(r,[O,d,o]):j.rejectWith(r,[o,d,v]),o.statusCode(f),f=0[0],m&&y.trigger(h?"ajaxSuccess":"ajaxError",[o,s,h?O:v]),w.fireWith(r,[o,d]),m&&(y.trigger("ajaxComplete",[o,s]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=0[0]),t=t||{};var i,c,l,u,m,g,b,_,s=n.ajaxSetup({},t),r=s.context||s,y=s.context&&(r.nodeType||r.jquery)?n(r):n.event,j=n.Deferred(),w=n.Callbacks("once memory"),f=s.statusCode||{},O={},x={},a=0,C="canceled",o={readyState:0,getResponseHeader:function(e){var t;if(2===a){if(!g)for(g={};t=pt.exec(_);)g[t[1].toLowerCase()]=t[2];t=g[e.toLowerCase()]}return t??null},getAllResponseHeaders:function(){return 2===a?_:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return a||(e=x[n]=x[n]||e,O[e]=t),this},overrideMimeType:function(e){return a||(s.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>a)for(t in e)f[t]=[f[t],e[t]];else o.always(e[o.status]);return this},abort:function(e){var t=e||C;return u&&u.abort(t),v(0,t),this}};if(j.promise(o).complete=w.add,o.success=o.done,o.error=o.fail,s.url=((e||s.url||h)+"").replace(mt,"").replace(bt,p[1]+"//"),s.type=t.method||t.type||s.method||s.type,s.dataTypes=n.trim(s.dataType||"*").toLowerCase().match(d)||[""],null==s.crossDomain&&(c=re.exec(s.url.toLowerCase()),s.crossDomain=!(!c||c[1]===p[1]&&c[2]===p[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(p[3]||("http:"===p[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=n.param(s.data,s.traditional)),ie(me,s,t,o),2===a)return o;m=s.global,m&&0===n.active++&&n.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!vt.test(s.type),i=s.url,s.hasContent||(s.data&&(i=s.url+=(A.test(i)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=je.test(i)?i.replace(je,"$1_="+N++):i+(A.test(i)?"&":"?")+"_="+N++)),s.ifModified&&(n.lastModified[i]&&o.setRequestHeader("If-Modified-Since",n.lastModified[i]),n.etag[i]&&o.setRequestHeader("If-None-Match",n.etag[i])),(s.data&&s.hasContent&&s.contentType!==!1||t.contentType)&&o.setRequestHeader("Content-Type",s.contentType),o.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+fe+"; q=0.01":""):s.accepts["*"]);for(l in s.headers)o.setRequestHeader(l,s.headers[l]);if(s.beforeSend&&(s.beforeSend.call(r,o,s)===!1||2===a))return o.abort();C="abort";for(l in{success:1,error:1,complete:1})o[l](s[l]);if(u=ie(ne,s,t,o)){o.readyState=1,m&&y.trigger("ajaxSend",[o,s]),s.async&&s.timeout>0&&(b=setTimeout(function(){o.abort("timeout")},s.timeout));try{a=1,u.send(O,v)}catch(e){if(!(2>a))throw e;v(-1,e)}}else v(-1,"No Transport");return o},getJSON:function(e,t,s){return n.get(e,t,s,"json")},getScript:function(e,t){return n.get(e,0[0],t,"script")}}),n.each(["get","post"],function(e,t){n[t]=function(e,s,o,i){return n.isFunction(s)&&(i=i||o,o=s,s=0[0]),n.ajax({url:e,type:t,dataType:i,data:s,success:o})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){n.fn[t]=function(e){return this.on(t,e)}}),n._evalUrl=function(e){return n.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},n.fn.extend({wrapAll:function(e){var t;return n.isFunction(e)?this.each(function(t){n(this).wrapAll(e.call(this,t))}):(this[0]&&(t=n(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return n.isFunction(e)?this.each(function(t){n(this).wrapInner(e.call(this,t))}):this.each(function(){var t=n(this),s=t.contents();s.length?s.wrapAll(e):t.append(e)})},wrap:function(e){var t=n.isFunction(e);return this.each(function(s){n(this).wrapAll(t?e.call(this,s):e)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},n.expr.filters.visible=function(e){return!n.expr.filters.hidden(e)};var Ot=/%20/g,xt=/\[\]$/,pe=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;n.param=function(e,t){var s,o=[],i=function(e,t){t=n.isFunction(t)?t():t??"",o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(0[0]===t&&(t=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(e)||e.jquery&&!n.isPlainObject(e))n.each(e,function(){i(this.name,this.value)});else for(s in e)K(s,e[s],t,i);return o.join("&").replace(Ot,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=n.prop(this,"elements");return e?n.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!n(this).is(":disabled")&&kt.test(this.nodeName)&&!Et.test(e)&&(this.checked||!xe.test(e))}).map(function(e,t){var s=n(this).val();return s==null?null:n.isArray(s)?n.map(s,function(e){return{name:t.name,value:e.replace(pe,`\r
`)}}):{name:t.name,value:s.replace(pe,`\r
`)}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch{}};var At=0,k={},Mt={0:200,1223:204},E=n.ajaxSettings.xhr();return e.ActiveXObject&&n(e).on("unload",function(){for(var e in k)k[e]()}),i.cors=!!E&&"withCredentials"in E,i.ajax=E=!!E,n.ajaxTransport(function(e){var t;return i.cors||E&&!e.crossDomain?{send:function(n,s){var i,o=e.xhr(),a=++At;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete k[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?s(o.status,o.statusText):s(Mt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:0[0],o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=k[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:0[0]}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return n.globalEval(e),e}}}),n.ajaxPrefilter("script",function(e){0[0]===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),n.ajaxTransport("script",function(e){if(e.crossDomain){var t,s;return{send:function(i,a){s=n("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",t=function(e){s.remove(),t=null,e&&a("error"===e.type?404:200,e.type)}),o.head.appendChild(s[0])},abort:function(){t&&t()}}}}),Q=[],T=/(=)\?(?=&|$)|\?\?/,n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Q.pop()||n.expando+"_"+N++;return this[e]=!0,e}}),n.ajaxPrefilter("json jsonp",function(t,s,o){var i,a,r,c=t.jsonp!==!1&&(T.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&T.test(t.data)&&"data");return c||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=n.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,c?t[c]=t[c].replace(T,"$1"+i):t.jsonp!==!1&&(t.url+=(A.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||n.error(i+" was not called"),a[0]},t.dataTypes[0]="json",r=e[i],e[i]=function(){a=arguments},o.always(function(){e[i]=r,t[i]&&(t.jsonpCallback=s.jsonpCallback,Q.push(i)),a&&n.isFunction(r)&&r(a[0]),a=r=0[0]}),"script"):0[0]}),n.parseHTML=function(e,t,s){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(s=t,t=!1),t=t||o;var i=ae.exec(e),a=!s&&[];return i?[t.createElement(i[1])]:(i=n.buildFragment([e],t,a),a&&a.length&&n(a).remove(),n.merge([],i.childNodes))},J=n.fn.load,n.fn.load=function(e,t,s){if("string"!=typeof e&&J)return J.apply(this,arguments);var o,r,c,i=this,a=e.indexOf(" ");return a>=0&&(o=n.trim(e.slice(a)),e=e.slice(0,a)),n.isFunction(t)?(s=t,t=0[0]):t&&"object"==typeof t&&(r="POST"),i.length>0&&n.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){c=arguments,i.html(o?n("<div>").append(n.parseHTML(e)).find(o):e)}).complete(s&&function(e,t){i.each(s,c||[e.responseText,t,e])}),this},n.expr.filters.animated=function(e){return n.grep(n.timers,function(t){return e===t.elem}).length},Z=e.document.documentElement,n.offset={setOffset:function(e,t,s){var o,a,r,c,l,d,m,u=n.css(e,"position"),h=n(e),i={};"static"===u&&(e.style.position="relative"),o=h.offset(),c=n.css(e,"top"),d=n.css(e,"left"),m=("absolute"===u||"fixed"===u)&&(c+d).indexOf("auto")>-1,m?(a=h.position(),l=a.top,r=a.left):(l=parseFloat(c)||0,r=parseFloat(d)||0),n.isFunction(t)&&(t=t.call(e,s,o)),null!=t.top&&(i.top=t.top-o.top+l),null!=t.left&&(i.left=t.left-o.left+r),"using"in t?t.using.call(e,i):h.css(i)}},n.fn.extend({offset:function(e){if(arguments.length)return 0[0]===e?this:this.each(function(t){n.offset.setOffset(this,e,t)});var s,i,t=this[0],o={top:0,left:0},a=t&&t.ownerDocument;if(a)return s=a.documentElement,n.contains(s,t)?(typeof t.getBoundingClientRect!==b&&(o=t.getBoundingClientRect()),i=Ee(a),{top:o.top+i.pageYOffset-s.clientTop,left:o.left+i.pageXOffset-s.clientLeft}):o},position:function(){if(this[0]){var e,s,o=this[0],t={top:0,left:0};return"fixed"===n.css(o,"position")?s=o.getBoundingClientRect():(e=this.offsetParent(),s=this.offset(),n.nodeName(e[0],"html")||(t=e.offset()),t.top+=n.css(e[0],"borderTopWidth",!0),t.left+=n.css(e[0],"borderLeftWidth",!0)),{top:s.top-t.top-n.css(o,"marginTop",!0),left:s.left-t.left-n.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Z;e&&!n.nodeName(e,"html")&&"static"===n.css(e,"position");)e=e.offsetParent;return e||Z})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,s){var o="pageYOffset"===s;n.fn[t]=function(n){return u(this,function(t,n,i){var a=Ee(t);return 0[0]===i?a?a[s]:t[n]:void(a?a.scrollTo(o?e.pageXOffset:i,o?i:e.pageYOffset):t[n]=i)},t,n,arguments.length,null)}}),n.each(["top","left"],function(e,t){n.cssHooks[t]=Oe(i.pixelPosition,function(e,s){return s?(s=C(e,t),ee.test(s)?n(e).position()[t]+"px":s):0[0]})}),n.each({Height:"height",Width:"width"},function(e,t){n.each({padding:"inner"+e,content:t,"":"outer"+e},function(s,o){n.fn[o]=function(o,i){var a=arguments.length&&(s||"boolean"!=typeof o),r=s||(o===!0||i===!0?"margin":"border");return u(this,function(t,s,o){var i;return n.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):0[0]===o?n.css(t,s,r):n.style(t,s,o,r)},t,a?o:0[0],a,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n}),ve=e.jQuery,Re=e.$,n.noConflict=function(t){return e.$===n&&(e.$=Re),t&&e.jQuery===n&&(e.jQuery=ve),n},typeof t===b&&(e.jQuery=e.$=n),n}),function(){function C(t){function s(e,n,s,o,i,a){for(;i>=0&&a>i;i+=t){var r=o?o[i]:i;s=n(s,e[r],r,e)}return s}return function(o,i,r,c){i=a(i,c,4);var l=!n(o)&&e.keys(o),u=(l||o).length,d=t>0?0:u-1;return arguments.length<3&&(r=o[l?l[d]:d],d+=t),s(o,i,r,l,d,u)}}function O(e){return function(n,s,i){s=t(s,i);for(var r=o(n),a=e>0?0:r-1;a>=0&&r>a;a+=e)if(s(n[a],a,n))return a;return-1}}function _(t,n,i){return function(a,r,c){var d=0,l=o(a);if("number"==typeof c)t>0?d=c>=0?c:Math.max(c+l,d):l=c>=0?Math.min(c+1,l):c+l+1;else if(i&&c&&l)return c=i(a,r),a[c]===r?c:-1;if(r!==r)return c=n(s.call(a,d,l),e.isNaN),c>=0?c+d:-1;for(c=t>0?d:l-1;c>=0&&l>c;c+=t)if(a[c]===r)return c;return-1}}function S(t,n){var o=h.length,i=t.constructor,a=e.isFunction(i)&&i.prototype||y,s="constructor";for(e.has(t,s)&&!e.contains(n,s)&&n.push(s);o--;)s=h[o],s in t&&t[s]!==a[s]&&!e.contains(n,s)&&n.push(s)}var t,i,a,c,d,u,h,g,b,x,m=this,B=m._,l=Array.prototype,y=Object.prototype,z=Function.prototype,T=l.push,s=l.slice,r=y.toString,R=y.hasOwnProperty,N=Array.isArray,F=Object.keys,p=z.bind,M=Object.create,v=function(){},e=function(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports._=e):m._=e,e.VERSION="1.8.3",a=function(e,t,n){if(0[0]===t)return e;switch(n??3){case 1:return function(n){return e.call(t,n)};case 2:return function(n,s){return e.call(t,n,s)};case 3:return function(n,s,o){return e.call(t,n,s,o)};case 4:return function(n,s,o,i){return e.call(t,n,s,o,i)}}return function(){return e.apply(t,arguments)}},t=function(t,n,s){return t==null?e.identity:e.isFunction(t)?a(t,n,s):e.isObject(t)?e.matcher(t):e.property(t)},e.iteratee=function(e,n){return t(e,n,1/0)};var f=function(e,t){return function(n){if(i=arguments.length,2>i||n==null)return n;for(s=1;i>s;s++)for(var s,o,i,r=arguments[s],c=e(r),l=c.length,a=0;l>a;a++)o=c[a],t&&0[0]!==n[o]||(n[o]=r[o]);return n}},w=function(t){if(!e.isObject(t))return{};if(M)return M(t);v.prototype=t;var n=new v;return v.prototype=null,n},E=function(e){return function(t){return t?.[e]}},L=2**53-1,o=E("length"),n=function(e){var t=o(e);return"number"==typeof t&&t>=0&&L>=t};e.each=e.forEach=function(t,s,o){if(s=a(s,o),n(t))for(i=0,r=t.length;r>i;i++)s(t[i],i,t);else{var i,r,c=e.keys(t);for(i=0,r=c.length;r>i;i++)s(t[c[i]],c[i],t)}return t},e.map=e.collect=function(s,o,i){o=t(o,i);for(var c,r=!n(s)&&e.keys(s),l=(r||s).length,d=Array(l),a=0;l>a;a++)c=r?r[a]:a,d[a]=o(s[c],c,s);return d},e.reduce=e.foldl=e.inject=C(1),e.reduceRight=e.foldr=C(-1),e.find=e.detect=function(t,s,o){var i;return i=n(t)?e.findIndex(t,s,o):e.findKey(t,s,o),0[0]!==i&&-1!==i?t[i]:0[0]},e.filter=e.select=function(n,s,o){var i=[];return s=t(s,o),e.each(n,function(e,t,n){s(e,t,n)&&i.push(e)}),i},e.reject=function(n,s,o){return e.filter(n,e.negate(t(s)),o)},e.every=e.all=function(s,o,i){o=t(o,i);for(var c,r=!n(s)&&e.keys(s),l=(r||s).length,a=0;l>a;a++)if(c=r?r[a]:a,!o(s[c],c,s))return!1;return!0},e.some=e.any=function(s,o,i){o=t(o,i);for(var c,r=!n(s)&&e.keys(s),l=(r||s).length,a=0;l>a;a++)if(c=r?r[a]:a,o(s[c],c,s))return!0;return!1},e.contains=e.includes=e.include=function(t,s,o,i){return n(t)||(t=e.values(t)),("number"!=typeof o||i)&&(o=0),e.indexOf(t,s,o)>=0},e.invoke=function(t,n){var o=s.call(arguments,2),i=e.isFunction(n);return e.map(t,function(e){var t=i?n:e[n];return t==null?t:t.apply(e,o)})},e.pluck=function(t,n){return e.map(t,e.property(n))},e.where=function(t,n){return e.filter(t,e.matcher(n))},e.findWhere=function(t,n){return e.find(t,e.matcher(n))},e.max=function(s,o,i){var r,c,l,u,a=-(1/0),d=-(1/0);if(o==null&&s!=null){s=n(s)?s:e.values(s);for(c=0,u=s.length;u>c;c++)l=s[c],l>a&&(a=l)}else o=t(o,i),e.each(s,function(e,t,n){r=o(e,t,n),(r>d||r===-(1/0)&&a===-(1/0))&&(a=e,d=r)});return a},e.min=function(s,o,i){var r,c,l,u,a=1/0,d=1/0;if(o==null&&s!=null){s=n(s)?s:e.values(s);for(c=0,u=s.length;u>c;c++)l=s[c],a>l&&(a=l)}else o=t(o,i),e.each(s,function(e,t,n){r=o(e,t,n),(d>r||r===1/0&&a===1/0)&&(a=e,d=r)});return a},e.shuffle=function(t){for(var o,a=n(t)?t:e.values(t),r=a.length,i=Array(r),s=0;r>s;s++)o=e.random(0,s),o!==s&&(i[s]=i[o]),i[o]=a[s];return i},e.sample=function(t,s,o){return s==null||o?(n(t)||(t=e.values(t)),t[e.random(t.length-1)]):e.shuffle(t).slice(0,Math.max(0,s))},e.sortBy=function(n,s,o){return s=t(s,o),e.pluck(e.map(n,function(e,t,n){return{value:e,index:t,criteria:s(e,t,n)}}).sort(function(e,t){var n=e.criteria,s=t.criteria;if(n!==s){if(n>s||0[0]===n)return 1;if(s>n||0[0]===s)return-1}return e.index-t.index}),"value")},u=function(n){return function(s,o,i){var a={};return o=t(o,i),e.each(s,function(e,t){var i=o(e,t,s);n(a,e,i)}),a}},e.groupBy=u(function(t,n,s){e.has(t,s)?t[s].push(n):t[s]=[n]}),e.indexBy=u(function(e,t,n){e[n]=t}),e.countBy=u(function(t,n,s){e.has(t,s)?t[s]++:t[s]=1}),e.toArray=function(t){return t?e.isArray(t)?s.call(t):n(t)?e.map(t,e.identity):e.values(t):[]},e.size=function(t){return t==null?0:n(t)?t.length:e.keys(t).length},e.partition=function(n,s,o){s=t(s,o);var i=[],a=[];return e.each(n,function(e,t,n){(s(e,t,n)?i:a).push(e)}),[i,a]},e.first=e.head=e.take=function(t,n,s){return t==null?0[0]:n==null||s?t[0]:e.initial(t,t.length-n)},e.initial=function(e,t,n){return s.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))},e.last=function(t,n,s){return t==null?0[0]:n==null||s?t[t.length-1]:e.rest(t,Math.max(0,t.length-n))},e.rest=e.tail=e.drop=function(e,t,n){return s.call(e,t==null||n?1:t)},e.compact=function(t){return e.filter(t,e.identity)},i=function(t,s,a,r){for(var c,u,h,l=[],m=0,d=r||0,f=o(t);f>d;d++)if(c=t[d],n(c)&&(e.isArray(c)||e.isArguments(c))){s||(c=i(c,s,a)),u=0,h=c.length;for(l.length+=h;h>u;)l[m++]=c[u++]}else a||(l[m++]=c);return l},e.flatten=function(e,t){return i(e,t,!1)},e.without=function(t){return e.difference(t,s.call(arguments,1))},e.uniq=e.unique=function(n,s,i,a){e.isBoolean(s)||(a=i,i=s,s=!1),i!=null&&(i=t(i,a));for(var r,d,c=[],u=[],l=0,h=o(n);h>l;l++)r=n[l],d=i?i(r,l,n):r,s?(l&&u===d||c.push(r),u=d):i?e.contains(u,d)||(u.push(d),c.push(r)):e.contains(c,r)||c.push(r);return c},e.union=function(){return e.uniq(i(arguments,!0,!0))},e.intersection=function(t){for(var n,s,i=[],r=arguments.length,a=0,c=o(t);c>a;a++)if(s=t[a],!e.contains(i,s)){for(n=1;r>n&&e.contains(arguments[n],s);n++);n===r&&i.push(s)}return i},e.difference=function(t){var n=i(arguments,!0,!0,1);return e.filter(t,function(t){return!e.contains(n,t)})},e.zip=function(){return e.unzip(arguments)},e.unzip=function(t){for(var s=t&&e.max(t,o).length||0,i=Array(s),n=0;s>n;n++)i[n]=e.pluck(t,n);return i},e.object=function(e,t){for(var s={},n=0,i=o(e);i>n;n++)t?s[e[n]]=t[n]:s[e[n][0]]=e[n][1];return s},e.findIndex=O(1),e.findLastIndex=O(-1),e.sortedIndex=function(e,n,s,i){s=t(s,i,1);for(var r,l=s(n),a=0,c=o(e);c>a;)r=Math.floor((a+c)/2),s(e[r])<l?a=r+1:c=r;return a},e.indexOf=_(1,e.findIndex,e.sortedIndex),e.lastIndexOf=_(-1,e.findLastIndex),e.range=function(e,t,n){t==null&&(t=e||0,e=0),n=n||1;for(var o=Math.max(Math.ceil((t-e)/n),0),i=Array(o),s=0;o>s;s++,e+=n)i[s]=e;return i},b=function(t,n,s,o,i){if(!(o instanceof n))return t.apply(s,i);var a=w(t.prototype),r=t.apply(a,i);return e.isObject(r)?r:a},e.bind=function(t,n){if(p&&t.bind===p)return p.apply(t,s.call(arguments,1));if(!e.isFunction(t))throw new TypeError("Bind must be called on a function");var i=s.call(arguments,2),o=function(){return b(t,o,n,this,i.concat(s.call(arguments)))};return o},e.partial=function(t){var n=s.call(arguments,1),o=function(){for(var i=0,r=n.length,a=Array(r),s=0;r>s;s++)a[s]=n[s]===e?arguments[i++]:n[s];for(;i<arguments.length;)a.push(arguments[i++]);return b(t,o,this,this,a)};return o},e.bindAll=function(t){var n,s,o=arguments.length;if(1>=o)throw new Error("bindAll must be passed function names");for(n=1;o>n;n++)s=arguments[n],t[s]=e.bind(t[s],t);return t},e.memoize=function(t,n){var s=function(o){var i=s.cache,a=""+(n?n.apply(this,arguments):o);return e.has(i,a)||(i[a]=t.apply(this,arguments)),i[a]};return s.cache={},s},e.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},e.defer=e.partial(e.delay,e,1),e.throttle=function(t,n,s){var i,a,c,l,o=null,r=0;return s||(s={}),l=function(){r=s.leading===!1?0:e.now(),o=null,c=t.apply(i,a),o||(i=a=null)},function(){var d,u=e.now();return r||s.leading!==!1||(r=u),d=n-(u-r),i=this,a=arguments,0>=d||d>n?(o&&(clearTimeout(o),o=null),r=u,c=t.apply(i,a),o||(i=a=null)):o||s.trailing===!1||(o=setTimeout(l,d)),c}},e.debounce=function(t,n,s){var o,i,a,r,c,l=function(){var d=e.now()-c;n>d&&d>=0?o=setTimeout(l,n-d):(o=null,s||(r=t.apply(a,i),o||(a=i=null)))};return function(){a=this,i=arguments,c=e.now();var d=s&&!o;return o||(o=setTimeout(l,n)),d&&(r=t.apply(a,i),a=i=null),r}},e.wrap=function(t,n){return e.partial(n,t)},e.negate=function(e){return function(){return!e.apply(this,arguments)}},e.compose=function(){var e=arguments,t=e.length-1;return function(){for(var s=t,n=e[t].apply(this,arguments);s--;)n=e[s].call(this,n);return n}},e.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):0[0]}},e.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},e.once=e.partial(e.before,2),g=!{toString:null}.propertyIsEnumerable("toString"),h=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],e.keys=function(t){if(!e.isObject(t))return[];if(F)return F(t);var s,n=[];for(s in t)e.has(t,s)&&n.push(s);return g&&S(t,n),n},e.allKeys=function(t){if(!e.isObject(t))return[];var s,n=[];for(s in t)n.push(s);return g&&S(t,n),n},e.values=function(t){for(var s=e.keys(t),o=s.length,i=Array(o),n=0;o>n;n++)i[n]=t[s[n]];return i},e.mapObject=function(n,s,o){s=t(s,o);for(var i,r=e.keys(n),l=r.length,c={},a=0;l>a;a++)i=r[a],c[i]=s(n[i],i,n);return c},e.pairs=function(t){for(var s=e.keys(t),o=s.length,i=Array(o),n=0;o>n;n++)i[n]=[s[n],t[s[n]]];return i},e.invert=function(t){for(var o={},s=e.keys(t),n=0,i=s.length;i>n;n++)o[t[s[n]]]=s[n];return o},e.functions=e.methods=function(t){var s,n=[];for(s in t)e.isFunction(t[s])&&n.push(s);return n.sort()},e.extend=f(e.allKeys),e.extendOwn=e.assign=f(e.keys),e.findKey=function(n,s,o){s=t(s,o);for(var i,r=e.keys(n),a=0,c=r.length;c>a;a++)if(i=r[a],s(n[i],i,n))return i},e.pick=function(t,n,s){var r,c,l,d,h,m,u={},o=t;if(o==null)return u;e.isFunction(n)?(r=e.allKeys(o),d=a(n,s)):(r=i(arguments,!1,!1,1),d=function(e,t,n){return t in n},o=Object(o));for(c=0,m=r.length;m>c;c++)l=r[c],h=o[l],d(h,l,o)&&(u[l]=h);return u},e.omit=function(t,n,s){if(e.isFunction(n))n=e.negate(n);else{var o=e.map(i(arguments,!1,!1,1),String);n=function(t,n){return!e.contains(o,n)}}return e.pick(t,n,s)},e.defaults=f(e.allKeys,!0),e.create=function(t,n){var s=w(t);return n&&e.extendOwn(s,n),s},e.clone=function(t){return e.isObject(t)?e.isArray(t)?t.slice():e.extend({},t):t},e.tap=function(e,t){return t(e),e},e.isMatch=function(t,n){var s,o,i,a=e.keys(n),r=a.length;if(t==null)return!r;for(i=Object(t),s=0;r>s;s++)if(o=a[s],n[o]!==i[o]||!(o in i))return!1;return!0},d=function(t,n,s,o){if(t===n)return 0!==t||1/t===1/n;if(t==null||n==null)return t===n;if(t instanceof e&&(t=t._wrapped),n instanceof e&&(n=n._wrapped),a=r.call(t),a!==r.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!==+t?+n!==+n:0===+t?1/+t===1/n:+t===+n;case"[object Date]":case"[object Boolean]":return+t===+n}if(h="[object Array]"===a,!h){if("object"!=typeof t||"object"!=typeof n)return!1;var i,a,u,h,m,c=t.constructor,l=n.constructor;if(c!==l&&!(e.isFunction(c)&&c instanceof c&&e.isFunction(l)&&l instanceof l)&&"constructor"in t&&"constructor"in n)return!1}s=s||[],o=o||[];for(i=s.length;i--;)if(s[i]===t)return o[i]===n;if(s.push(t),o.push(n),h){{if(i=t.length,i!==n.length)return!1;for(;i--;)if(!d(t[i],n[i],s,o))return!1}}else{if(m=e.keys(t),i=m.length,e.keys(n).length!==i)return!1;for(;i--;)if(u=m[i],!e.has(n,u)||!d(t[u],n[u],s,o))return!1}return s.pop(),o.pop(),!0},e.isEqual=function(e,t){return d(e,t)},e.isEmpty=function(t){return t==null||(n(t)&&(e.isArray(t)||e.isString(t)||e.isArguments(t))?0===t.length:0===e.keys(t).length)},e.isElement=function(e){return!!e&&1===e.nodeType},e.isArray=N||function(e){return"[object Array]"===r.call(e)},e.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},e.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){e["is"+t]=function(e){return r.call(e)==="[object "+t+"]"}}),e.isArguments(arguments)||(e.isArguments=function(t){return e.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(e.isFunction=function(e){return"function"==typeof e||!1}),e.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},e.isNaN=function(t){return e.isNumber(t)&&t!==+t},e.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===r.call(e)},e.isNull=function(e){return null===e},e.isUndefined=function(e){return 0[0]===e},e.has=function(e,t){return e!=null&&R.call(e,t)},e.noConflict=function(){return m._=B,this},e.identity=function(e){return e},e.constant=function(e){return function(){return e}},e.noop=function(){},e.property=E,e.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}},e.matcher=e.matches=function(t){return t=e.extendOwn({},t),function(n){return e.isMatch(n,t)}},e.times=function(e,t,n){var s,o=Array(Math.max(0,e));t=a(t,n,1);for(s=0;e>s;s++)o[s]=t(s);return o},e.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},e.now=Date.now||function(){return(new Date).getTime()};var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=e.invert(A),k=function(t){var s=function(e){return t[e]},n="(?:"+e.keys(t).join("|")+")",o=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==null?"":""+e,o.test(e)?e.replace(i,s):e}};e.escape=k(A),e.unescape=k(D),e.result=function(t,n,s){var o=t?.[n];return 0[0]===o&&(o=s),e.isFunction(o)?o.call(t):o},x=0,e.uniqueId=function(e){var t=++x+"";return e?e+t:t},e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n"," ":"u2028"," ":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,I=function(e){return"\\"+P[e]};e.template=function(t,n,s){!n&&s&&(n=s),n=e.defaults({},n,e.templateSettings);var i,r,c,l=RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),a=0,o="__p+='";t.replace(l,function(e,n,s,i,r){return o+=t.slice(a,r).replace(H,I),a=r+e.length,n?o+=`'+
((__t=(`+n+`))==null?'':_.escape(__t))+
'`:s?o+=`'+
((__t=(`+s+`))==null?'':__t)+
'`:i&&(o+=`';
`+i+`
__p+='`),e}),o+=`';
`,n.variable||(o=`with(obj||{}){
`+o+`}
`),o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;try{r=new Function(n.variable||"obj","_",o)}catch(e){throw e.source=o,e}return i=function(t){return r.call(this,t,e)},c=n.variable||"obj",i.source="function("+c+`){
`+o+"}",i},e.chain=function(t){var n=e(t);return n._chain=!0,n},c=function(t,n){return t._chain?e(n).chain():n},e.mixin=function(t){e.each(e.functions(t),function(n){var s=e[n]=t[n];e.prototype[n]=function(){var t=[this._wrapped];return T.apply(t,arguments),c(this,s.apply(e,t))}})},e.mixin(e),e.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=l[t];e.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],c(this,e)}}),e.each(["concat","join","slice"],function(t){var n=l[t];e.prototype[t]=function(){return c(this,n.apply(this._wrapped,arguments))}}),e.prototype.value=function(){return this._wrapped},e.prototype.valueOf=e.prototype.toJSON=e.prototype.value,e.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return e})}.call(this),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,s,o){e.Backbone=t(e,o,n,s)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,s){var M=e.Backbone,h=[],l=(h.push,h.slice);h.splice,t.VERSION="1.1.2",t.$=s,t.noConflict=function(){return e.Backbone=M,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=t.Events={on:function(e,t,n){if(!d(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var s=this._events[e]||(this._events[e]=[]);return s.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,s){if(!d(this,"once",e,[t,s])||!t)return this;var i=this,o=n.once(function(){i.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,s)},off:function(e,t,s){var o,i,a,r,c,l,u,h;if(!this._events||!d(this,"off",e,[t,s]))return this;if(!e&&!t&&!s)return this._events=0[0],this;for(l=e?[e]:n.keys(this._events),i=0,u=l.length;u>i;i++)if(e=l[i],c=this._events[e]){if(this._events[e]=r=[],t||s)for(a=0,h=c.length;h>a;a++)o=c[a],(t&&t!==o.callback&&t!==o.callback._callback||s&&s!==o.context)&&r.push(o);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;if(t=l.call(arguments,1),!d(this,"trigger",e,t))return this;var t,n=this._events[e],s=this._events.all;return n&&g(n,t),s&&g(s,arguments),this},stopListening:function(e,t,s){var i,a,o=this._listeningTo;if(!o)return this;i=!t&&!s,s||"object"!=typeof t||(s=this),e&&((o={})[e._listenId]=e);for(a in o)e=o[a],e.off(t,s,this),(i||n.isEmpty(e._events))&&delete this._listeningTo[a];return this}},m=/\s+/,d=function(e,t,n,s){if(!n)return!0;if("object"==typeof n){for(i in n)e[t].apply(e,[i,n[i]].concat(s));return!1}if(m.test(n)){for(var i,a=n.split(m),o=0,r=a.length;r>o;o++)e[t].apply(e,[a[o]].concat(s));return!1}return!0},g=function(e,t){var n,s=-1,o=e.length,i=t[0],a=t[1],r=t[2];switch(t.length){case 0:for(;++s<o;)(n=e[s]).callback.call(n.ctx);return;case 1:for(;++s<o;)(n=e[s]).callback.call(n.ctx,i);return;case 2:for(;++s<o;)(n=e[s]).callback.call(n.ctx,i,a);return;case 3:for(;++s<o;)(n=e[s]).callback.call(n.ctx,i,a,r);return;default:for(;++s<o;)(n=e[s]).callback.apply(n.ctx,t);return}},R={listenTo:"on",listenToOnce:"once"};n.each(R,function(e,t){o[t]=function(t,s,o){var i=this._listeningTo||(this._listeningTo={}),a=t._listenId||(t._listenId=n.uniqueId("l"));return i[a]=t,o||"object"!=typeof s||(o=this),t[e](s,o,this),this}}),o.bind=o.on,o.unbind=o.off,n.extend(t,o),a=t.Model=function(e,t){var s=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(s=this.parse(s,t)||{}),s=n.defaults({},s,n.result(this,"defaults")),this.set(s,t),this.changed={},this.initialize.apply(this,arguments)},n.extend(a.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,s){if(e==null)return this;if("object"==typeof e?(i=e,s=t):(i={})[e]=t,s||(s={}),!this._validate(i,s))return!1;u=s.unset,l=s.silent,a=[],d=this._changing,this._changing=!0,d||(this._previousAttributes=n.clone(this.attributes),this.changed={}),r=this.attributes,h=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(o in i)t=i[o],n.isEqual(r[o],t)||a.push(o),n.isEqual(h[o],t)?delete this.changed[o]:this.changed[o]=t,u?delete r[o]:r[o]=t;if(!l){a.length&&(this._pending=s);for(var o,i,a,r,l,d,u,h,c=0,m=a.length;m>c;c++)this.trigger("change:"+a[c],this,r[a[c]],s)}if(d)return this;if(!l)for(;this._pending;)s=this._pending,this._pending=!1,this.trigger("change",this,s);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,0[0],n.extend({},t,{unset:!0}))},clear:function(e){var s,t={};for(s in this.attributes)t[s]=0[0];return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var s,o,t=!1,i=this._changing?this._previousAttributes:this.attributes;for(s in e)n.isEqual(i[s],o=e[s])||((t||(t={}))[s]=o);return t},previous:function(e){return e!=null&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},0[0]===e.parse&&(e.parse=!0);var t=this,s=e.success;return e.success=function(n){return!!t.set(t.parse(n,e),e)&&(s&&s(t,n,e),void t.trigger("sync",t,n,e))},r(this,e),this.sync("read",this,e)},save:function(e,t,s){if(a=this.attributes,e==null||"object"==typeof e?(o=e,s=t):(o={})[e]=t,s=n.extend({validate:!0},s),o&&!s.wait){if(!this.set(o,s))return!1}else if(!this._validate(o,s))return!1;o&&s.wait&&(this.attributes=n.extend({},a,o)),0[0]===s.parse&&(s.parse=!0);var o,a,c,l,i=this,d=s.success;return s.success=function(e){i.attributes=a;var t=i.parse(e,s);return s.wait&&(t=n.extend(o||{},t)),!(n.isObject(t)&&!i.set(t,s))&&(d&&d(i,e,s),void i.trigger("sync",i,e,s))},r(this,s),c=this.isNew()?"create":s.patch?"patch":"update","patch"===c&&(s.attrs=o),l=this.sync(c,this,s),o&&s.wait&&(this.attributes=a),l},destroy:function(e){e=e?n.clone(e):{};var i,t=this,s=e.success,o=function(){t.trigger("destroy",t,t.collection,e)};return e.success=function(n){(e.wait||t.isNew())&&o(),s&&s(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew()?(e.success(),!1):(r(this,e),i=this.sync("delete",this,e),e.wait||o(),i)},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||u();return this.isNew()?e:e.replace(/([^/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var s=this.validationError=this.validate(e,t)||null;return!s||(this.trigger("invalid",this,s,n.extend(t,{validationError:s})),!1)}}),f=["keys","values","pairs","invert","pick","omit"],n.each(f,function(e){a.prototype[e]=function(){var t=l.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var c=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),0[0]!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},L={add:!0,remove:!0,merge:!0},N={add:!0,remove:!1};n.extend(c.prototype,o,{model:a,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,N))},remove:function(e,t){var s,o,i,r,a=!n.isArray(e);e=a?[e]:n.clone(e),t||(t={});for(o=0,r=e.length;r>o;o++)s=e[o]=this.get(e[o]),s&&(delete this._byId[s.id],delete this._byId[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s,t));return a?e[0]:e},set:function(e,t){t=n.defaults({},t,L),t.parse&&(e=this.parse(e,t)),f=!n.isArray(e),e=f?e?[e]:[]:n.clone(e);var s,o,i,r,d,u,f,b,y,g=t.at,w=this.model,m=this.comparator&&g==null&&t.sort!==!1,_=n.isString(this.comparator)?this.comparator:null,c=[],p=[],h={},j=t.add,O=t.merge,v=t.remove,l=!!(!m&&j&&v)&&[];for(s=0,r=e.length;r>s;s++){if(i=e[s]||{},y=i instanceof a?o=i:i[w.prototype.idAttribute||"id"],d=this.get(y))v&&(h[d.cid]=!0),O&&(i=i===o?o.attributes:i,t.parse&&(i=d.parse(i,t)),d.set(i,t),m&&!u&&d.hasChanged(_)&&(u=!0)),e[s]=d;else if(j){if(o=e[s]=this._prepareModel(i,t),!o)continue;c.push(o),this._addReference(o,t)}o=d||o,!l||!o.isNew()&&h[o.id]||l.push(o),h[o.id]=!0}if(v){for(s=0,r=this.length;r>s;++s)h[(o=this.models[s]).cid]||p.push(o);p.length&&this.remove(p,t)}if(c.length||l&&l.length)if(m&&(u=!0),this.length+=c.length,g!=null)for(s=0,r=c.length;r>s;s++)this.models.splice(g+s,0,c[s]);else{l&&(this.models.length=0),b=l||c;for(s=0,r=b.length;r>s;s++)this.models.push(b[s])}if(u&&this.sort({silent:!0}),!t.silent){for(s=0,r=c.length;r>s;s++)(o=c[s]).trigger("add",o,this,t);(u||l&&l.length)&&this.trigger("sort",this,t)}return f?e[0]:e},reset:function(e,t){t||(t={});for(var s=0,o=this.models.length;o>s;s++)this._removeReference(this.models[s],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return l.apply(this.models,arguments)},get:function(e){return e==null?0[0]:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?0[0]:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},0[0]===e.parse&&(e.parse=!0);var s=e.success,t=this;return e.success=function(n){var o=e.reset?"reset":"set";t[o](n,e),s&&s(t,n,e),t.trigger("sync",t,n,e)},r(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var o=this,s=t.success;return t.success=function(e,n){t.wait&&o.add(e,t),s&&s(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof a)return e;t=t?n.clone(t):{},t.collection=this;var s=new this.model(e,t);return s.validationError?(this.trigger("invalid",this,s.validationError,t),!1):s},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,s){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,s),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}}),b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],n.each(b,function(e){c.prototype[e]=function(){var t=l.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}}),j=["groupBy","countBy","sortBy","indexBy"],n.each(j,function(e){c.prototype[e]=function(t,s){var o=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,o,s)}});var y=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,S)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];n.extend(y.prototype,o,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(s in e)if(t=e[s],n.isFunction(t)||(t=this[e[s]]),t){var t,s,i=s.match(x),o=i[1],a=i[2];t=n.bind(t,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,t):this.$el.on(o,a,t)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var s,e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),s=t.$("<"+n.result(this,"tagName")+">").attr(e),this.setElement(s,!1)}}}),t.sync=function(e,s,o){var i,r,c,a=O[e];return n.defaults(o||(o={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON}),i={type:a,dataType:"json"},(o.url||(i.url=n.result(s,"url")||u()),null!=o.data||!s||"create"!==e&&"update"!==e&&"patch"!==e||(i.contentType="application/json",i.data=JSON.stringify(o.attrs||s.toJSON(o))),o.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{}),o.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a))&&(i.type="POST",o.emulateJSON&&(i.data._method=a),r=o.beforeSend,o.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),r?r.apply(this,arguments):0[0]}),"GET"===i.type||o.emulateJSON||(i.processData=!1),"PATCH"===i.type&&w&&(i.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}),c=o.xhr=t.ajax(n.extend(i,o)),s.trigger("request",s,c,o),c},w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),O={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"},t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var p=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,k=/\*\w+/g,A=/[-{}[\]+?.,\\^$|#\s]/g;n.extend(p.prototype,o,{initialize:function(){},route:function(e,s,o){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(s)&&(o=s,s=""),o||(o=this[s]);var i=this;return t.history.route(e,function(n){var a=i._extractParameters(e,n);i.execute(o,a),i.trigger.apply(i,["route:"+s].concat(a)),i.trigger("route",s,a),t.history.trigger("route",i,s,a)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(C,"(?:$1)?").replace(E,function(e,t){return t?e:"([^/?]+)"}).replace(k,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var s=e.exec(t).slice(1);return n.map(s,function(e,t){return t===s.length-1?e||null:e?decodeURIComponent(e):null})}});var a,r,u,f,v,b,j,w,O,i=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},_=/^[#/]|\s+$/g,F=/^\/+|\/+$/g,T=/msie [\w.]+/,z=/\/$/,D=/#.*$/;return i.started=!1,n.extend(i.prototype,o,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(z,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(e){if(i.started)throw new Error("Backbone.history has already been started");i.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r,c,s=this.getFragment(),o=document.documentMode,a=T.exec(navigator.userAgent.toLowerCase())&&(!o||7>=o);if((this.root=("/"+this.root+"/").replace(F,"/"),a&&this._wantsHashChange)&&(r=t.$('<iframe src="javascript:0" tabindex="-1">'),this.iframe=r.hide().appendTo("body")[0].contentWindow,this.navigate(s)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=s,c=this.location,this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&c.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?0[0]:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),i.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t!==this.fragment&&(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):0[0]})},navigate:function(e,t){if(!i.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(D,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):0[0]}},_updateHash:function(e,t,n){if(n){var s=e.href.replace(/(javascript:|#).*$/,"");e.replace(s+"#"+t)}else e.hash="#"+t}}),t.history=new i,v=function(e,t){var i,o=this,s=e&&n.has(e,"constructor")?e.constructor:function(){return o.apply(this,arguments)};return n.extend(s,o,t),i=function(){this.constructor=s},i.prototype=o.prototype,s.prototype=new i,e&&n.extend(s.prototype,e),s.__super__=o.prototype,s},a.extend=c.extend=p.extend=y.extend=i.extend=v,u=function(){throw new Error('A "url" property or function must be specified')},r=function(e,t){var n=t.error;t.error=function(s){n&&n(e,s,t),e.trigger("error",e,s,t)}},t}),define("lib/amd-wrapped/modernizr",[],function(){window.Modernizr=function(e,t,n){function T(e){E.cssText=e}function r(e,t){return typeof e===t}function z(e,t){return!!~(""+e).indexOf(t)}function j(e,t){for(o in e){var o,s=e[o];if(!z(s,"-")&&E[s]!==n)return"pfx"!=t||s}return!1}function S(e,t,s){for(i in e){var i,o=t[e[i]];if(o!==n)return s===!1?e[i]:r(o,"function")?o.bind(s||t):o}return!1}function m(e,t,n){var s=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+O.join(s+" ")+s).split(" ");return r(t,"string")||r(t,"undefined")?j(o,t):(o=(e+" "+x.join(s+" ")+s).split(" "),S(o,t,n))}function A(){s.input=function(n){for(var s=0,i=n.length;i>s;s++)l[n[s]]=n[s]in o;return l.list&&(l.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),l}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),s.inputtypes=function(e){for(var s,a,c,r=0,l=e.length;l>r;r++)o.setAttribute("type",a=e[r]),s="text"!==o.type,s&&(o.value=y,o.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(a)&&o.style.WebkitAppearance!==n?(i.appendChild(o),c=t.defaultView,s=c.getComputedStyle&&"textfield"!==c.getComputedStyle(o,null).WebkitAppearance&&0!==o.offsetHeight,i.removeChild(o)):/^(search|tel)$/.test(a)||(s=/^(url|email)$/.test(a)?o.checkValidity&&o.checkValidity()===!1:o.value!=y)),b[e[r]]=!!s;return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,g,k="2.8.3",s={},f=!0,i=t.documentElement,a="modernizr",v=t.createElement(a),E=v.style,o=t.createElement("input"),y=":)",M=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",O=w.split(" "),x=w.toLowerCase().split(" "),c={},b={},l={},h=[],p=h.slice,_=function(e,n,s,o){var d,u,h,m,r=t.createElement("div"),l=t.body,c=l||t.createElement("body");if(parseInt(s,10))for(;s--;)d=t.createElement("div"),d.id=o?o[s]:a+(s+1),r.appendChild(d);return u=["&#173;",'<style id="s',a,'">',e,"</style>"].join(""),r.id=a,(l?r:c).innerHTML+=u,c.appendChild(r),l||(c.style.background="",c.style.overflow="hidden",m=i.style.overflow,i.style.overflow="hidden",i.appendChild(c)),h=n(r,e),l?r.parentNode.removeChild(r):(c.parentNode.removeChild(c),i.style.overflow=m),!!h},F=function(t){var s,n=e.matchMedia||e.msMatchMedia;return n?n(t)&&n(t).matches||!1:(_("@media "+t+" { #"+a+" { position: absolute; } }",function(t){s="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),s)},u={}.hasOwnProperty,C=r(u,"undefined")||r(u.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return u.call(e,t)};Function.prototype.bind||(Function.prototype.bind=function(e){if(t=this,"function"!=typeof t)throw new TypeError;var t,n=p.call(arguments,1),s=function(){if(this instanceof s){o=function(){},o.prototype=t.prototype;var o,a=new o,i=t.apply(a,n.concat(p.call(arguments)));return Object(i)===i?i:a}return t.apply(e,n.concat(p.call(arguments)))};return s}),c.touch=function(){return!!("ontouchstart"in e||e.navigator.maxTouchPoints)},c.localstorage=function(){try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch{return!1}};for(g in c)C(c,g)&&(d=g.toLowerCase(),s[d]=c[g](),h.push((s[d]?"":"no-")+d));return s.input||A(),s.addTest=function(e,t){if("object"==typeof e)for(var o in e)C(e,o)&&s.addTest(o,e[o]);else{if(e=e.toLowerCase(),s[e]!==n)return s;t="function"==typeof t?t():t,"undefined"!=typeof f&&f&&(i.className+=" "+(t?"":"no-")+e),s[e]=t}return s},T(""),v=o=null,s._version=k,s._prefixes=M,s._domPrefixes=x,s._cssomPrefixes=O,s.mq=F,s.testProp=function(e){return j([e])},s.testAllProps=m,s.testStyles=_,s.prefixed=function(e,t,n){return t?m(e,t,n):m(e,"pfx")},i.className=i.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+h.join(" "):""),s}(window,window.document),Modernizr.addTest("xhr2","FormData"in window),Modernizr.addTest("ipad",function(){return!!navigator.userAgent.match(/iPad/i)}),Modernizr.addTest("iphone",function(){return!!navigator.userAgent.match(/iPhone/i)}),Modernizr.addTest("ipod",function(){return!!navigator.userAgent.match(/iPod/i)}),Modernizr.addTest("appleios",function(){return Modernizr.ipad||Modernizr.ipod||Modernizr.iphone});var n,e=navigator.userAgent.match(/Android ([\d+.]{3,5})/)||[],t=e.length&&e.length>1;return(Modernizr.addTest("android",function(){return t}),t)&&(n=e[1].charAt(0),Modernizr.addTest("android"+n,!0)),Modernizr.addTest("ioswebview",function(){return Modernizr.appleios&&!/Safari/.test(navigator.userAgent)}),Modernizr.addTest("facebookapp",function(){return/FBAV/.test(navigator.userAgent)}),Modernizr.addTest("windows",function(){return(navigator.appVersion.match(/Win/)||[]).length}),Modernizr}),define("lib/jquery.cloudinarySimple",["jquery"],function(e){!function(e){function h(e){if(null===e||"undefined"==typeof e)return"";for(var t,n,r,o=e+"",i="",c=0,s=n=0,c=o.length,a=0;c>a;a++)t=o.charCodeAt(a),r=null,128>t?n++:r=t>127&&2048>t?String.fromCharCode(t>>6|192,63&t|128):String.fromCharCode(t>>12|224,t>>6&63|128,63&t|128),null!==r&&(n>s&&(i+=o.slice(s,n)),i+=r,s=n=a+1);return n>s&&(i+=o.slice(s,c)),i}function f(e){e=h(e);for(var i="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",t=0,s=0,o=0,t=-1^t,n=0,a=e.length;a>n;n++)o=255&(t^e.charCodeAt(n)),s="0x"+i.substr(9*o,8),t=t>>>8^s;return t=-1^t,0>t&&(t+=4294967296),t}function t(e,t,n){var s=e[t];return delete e[t],"undefined"==typeof s?n:s}function a(t){return t?e.isArray(t)?t:[t]:[]}function o(e){return"undefined"!=typeof e&&(""+e).length>0}function l(n){var c=n.width,d=n.height,b=t(n,"size");b&&(g=b.split("x"),n.width=c=g[0],n.height=d=g[1]);var s,i,u,h,m,p,g,y,_,x,C,w=n.overlay||n.underlay,r=t(n,"crop"),j=a(t(n,"angle")).join("."),v=w||o(j)||"fit"==r||"limit"==r||"lfill"==r;c&&(v||parseFloat(c)<1)&&delete n.width,d&&(v||parseFloat(d)<1)&&delete n.height,r||w||(c=d=0[0]),u=t(n,"background"),u=u&&u.replace(/^#/,"rgb:"),h=t(n,"color"),h=h&&h.replace(/^#/,"rgb:"),s=a(t(n,"transformation",[])),p=[],e.grep(s,function(e){return"object"==typeof e}).length>0?s=e.map(s,function(t){return l("object"==typeof t?e.extend({},t):{transformation:t})}):(p=e.grep(s,function(){return null!=this&&""!=this}).join("."),s=[]),m=t(n,"effect"),e.isArray(m)&&(m=m.join(":")),i=t(n,"border"),e.isPlainObject(i)&&(y=""+(i.width||2),_=(i.color||"black").replace(/^#/,"rgb:"),i=y+"px_solid_"+_);var E=a(t(n,"flags")).join("."),f=[["c",r],["t",p],["w",c],["h",d],["b",u],["co",h],["e",m],["a",j],["bo",i],["fl",E]],O={x:"x",y:"y",radius:"r",gravity:"g",quality:"q",prefix:"p",default_image:"d",underlay:"u",overlay:"l",fetch_format:"f",density:"dn",page:"pg",color_space:"cl",delay:"dl",opacity:"o"};for(x in O)f.push([O[x],t(n,x)]);return f.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),f.push([t(n,"raw_transformation")]),C=e.map(e.grep(f,function(e){var t=e[e.length-1];return o(t)}),function(e){return e.join("_")}).join(","),s.push(C),e.grep(s,o).join("/")}function m(e){return s||(s=document.createElement("img")),s.src=e,e=s.src,s.src=null,e}function d(n,s){s=s||{},c=t(s,"type","upload"),"fetch"==c&&(s.fetch_format=s.fetch_format||t(s,"format"));var E=l(s),v=t(s,"resource_type","image"),p=t(s,"version"),y=t(s,"format"),d=t(s,"cloud_name",e.cloudinary.config().cloud_name);if(!d)throw"Unknown cloud_name";var a,c,h,_,w,b=t(s,"private_cdn",e.cloudinary.config().private_cdn),u=t(s,"secure_distribution",e.cloudinary.config().secure_distribution),C=t(s,"cname",e.cloudinary.config().cname),x=t(s,"cdn_subdomain",e.cloudinary.config().cdn_subdomain),O=t(s,"shorten",e.cloudinary.config().shorten),g=t(s,"secure","https:"==window.location.protocol),j=t(s,"protocol",e.cloudinary.config().protocol);if("fetch"==c&&(n=m(n)),n.match(/^https?:/)){if("upload"==c||"asset"==c)return n;n=encodeURIComponent(n).replace(/%3A/g,":").replace(/%2F/g,"/")}else n=encodeURIComponent(decodeURIComponent(n)).replace(/%3A/g,":").replace(/%2F/g,"/"),y&&(n=n.replace(/\.(jpg|png|gif|webp)$/,"")+"."+y);return a=g?"https://":window.location.protocol+"//",a=j?j+"//":a,d.match(/^\//)&&!g?a="/res"+d:(h=!b,g?(u&&u!=r||(u=b?d+"-res.cloudinary.com":i),h=h||u==i,a+=u):(_=x?"a"+(f(n)%5+1)+".":"",host=C||(b?d+"-res.cloudinary.com":"res.cloudinary.com"),a+=_+host),h&&(a+="/"+d)),O&&"image"==v&&"upload"==c&&(v="iu",c=0[0]),n.search("/")>=0&&!n.match(/^v[0-9]+/)&&!n.match(/^https?:\//)&&!o(p)&&(p=1),w=[a,v,c,E,p?"v"+p:"",n].join("/").replace(/([^:])\/+/g,"$1/"),w}var u="d3jpl91pxevbkh.cloudfront.net",r="cloudinary-a.akamaihd.net",c="res.cloudinary.com",i=c,s=0[0],n=0[0];e.cloudinary={CF_SHARED_CDN:u,OLD_AKAMAI_SHARED_CDN:r,AKAMAI_SHARED_CDN:c,SHARED_CDN:i,config:function(t,s){if(n||(n={},e('meta[name^="cloudinary_"]').each(function(){n[e(this).attr("name").replace("cloudinary_","")]=e(this).attr("content")})),"undefined"!=typeof s)n[t]=s;else{if("string"==typeof t)return n[t];t&&(n=t)}return n},url:function(t,n){return n=e.extend({},n),d(t,n)}}}(e)}),define("gawkerlib/imageUrl",["jquery","lib/jquery.cloudinarySimple"],function(e){"use strict";window.kinja=window.kinja||{},window.kinja.imageUrl=function(){e.cloudinary.config({cloud_name:"gawker-media",api_key:"196565315244936",cname:"i.kinja-img.com"});var t=window.kinja.meta&&window.kinja.meta.imageSizes?window.kinja.meta.imageSizes:{},n=function(n,s,o){var i;return i=o||"jpg",e.cloudinary.url(n+"."+i,e.extend({secure:!0,secure_distribution:"i.kinja-img.com"},t[s]))};return n}()}),define("gawkerlib/readMore",["jquery"],function(e){"use strict";window.kinja=window.kinja||{},window.kinja.readMore=function(){var t=function(t,n,s){var o,i;return o=e("<div></div>").css("display","none").appendTo("body"),e(t).appendTo(o),o.find(s).replaceWith(n),i=o.html(),o.remove(),i};return t}()}),define("singleton/Utils",["jquery","underscore","lib/amd-wrapped/modernizr","gawkerlib/imageUrl","gawkerlib/readMore"],function(e,t,n){"use strict";var s=["com","org","edu","gov","net","mil","int","xxx","co","info","me","biz"],o={kinjaMeta:null!==window.kinja.meta?e.extend(e.extend(window.kinja.meta,window.kinja.postMeta),window.kinja.tagMeta):null,features:null,htmlCleaner:document.createElement("div"),previousTimestamp:0,imageUrl:window.kinja.imageUrl,readMore:window.kinja.readMore,pageTypes:{blacklist:"blacklist",dashboard:"dashboard",dfppromote:"dfppromote",editor:"editor",error:"error",frontpage:"frontpage",leaderboard:"leaderboard",manageblog:"manageblog",performancestats:"performancestats",permalink:"permalink",rules:"rules",search:"search",splash:"splash",stats:"stats",tag:"tag",usersettings:"usersettings",profilepage:"profilepage",followpage:"followpage"},getParameterByName:function(e){var n="[\\?&]"+e+"=([^&#]*)",s=new RegExp(n),t=s.exec(window.location.search),o="";return t?decodeURIComponent(t[1].replace(/\+/g," ")):o},getKinjaMeta:function(){return this.kinjaMeta},getFeatures:function(){if(null===this.features){var t,n,s,o,i={},a=e("body").attr("class")||"";a.split(/\s+/).forEach(function(e){0===e.indexOf("f_")&&(t=e.indexOf("_"),n=e.lastIndexOf("_"),n>t&&(s=e.substring(t+1,n-t+1),o=e.substring(n+1),i[s]=o))}),this.features=i}return this.features},getKinjaHost:function(){var e=window.location.host.match(/\.(dev|xip\.io)(:\d+)?$/);return"kinja"+(e?e[0]:".com")},getRenderableData:function(n,s){var i=this,o=this.getKinjaMeta(),a=e.extend({meta:o,features:t.reduce(i.getFeatures(),function(e,t,n){return"off"!==t&&(e[n]=t),e},{})},s||{});return n=n||{},n.pageType=this.getKinjaMeta().pageType,n.blog=o.blog,n.currentUrl=o.currentUrl,{data:n,injected:a}},cut:function(e,t){return e&&e.length>t&&(e=e.substring(0,t),e=e.replace(/\s(\w+)?$/,""),e+="…"),e},cutSentence:function(e,t){var n,o,s=e;return e&&e.length>t&&(s=e.substring(0,t),o=e.substring(t),n=o.match(/(.*?[!?.])/),null!==n&&(s+=n[0])),s},cutHtml:function(e,t,n){var o,i,s="",r=0,a=!1,c=e.length;for(i=0;c>i&&t+1>r;i+=1)o=e[i],("<"===o||"&"===o)&&(a=!0),a||(r+=1),(">"===o||";"===o)&&(a=!1),s+=o;return s.length<c&&(s=s.replace(/,?\s([\w<>]+)?$/,""),0[0]!==n&&(s+=n),s=this.fixMarkup(s)),s},fixMarkup:function(e){return this.htmlCleaner.innerHTML=e,this.htmlCleaner.innerHTML},clickedOnLink:function(n){function i(e){return e.nodeName.toLowerCase()}function a(e,t){return i(e)===t}function r(){var e=t.toArray(arguments);return function(n){return t.chain(e).map(t.partial(a,n)).some().value()}}function c(n){return t.some(s.targetValues,function(t){return t===e(n).attr("target")})}function l(t){return e(t).parents(s.ancestors.join(", ")).length>0}var o=n.target,s={elements:[o,o.parentNode],targetValues:["_blank","_self"],ancestors:[".whitelisted-links"]};return!!t.chain(s.elements).filter(r("button","a")).some(function(e){return c(e)||l(e)}).value()},getHostname:function(e){var t=document.createElement("a");return t.setAttribute("href",e),t.hostname},getMainDomain:function(e){var t=e.split("."),o=function(e){return-1!==s.indexOf(e)},n=function(e){return t[t.length-e]};return n(o(n(2))?3:2)},isDevMode:function(){var e=this.getKinjaMeta().mode;return-1!==["default","ci_test","coredev"].indexOf(e)},cachebustUrl:function(t){return t+=-1===t.indexOf("?")?"?":"&",t+="rev="+e.now(),this.isDevMode()&&t?t.replace(".com",".dev"):t},markTimeForPageType:function(e,t){this.getKinjaMeta().pageType===e&&window.markUserTime(t)},markTimeForPermalink:function(e){this.markTimeForPageType(this.pageTypes.permalink,e)},markTimeWithPageType:function(e){return window.markUserTime(e+" - "+this.getKinjaMeta().pageType),e+" - "+this.getKinjaMeta().pageType},isCommentPermalinkPage:function(){var e=this.getKinjaMeta();return e.pageType===this.pageTypes.permalink&&e.starterId!==e.postId},shouldGetCached:function(){return!n.localstorage||!window.localStorage.getItem("lastInteraction")||Date.now()-window.localStorage.getItem("lastInteraction")>6e5}};return o}),define("config-default",[],function(){"use strict";var e="/ajax/image/upload";return{api:{analytics:{url:"http://kinja.com/api/analytics",urlWoProtocol:"//kinja.com/api/analytics"},ecommerce:{url:"/api/ecommerce",secureUrl:"https://kinja.com/api/ecommerce"},profile:{url:"/api/profile",secureUrl:"https://kinja.com/api/profile"},notification:{url:"/api/notification"},core:{url:"/api/core",secureUrl:"https://kinja.com/api/core"},mantle:{url:"/ajax"},chartbeat:{url:"/api/chartbeat"},pupil:{url:"//kinja.com/api/pupil"}},graphite:{url:"http://statsporn.kinja-ops.com/"},chomp:{imgRoot:"http://img.gawkerassets.com/img/"},image:{uploadUrl:e,host:"i.kinja-img.com"},avatar:{uploadUrl:e+"?eager=avt-small,avt-medium,avt-large&async=false"},blogLogo:{uploadUrl:e+"?eager=BlogLogo&async=false"},ownSites:[4,7,8,9,11,12,17,39,879,19292,474833009,512288369,510682837],logEnabled:!0,captchaKey:"6LfSor8SAAAAAKQnBZMKP3wYxbQWb_sjCvAaFxos"}}),define("config",["config-default"],function(e){"use strict";return e.logEnabled=!1,e}),define("apiclient/apirequest",["underscore","jquery"],function(e,t){"use strict";var n,s;return n={urlTemplate:function(e,t){var n=e.match(/\{\{(.+?)\}\}/g);return n&&n.forEach(function(n){var s=n.slice(2,-2);e=e.replace(n,t[s]),delete t[s]}),e},getUrl:function(s,o){var i,a=t.Deferred(),r=e.partial(n.urlTemplate,e,o);return"string"==typeof s?a.resolve(r(s)):"function"==typeof s&&(i=s.call(this,o),"object"==typeof i&&"function"==typeof i.promise?i.done(e.compose(a.resolve,r)).fail(a.reject):a.resolve(r(i))),a.promise()}},s={prepareOpts:function(t,n){var s=e.pick(t,n);return e.each(n,function(e){delete t[e]}),s},getJson:function(s,o,i){return o=o||{},i=i||{},function(a,r){var c,l,u,d=t.Deferred(),h=e.extend({},o,a||{});return c=e.extend({type:"GET",dataType:"json",timeout:6e4,contentType:"application/json; charset=utf-8"},i,r),c.data=h,u=function(e,t,n){e=e||{},d.resolve(e.data,e.meta,n)},l=function(e){var t,n;if(e&&e.responseText)try{t=JSON.parse(e.responseText)}catch{t={}}else t=e&&e.status?e:{};n=t.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}},d.reject(n,e)},n.getUrl(s,h).done(function(e){c.url=e,t.ajax(c).done(u).fail(l)}).fail(l),d.promise()}},getJsonp:function(s,o,i){return o=o||{},i=i||{},function(a,r){var c,l,d=t.Deferred(),u=e.extend({},o,a||{});return c=e.extend({type:"GET",dataType:"jsonp",jsonp:"jsonp",timeout:6e4},i,r),c.data=u,l=function(e,t,n){if(e&&e.meta&&200===e.meta.status)d.resolve(e.data,e.meta,n);else{var s=e.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}};d.reject(s,n)}},n.getUrl(s,u).done(function(e){c.url=e,t.ajax(c).always(l)}).fail(l),d.promise()}},postJson:function(s,o,i){return o=o||{},i=i||{},function(a,r){var c,l,u,d=t.Deferred(),h=e.isArray(a)&&e.isEmpty(o)?a:e.extend({},o,a||{});return c=e.extend({type:"POST",dataType:"json",timeout:6e4,contentType:"application/json; charset=utf-8"},i,r),c.data=JSON.stringify(h),u=function(e,t,n){e=e||{},d.resolve(e.data,e.meta,n)},l=function(e){var t=e&&e.responseText?JSON.parse(e.responseText):e&&e.status?e:{},n=t.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}};d.reject(n,e)},n.getUrl(s,h).done(function(e){c.url=e,t.ajax(c).done(u).fail(l)}).fail(l),d.promise()}},deleteJson:function(s,o,i){return o=o||{},i=i||{},function(a,r){var c,l,u,d=t.Deferred(),h=e.extend({},o,a||{});return c=e.extend({type:"DELETE",dataType:"json",timeout:6e4,contentType:"application/json; charset=utf-8"},i,r),c.data=JSON.stringify(h),u=function(e,t,n){e=e||{},d.resolve(e.data,e.meta,n)},l=function(e){var t=e&&e.responseText?JSON.parse(e.responseText):e&&e.status?e:{},n=t.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}};d.reject(n,e)},n.getUrl(s,h).done(function(e){c.url=e,t.ajax(c).done(u).fail(l)}).fail(l),d.promise()}}}}),function(e){"function"==typeof define&&define.amd?define("lib/jquery.cookie",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function n(e){return t.raw?e:encodeURIComponent(e)}function o(e){return t.raw?e:decodeURIComponent(e)}function i(e){return n(t.json?JSON.stringify(e):String(e))}function a(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(r," ")),t.json?JSON.parse(e):e}catch{}}function s(n,s){var o=t.raw?n:a(n);return e.isFunction(s)?s(o):o}var r=/\+/g,t=e.cookie=function(a,r,c){if(0[0]!==r&&!e.isFunction(r))return(c=e.extend({},t.defaults,c),"number"==typeof c.expires)&&(m=c.expires,d=c.expires=new Date,d.setTime(+d+864e5*m)),document.cookie=[n(a),"=",i(r),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("");for(var d,m,u=a?0[0]:{},f=document.cookie?document.cookie.split("; "):[],h=0,v=f.length;v>h;h++){var p=f[h].split("="),g=o(p.shift()),l=p.join("=");if(a&&a===g){u=s(l,r);break}a||0[0]===(l=s(l))||(u[g]=l)}return u};t.defaults={},e.removeCookie=function(t,n){return 0[0]!==e.cookie(t)&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),define("apiclient/gettoken",["jquery","config","apiclient/apirequest","lib/jquery.cookie"],function(e,t,n){"use strict";var s={append:function(t,n,s){var o=n||this.existing;return function(n){var i="string"==typeof t?t:t.call(this,n);return o().then(function(t){return s&&-1!==t.indexOf("dummy-")?e.Deferred().reject({error:{code:"DUMMY_TOKEN_ERROR",message:"Token returned was a dummy token",uid:""}}):i+(-1!==i.indexOf("?")?"&":"?")+"token="+t})}},existing:function(){return e.Deferred().resolve(e.cookie("KinjaToken"))},fresh:function(){var s=e.Deferred();return n.postJson(t.api.profile.secureUrl+"/token/create",{},{xhrFields:{withCredentials:!0}})().done(function(e){s.resolve(e.token)}).fail(s.reject),s.promise()},secure:function(){var s=e.Deferred();return n.postJson(t.api.profile.secureUrl+"/token/createSecure",{},{xhrFields:{withCredentials:!0}})().done(function(e){s.resolve(e.token)}).fail(s.reject),s.promise()}};return s}),define("apiclient/feature",["config","apiclient/apirequest","apiclient/gettoken"],function(e,t,n){"use strict";var s;return s={getBlogFeatures:t.getJson(e.api.core.url+"/blog/{{blogId}}/features"),getAjaxFeatures:t.getJson(e.api.mantle.url+"/features"),setAjaxFeatureCookie:t.postJson(e.api.mantle.url+"/feature/set?{{syncParams}}"),sendPerHourFeatureTick:t.postJson(e.api.mantle.url+"/stats/feature/increment"),readFeature:t.getJson(n.append(e.api.core.url+"/feature/{{modelId}}",n.fresh)),getSegmentFeature:t.getJson(e.api.core.url+"/feature/segment"),createFeature:t.postJson(n.append(e.api.core.secureUrl+"/feature/add",n.secure)),updateFeature:t.postJson(n.append(e.api.core.secureUrl+"/feature/{{modelId}}/update",n.secure)),deleteFeature:t.postJson(n.append(e.api.core.secureUrl+"/feature/{{modelId}}/delete",n.secure)),enableFeature:t.postJson(n.append(e.api.core.secureUrl+"/feature/{{modelId}}/enable",n.secure)),disableFeature:t.postJson(n.append(e.api.core.secureUrl+"/feature/{{modelId}}/disable",n.secure)),setBlogFeatureGMG:t.postJson(n.append(e.api.core.url+"/blog/{{blogId}}/setfeature?{{data}}",n.fresh))}}),define("gawkerlib/jquery.parseParams",["jquery"],function(e){"use strict";var n=/([^&=]+)=?([^&]*)/g,s=/\+/g,t=function(e){return decodeURIComponent(e.replace(s," "))};e.parseParams=function(e){0[0]===e&&(e=window.location.href.match(/\?(.+)$/),e=null!==e&&e.length>0?e[1]:"");for(var s,i,a,o={};null!==(i=n.exec(e));)s=t(i[1]),a=t(i[2]),0[0]!==o[s]?(0[0]===o[s].push&&(o[s]=[o[s]]),o[s].push(a)):o[s]=a;return o}}),define("singleton/Feature",["backbone","singleton/Utils","apiclient/feature","gawkerlib/jquery.parseParams"],function(e,t,n){"use strict";var s=e.Model.extend({initialize:function(){this.syncCookies()},syncCookies:function(e,s){var o={};s=s||!1,o.manual=!e&&t.getKinjaMeta().syncFeatures&&t.getKinjaMeta().syncFeatures.length>0||!1,o.syncParams=e||t.getKinjaMeta().syncFeatures||"",o.syncParams.length>0&&n.setAjaxFeatureCookie(o,{async:!s})},isOn:function(e){return"on"===t.getFeatures()[e]},value:function(e){return t.getFeatures()[e]}});return new s}),define("apiclient/profile",["config","apiclient/apirequest","apiclient/gettoken"],function(e,t,n){"use strict";var a,s=e.api.profile.url,o=e.api.profile.secureUrl,i=e.api.core.url;return a={getUser:t.getJson(n.append(s+"/user/{{userId}}",n.fresh)),isGMGAuthor:t.getJson(s+"/blogmembership/views/isGmgAuthor"),getBlog:t.getJson(n.append(s+"/blog/{{blogId}}",n.fresh)),getBlogByName:t.getJson(s+"/blog/byname/{{blogName}}"),updateBlog:t.postJson(n.append(o+"/blog/{{id}}",n.secure)),createBlog:t.postJson(n.append(o+"/blog",n.secure)),setBlogFeature:t.postJson(n.append(i+"/blog/{{blogId}}/setfeature?{{featuresUrlString}}",n.fresh)),getFollowedBlogIds:t.getJson(s+"/blogfollow/views/followedBy"),getBlogMembers:t.getJson(s+"/blogmembership/views/manageBlogMembers"),addBlogMember:t.postJson(n.append(o+"/blogmembership/addMember",n.secure)),inviteBlogMember:t.postJson(n.append(e.api.profile.secureUrl+"/blogmembership/invite",n.secure)),revokeBlogMemberInvite:t.postJson(n.append(e.api.profile.secureUrl+"/blogmembership/revoke",n.secure)),removeBlogMember:t.postJson(n.append(o+"/blogmembership/removeMember",n.secure)),updateBlogMember:t.postJson(n.append(o+"/blogmembership/updateMember",n.secure)),setBlogOwner:t.postJson(n.append(o+"/blogmembership/setOwner",n.secure)),follow:t.postJson(n.append(s+"/userfollow/follow")),unfollow:t.postJson(n.append(s+"/userfollow/unfollow")),getBlogSales:t.getJson(n.append(i+"/blogsales/get/{{blogId}}",n.fresh)),saveBlogSales:t.postJson(n.append(i+"/blogsales/save",n.secure)),setUserAvatar:t.postJson(n.append(o+"/user/setAvatar?id={{cloudinaryId}}&format={{format}}",n.secure)),getUserSettings:t.getJson(n.append("/settings.json",n.fresh)),setUserSettings:t.postJson(n.append(o+"/user/updateName?id={{id}}",n.secure)),setScreenName:t.postJson(n.append(o+"/user/setScreenName",n.secure)),followAndApprove:t.postJson(n.append("/ajax/post/{{postId}}/followAndApprove/blog/{{targetBlogId}}/by/{{blogId}}?authorId={{authorId}}",n.fresh)),followBlogForBlog:t.postJson(n.append(e.api.profile.url+"/blogfollow/follow",n.fresh)),unfollowBlogForBlog:t.postJson(n.append(e.api.profile.url+"/blogfollow/unfollow",n.fresh)),blogBlock:t.postJson(n.append(e.api.profile.url+"/blogblock/block",n.fresh)),blogUnblock:t.postJson(n.append(e.api.profile.url+"/blogblock/unblock",n.fresh)),getUserProperties:t.getJson(n.append(s+"/userprop/views/byUser",n.secure)),getUserProperty:t.getJson(n.append(o+"/userprop/{{id}}",n.secure)),createUserProperty:t.postJson(n.append(o+"/userprop",n.secure)),updateUserProperty:t.postJson(n.append(o+"/userprop/{{id}}",n.secure)),deleteUserProperty:t.deleteJson(n.append(o+"/userprop/{{id}}",n.secure)),resendEmailConfirmation:t.postJson(n.append(o+"/userprop/resendConfirmationEmail",n.secure)),getEmailsByToken:t.getJson(n.append(o+"/remoteaccount/views/emailsByToken",n.secure)),getBlogProperties:t.getJson(s+"/blogprop/views/byblog/{{blogId}}"),getBlogProperty:t.getJson(s+"/blogprop/{{id}}"),createBlogProperty:t.postJson(n.append(s+"/blogprop",n.fresh)),updateBlogProperty:t.postJson(n.append(s+"/blogprop/{{id}}",n.fresh)),deleteBlogProperty:t.deleteJson(n.append(s+"/blogprop/{{propertyId}}",n.fresh)),getFollowedEntities:t.getJson(s+"/userfollow/views/followed"),getFollowsOfUser:t.getJson(s+"/userfollow/views/followersOf"),acceptMembershipInvitation:t.postJson(n.append(s+"/blogmembership/accept",n.fresh)),rejectMembershipInvitation:t.postJson(n.append(s+"/blogmembership/reject",n.fresh))}}),define("model/Blog",["underscore","backbone","apiclient/profile"],function(e,t,n){"use strict";var s=t.Model.extend({featureCollection:null,validate:function(e){var t=[];return(""===e.canonicalHost||"undefined"===e.canonicalHost)&&t.push({key:"canonicalHost",message:"Invalid canonical Host"}),t.length>0?t:0[0]},sync:function(e,t,s){var o,i;if("create"!==e&&(0[0]===t.id||null===t.id))throw new Error("Blog.sync(): Model undefined");switch(e){case"read":return n.getBlog({blogId:t.id},s);case"update":return o=t.toFormData(),n.updateBlog(o,s);case"create":return o=t.toJSON(),n.createBlog(o,s);case"setfeature":return i=this.featureCollection.getDirtyModels(),n.setBlogFeature({featuresUrlString:i,blogId:t.id},s)}},parse:function(t){var n;return n=t.meta&&null===t.meta.error?t.data:t,n.hosts?n.hosts=e.map(n.hosts,function(e){return 0[0]!==e.name?e.name:e}):n.hosts=[],n},toFormData:function(){var t=["id","canonicalHost","hosts","excludedTags","adsEnabled"];return e.pick(this.toJSON(),t)}});return s}),define("model/user/User",["jquery","underscore","config","backbone","singleton/Utils","apiclient/profile","model/Blog"],function(e,t,n,s,o,i,a){"use strict";var r=s.Model.extend({defaults:{permissions:[],membership:new s.Collection},_tempMembership:null,rolePriorities:{OWNER:3,ADMIN:2,AUTHOR:1},conformsTo:function(e,t){return this.rolePriorities[e]>=this.rolePriorities[t]},parse:function(e){if(0[0]===e||0[0]===e.data)return{};var t=e.data;return 0[0]!==t.membership&&null!==t.membership?(this._tempMembership=t.membership,delete t.membership):this._tempMembership=null,t.avatar&&t.avatar.id&&(t.avatar={url:o.imageUrl(t.avatar.id,"avt-medium",t.avatar.format),id:t.avatar.id,format:t.avatar.format}),t},updateMembership:function(){null!==this._tempMembership&&(this.get("membership").reset(this._tempMembership),this._tempMembership=null)},hasPermission:function(e){var n=this.get("permissions");return t.any(n,function(t){return t.toUpperCase()===e.toUpperCase()})},hasRole:function(e,t){return this.get("membership").any(function(n){return this.conformsTo(n.get("role"),e)&&n.get("blogId")===t},this)},hasGMGRole:function(e){return this.get("membership").any(function(s){return-1!==t.indexOf(n.ownSites,s.get("blogId"))&&this.conformsTo(s.get("role"),e)},this)},followUser:function(e){return i.follow({userId:this.id,targetType:"User",target:e,token:this.get("token")}).done(function(){this.get("followedAuthorIds").push(""+e)}.bind(this))},unfollowUser:function(e){return i.unfollow({userId:this.id,targetType:"User",target:e,token:this.get("token")}).done(function(){this.set("followedAuthorIds",this.get("followedAuthorIds").filter(function(t){return t!==e}))}.bind(this))},followBlog:function(e){return i.follow({userId:this.id,targetType:"Blog",target:e,token:this.get("token")}).done(function(){this.get("followedBlogIds").push(e)}.bind(this))},unfollowBlog:function(e){return i.unfollow({userId:this.id,targetType:"Blog",target:e,token:this.get("token")}).done(function(){this.set("followedBlogIds",this.get("followedBlogIds").filter(function(t){return t!==e}))}.bind(this))},setBlogAction:function(n,s,r,c){var d,u,h,m=["blogfollow","follow","unfollow","block","unblock"],l=this;if(!n||-1===t.indexOf(m,n))throw new Error("User:setBlogAction(): Invalid action: "+n);if(!s)throw new Error("User:setBlogAction(): Invalid blogId: "+s);if(!r)throw new Error("User:setBlogAction(): Invalid targetBlogId: "+r);switch(c=e.extend({success:e.noop,error:e.noop},c),d=function(e,o){var i,a;if(0[0]!==o){switch(n){case"follow":l.get("defaultBlogId")===s&&l.get("followedBlogIds").push(r);break;case"unfollow":l.get("defaultBlogId")===s&&(i=t.filter(l.get("followedBlogIds"),function(e){return e!==r},this),l.set("followedBlogIds",i));break;case"block":l.get("defaultBlogId")===s&&l.get("blockedBlogIds").push(r);break;case"unblock":l.get("defaultBlogId")===s&&(a=t.filter(l.get("blockedBlogIds"),function(e){return e!==r},this),l.set("blockedBlogIds",a))}c.success.call(l,e)}else c.error.call(l,{reason:"action error"})},u=function(e){var t=e&&e.error?e.error:null;c.error.call(this,{reason:"ajax error"},t)},n){case"blogfollow":h=new a({id:r}),h.fetch().done(function(){i.followAndApprove({postId:o.getKinjaMeta().post.id,targetBlogId:r,blogId:s,authorId:h.get("ownerId")},c).done(d).fail(u)});break;case"follow":i.followBlogForBlog({targetBlogId:r,sourceBlogId:s}).done(d).fail(u);break;case"unfollow":i.unfollowBlogForBlog({targetBlogId:r,sourceBlogId:s}).done(d).fail(u);break;case"block":i.blogBlock({blocked:r,blocking:s}).done(d).fail(u);break;case"unblock":i.blogUnblock({blocked:r,blocking:s}).done(d).fail(u)}},getBlogs:function(e){e=e||{};var n=this,s=this.get("defaultBlogId"),o=this.get("membership").filter(function(t){return!e.filterForAuthorship||n.conformsTo(t.get("role"),"AUTHOR")}),i=t(o).map(function(e){return e.get("blog")});return t.filter(i,function(t){return"DISABLED"!==t.status&&!(e.filterForGroupBlogs&&t.id===s)})},hasBlog:function(e){var t,n=this.get("membership");for(t=0;t<n.length;t++)if(n.models[t].get("blogId")===e)return!0;return!1},hasRemote:function(e){return this.has("remotes")&&0[0]!==this.get("remotes")[e]},isLoggedInWithRemote:function(e){return this.get("authName")===e},isBurner:function(){return"burner"===this.get("authName")},isSuperUser:function(){return this.get("isSuperUser")===!0},register:function(){return i.setScreenName(this.attributes)}});return r}),define("app/account/account.channel",["backbone","underscore"],function(e,t){"use strict";return t.extend({},e.Events)}),define("apiclient/authentication",["config","apiclient/apirequest","apiclient/gettoken"],function(e,t,n){"use strict";var s;return s={getToken:t.postJson(e.api.profile.secureUrl+"/token/create",{},{xhrFields:{withCredentials:!0}}),logout:t.postJson(e.api.profile.secureUrl+"/session/logout",{},{xhrFields:{withCredentials:!0}}),redirectLogout:function(){window.location.href=e.api.profile.secureUrl+"/session/logout?url="+window.location.href},fetchState:t.getJsonp(e.api.profile.secureUrl+"/accountwithtoken"),burnerLogin:t.postJson(e.api.profile.secureUrl+"/session/burnerLogin",{},{xhrFields:{withCredentials:!0}}),burnerCheck:t.getJson(e.api.profile.url+"/session/views/burnerCheck?screenName={{screenName}}"),burnerRegister:t.postJson(e.api.profile.secureUrl+"/session/burnerRegister",{},{xhrFields:{withCredentials:!0}}),disconnect:t.postJson(n.append(e.api.profile.secureUrl+"/session/disconnect",n.secure)),withToken:function(e,t){return n.append(e,t?n.secure:n.fresh).call(this)}}}),define("model/user/LoginUser",["jquery","underscore","model/user/User","app/account/account.channel","apiclient/authentication","singleton/Feature","lib/jquery.cookie"],function(e,t,n,s,o,i){"use strict";var a=n.extend({ERROR_CODE_TOKEN_REFRESH_FAILED:"tokenRefreshFailed",_hasSession:!1,_loggedIn:!1,defaults:t.extend({},n.prototype.defaults),onAuth:e.Deferred(),onLogin:e.Deferred(),onLoggedIn:e.Deferred(),onAuthStateChange:function(e){this.onAuth.done(function(){this.isLoggedIn()||e()}.bind(this)),this.onLoggedIn.done(e)},_oldId:"",initialize:function(){this.on("authenticated",function(){this.onAuth.resolve(),this.isLoggedIn()?(this.setUserCookie("kinjaads.displayName",window.escape(this.get("displayName"))),this.setUserCookie("kinjaads.isBurner",this.isBurner()),this.onLoggedIn.resolve()):(this.setUserCookie("kinjaads.displayName",null),this.setUserCookie("kinjaads.isBurner",null))},this)},sync:function(e,t,n){return o.fetchState({},n)},requireLogin:function(t){var o,i=this,n=e.Deferred();return this.isLoggedIn()?n.resolve():(this.listenToOnce(this,"authenticated",function(){i.isLoggedIn()?n.resolve():n.reject()}),o=0[0]!==t?{source:t}:0[0],s.trigger("loginRequired",o)),n.promise()},setUserCookie:function(t,n){null===n?e.removeCookie(t,{path:"/"}):e.cookie(t,n,{path:"/"})},setTokenCookie:function(t){e.cookie("KinjaToken",t,{path:"/",expires:new Date((new Date).getTime()+33e5)})},token:function(){var t=e.Deferred();return o.getToken().done(function(e){this.setTokenCookie(e.token),this.set({token:e.token}),t.resolve(e.token)}.bind(this)).fail(function(e){t.reject({meta:e})}),t.promise()},validToken:function(){var t=e.Deferred(),n=this.token(),s=this.ERROR_CODE_TOKEN_REFRESH_FAILED;return n.fail(t.reject).done(function(e){0===e.indexOf("dummy")?t.reject({meta:s}):t.resolve(e)}),t},getTokenAndAccountState:function(){var e=this;return this.fetch().done(function(t){e.setTokenCookie(t.token.token),e.handleAuthentication(e)}).fail(function(t){e.handleAuthentication(e,{meta:t})})},logout:function(){o.redirectLogout()},load:function(t,n){var a,s=this,o=n||new e.Deferred;return-1===window.location.search.indexOf("nosso=1")&&0[0]===window.KINJA_NO_SSO?0[0]!==t?(s.set(s.parse(t),{silent:!0}),s.setTokenCookie(t.data.token.token),s.set({token:s.get("token")},{silent:!0}),s.handleAuthentication(s,t),o.resolve()):i.isOn("fasttoken")?(a=window._fasttoken,window._fasttoken=function(e){i.isOn("frontendtiming")&&window.markUserTime("currentuser_fasttoken_slow_branch"),i.isOn("fasttoken2")&&a(e),this.load(e,o)}.bind(this)):this.getTokenAndAccountState().done(function(){o.resolve()}).fail(function(){o.reject()}):(-1===window.location.search.indexOf("nosso=1")&&this.handleAuthentication(s,0[0]),o.resolve()),o.promise()},parse:function(e){var s;return s=e.data&&e.data.accountState&&e.data.token.token?t.extend({},e.data.accountState,{token:e.data.token.token}):e.data?e.data:{},n.prototype.parse.call(this,{data:s})},handleAuthentication:function(e,t){var s=e.hasIncompleteRegistration(),n=t&&t.meta&&t.meta.error,o=e.get("id"),i=e._oldId;if(o!==i&&(e._oldId=o,e.trigger("changeIdentity")),e._hasSession=!0,e._loggedIn=!!e.id&&!s,e.updateMembership(),e.trigger("authenticated",e),s)if(n&&n.code){if("ILLEGAL_SCREEN_NAME"!==n.code)throw new Error("Invalid error code: "+n.code+"["+typeof n.code+"]");e.trigger("incompleteRegistration",{model:e,error:n})}else e.trigger("incompleteRegistration",{model:e,error:{code:"INCOMPLETE_REGISTRATION"}})},hasIncompleteRegistration:function(){return"incomplete"===this.get("status")||""===this.get("displayName")},hasSession:function(){return this._hasSession},isLoggedIn:function(){return this._loggedIn},isSuperuser:function(){return this.isLoggedIn&&this.get("isSuperUser")===!0},isSalesperson:function(){return this.isLoggedIn()&&this.hasPermission("SALES")},clearNotifications:function(){this.trigger("clearNotifications")},get:function(t){var s;return s="token"===t?e.cookie("KinjaToken")||n.prototype.get.apply(this,arguments):n.prototype.get.apply(this,arguments)},has:function(t){var s;return s="token"===t?!!e.cookie("KinjaToken"):n.prototype.has.apply(this,arguments)}});return a}),define("singleton/CurrentUser",["model/user/LoginUser"],function(e){"use strict";var t=new e;return t}),define("singleton/CurrentBlog",["jquery","underscore","singleton/Utils","apiclient/profile"],function(e,t,n,s){"use strict";var i=n.getKinjaMeta(),o=i.blog||{};return o.language=(o.locale||"en").substring(0,2),o.blogSales=i.blogSales||{},o.defaultAdSiteName="gm."+o.name,o.defaultAdNetworkId=4246,o.followedBlogIds=[],o.getFollowedBlogIds=t.once(function(){var t=e.Deferred();return s.getFollowedBlogIds({blogId:o.id}).done(function(e){o.followedBlogIds=e,t.resolve(o.followedBlogIds)}),t}),o}),define("singleton/RavenConfig",["singleton/CurrentUser","singleton/CurrentBlog","singleton/Utils"],function(e,t,n){"use strict";function s(){var s,o=n.getKinjaMeta().blogOwner,i=t.id,a=o&&e.id===o.id;return e.isSuperuser()?s="superuser":a?s="owner":e.hasRole("ADMIN",i)?s="admin":e.hasRole("AUTHOR",i)&&(s="author"),s}function o(t){e.onLoggedIn.done(function(){var n={logged_in:!0},o=s();o&&(n.role=o),t.setTagsContext(n),e.isBurner()||t.setUserContext({id:e.id,username:e.get("displayName"),email:e.id+"@kinja.com"})})}function i(){require(["module/Raven"],o)}return{init:i}}),function(e){function y(e,t,n){switch(arguments.length){case 2:return e??t;case 3:return e??t??n;default:throw new Error("Implement me")}}function j(e,t){return Ge.call(e,t)}function P(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function q(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function r(e,t){var n=!0;return p(function(){return n&&(q(e),n=!1),t.apply(this,arguments)},t)}function ht(e,t){K[e]||(q(t),K[e]=!0)}function X(e,t){return function(n){return s(e.call(this,n),t)}}function at(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function J(){}function k(e,t){t!==!1&&Oe(e),oe(this,e),this._d=new Date(+e._d)}function S(e){var n=we(e),s=n.year||0,o=n.quarter||0,i=n.month||0,a=n.week||0,r=n.day||0,c=n.hour||0,l=n.minute||0,d=n.second||0,u=n.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*c,this._days=+r+7*a,this._months=+i+3*o+12*s,this._data={},this._locale=t.localeData(),this._bubble()}function p(e,t){for(var n in t)j(t,n)&&(e[n]=t[n]);return j(t,"toString")&&(e.toString=t.toString),j(t,"valueOf")&&(e.valueOf=t.valueOf),e}function oe(e,t){var n,s,o;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),C.length>0)for(o in C)n=C[o],s=t[n],"undefined"!=typeof s&&(e[n]=s);return e}function c(e){return 0>e?Math.ceil(e):Math.floor(e)}function s(e,t,n){for(var s=""+(e<0?-e:e),o=e>=0;s.length<t;)s="0"+s;return(o?n?"+":"":"-")+s}function ae(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function De(e,t){var n;return t=A(t,e),e.isBefore(t)?n=ae(e,t):(n=ae(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function de(e,n){return function(s,o){var i,a;return null===o||isNaN(+o)||(ht(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period)."),a=s,s=o,o=a),s="string"==typeof s?+s:s,i=t.duration(s,o),fe(this,i,e),this}}function fe(e,n,s,o){var r=n._milliseconds,i=n._days,a=n._months;o=o??!0,r&&e._d.setTime(+e._d+r*s),i&&me(e,"Date",N(e,"Date")+i*s),a&&ue(e,N(e,"Month")+a*s),o&&t.updateOffset(e,i||a)}function x(e){return"[object Array]"===Object.prototype.toString.call(e)}function Fe(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function ve(e,t,s){var o,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0;for(o=0;a>o;o++)(s&&e[o]!==t[o]||!s&&n(e[o])!==n(t[o]))&&i++;return i+r}function i(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=lt[e]||dt[t]||t}return e}function we(e){var t,n,s={};for(t in e)j(e,t)&&(n=i(t),n&&(s[n]=e[t]));return s}function Ae(n){var s,o;if(0===n.indexOf("week"))s=7,o="day";else{if(0!==n.indexOf("month"))return;s=12,o="month"}t[n]=function(i,a){var r,c,d=t._locale[n],l=[];if("number"==typeof i&&(a=i,i=e),c=function(e){var n=t().utc().set(o,e);return d.call(t._locale,n,i||"")},a!=null)return c(a);for(r=0;s>r;r++)l.push(c(r));return l}}function n(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function M(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function Ce(e,n,s){return v(t([e,11,31+n-s]),n,s).week}function $(e){return xe(e)?366:365}function xe(e){return e%4===0&&e%100!==0||e%400===0}function Oe(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[u]<0||e._a[u]>11?u:e._a[a]<1||e._a[a]>M(e._a[m],e._a[u])?a:e._a[d]<0||e._a[d]>23?d:e._a[_]<0||e._a[_]>59?_:e._a[w]<0||e._a[w]>59?w:e._a[O]<0||e._a[O]>999?O:-1,e._pf._overflowDayOfYear&&(m>t||t>a)&&(t=a),e._pf.overflow=t)}function _e(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function je(e){return e&&e.toLowerCase().replace("_","-")}function Te(e){for(var t,n,s,i,o=0;o<e.length;){for(s=je(e[o]).split("-"),n=s.length,t=je(e[o+1]),t=t?t.split("-"):null;n>0;){if(i=he(s.slice(0,n).join("-")))return i;if(t&&t.length>=n&&ve(s,t,!0)>=n-1)break;n--}o++}return null}function he(e){var n=null;if(!b[e]&&ce)try{n=t.locale(),require("./locale/"+e),t.locale(n)}catch{}return b[e]}function A(e,n){return n._isUTC?t(e).zone(n._offset||0):t(e).local()}function ze(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function He(e){var t,s,n=e.match(re);for(t=0,s=n.length;s>t;t++)n[t]=l[n[t]]?l[n[t]]:ze(n[t]);return function(o){var i="";for(t=0;s>t;t++)i+=n[t]instanceof Function?n[t].call(o,e):n[t];return i}}function H(e,t){return e.isValid()?(t=se(t,e.localeData()),R[t]||(R[t]=He(t)),R[t](e)):e.localeData().invalidDate()}function se(e,t){function s(e){return t.longDateFormat(e)||e}var n=5;for(E.lastIndex=0;n>=0&&E.test(e);)e=e.replace(E,s),E.lastIndex=0,n-=1;return e}function ft(e,t){var s,n=t._strict;switch(e){case"Q":return ne;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return n?et:$e;case"Y":case"G":case"g":return nt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?tt:We;case"S":if(n)return ne;case"SS":if(n)return te;case"SSS":if(n)return ee;case"DDD":return Ve;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ke;case"a":case"A":return t._locale._meridiemParse;case"X":return ke;case"Z":case"ZZ":return T;case"T":return Ye;case"SSSS":return Ue;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?te:ie;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ie;case"Do":return Xe;default:return s=new RegExp(ut(mt(e.replace("\\","")),"i"))}}function U(e){e=e||"";var s=e.match(T)||[],i=s[s.length-1]||[],t=(i+"").match(rt)||["-",0,0],o=+(60*t[1])+n(t[2]);return"+"===t[0]?-o:o}function Ne(e,s,o){var r,i=o._a;switch(e){case"Q":s!=null&&(i[u]=3*(n(s)-1));break;case"M":case"MM":s!=null&&(i[u]=n(s)-1);break;case"MMM":case"MMMM":r=o._locale.monthsParse(s),r!=null?i[u]=r:o._pf.invalidMonth=s;break;case"D":case"DD":s!=null&&(i[a]=n(s));break;case"Do":s!=null&&(i[a]=n(parseInt(s,10)));break;case"DDD":case"DDDD":s!=null&&(o._dayOfYear=n(s));break;case"YY":i[m]=t.parseTwoDigitYear(s);break;case"YYYY":case"YYYYY":case"YYYYYY":i[m]=n(s);break;case"a":case"A":o._isPm=o._locale.isPM(s);break;case"H":case"HH":case"h":case"hh":i[d]=n(s);break;case"m":case"mm":i[_]=n(s);break;case"s":case"ss":i[w]=n(s);break;case"S":case"SS":case"SSS":case"SSSS":i[O]=n(1e3*("0."+s));break;case"X":o._d=new Date(1e3*parseFloat(s));break;case"Z":case"ZZ":o._useUTC=!0,o._tzm=U(s);break;case"dd":case"ddd":case"dddd":r=o._locale.weekdaysParse(s),r!=null?(o._w=o._w||{},o._w.d=r):o._pf.invalidWeekday=s;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),s&&(o._w=o._w||{},o._w[e]=n(s));break;case"gg":case"GG":o._w=o._w||{},o._w[e]=t.parseTwoDigitYear(s)}}function vt(e){var s,o,i,a,r,c,n=e._w;null!=n.GG||null!=n.W||null!=n.E?(s=1,a=4,r=y(n.GG,e._a[m],v(t(),1,4).year),i=y(n.W,1),o=y(n.E,1)):(s=e._locale._week.dow,a=e._locale._week.doy,r=y(n.gg,e._a[m],v(t(),s,a).year),i=y(n.w,1),null!=n.d?(o=n.d,s>o&&++i):o=null!=n.e?n.e+s:s),c=Ee(r,i,o,a,s),e._a[m]=c.year,e._dayOfYear=c.dayOfYear}function z(e){var t,n,s,o,i=[];if(!e._d){for(s=pt(e),e._w&&null==e._a[a]&&null==e._a[u]&&vt(e),e._dayOfYear&&(o=y(e._a[m],s[m]),e._dayOfYear>$(o)&&(e._pf._overflowDayOfYear=!0),n=I(o,0,e._dayOfYear),e._a[u]=n.getUTCMonth(),e._a[a]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=i[t]=s[t];for(;7>t;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];e._d=(e._useUTC?I:Qe).apply(null,i),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function gt(e){var t;e._d||(t=we(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],z(e))}function pt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function B(e){if(e._f===t.ISO_8601)return void Z(e);e._a=[],e._pf.empty=!0;var n,o,i,a,r,s=""+e._i,u=s.length,c=0;for(a=se(e._f,e._locale).match(re)||[],i=0;i<a.length;i++)o=a[i],n=(s.match(ft(o,e))||[])[0],n&&(r=s.substr(0,s.indexOf(n)),r.length>0&&e._pf.unusedInput.push(r),s=s.slice(s.indexOf(n)+n.length),c+=n.length),l[o]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(o),Ne(o,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=u-c,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[d]<12&&(e._a[d]+=12),e._isPm===!1&&12===e._a[d]&&(e._a[d]=0),z(e),Oe(e)}function mt(e){return e.replace(/\\(\[)|\\(\])|\[([^\][]*)\]|\\(.)/g,function(e,t,n,s,o){return t||n||s||o})}function ut(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function ct(e){var t,n,s,o,i;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<e._f.length;s++)n=0,t=oe({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=P(),t._f=e._f[s],B(t),_e(t)&&(n+=t._pf.charsLeftOver,n+=10*t._pf.unusedTokens.length,t._pf.score=n,(o==null||o>n)&&(o=n,i=t));p(e,i||t)}function Z(e){var t,n,s=e._i,o=st.exec(s);if(o){for(e._pf.iso=!0,t=0,n=D.length;n>t;t++)if(D[t][1].exec(s)){e._f=D[t][0]+(o[6]||" ");break}for(t=0,n=L.length;n>t;t++)if(L[t][1].exec(s)){e._f+=L[t][0];break}s.match(T)&&(e._f+="Z"),B(e)}else e._isValid=!1}function it(e){Z(e),e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))}function Je(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function Ze(n){var o,s=n._i;s===e?n._d=new Date:Fe(s)?n._d=new Date(+s):null!==(o=Le.exec(s))?n._d=new Date(+o[1]):"string"==typeof s?it(n):x(s)?(n._a=Je(s.slice(0),function(e){return parseInt(e,10)}),z(n)):"object"==typeof s?gt(n):"number"==typeof s?n._d=new Date(s):t.createFromInputFallback(n)}function Qe(e,t,n,s,o,i,a){var r=new Date(e,t,n,s,o,i,a);return 1970>e&&r.setFullYear(e),r}function I(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function qe(e,t){if("string"==typeof e)if(e!=e){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Be(e,t,n,s,o){return o.relativeTime(t||1,!!n,e,s)}function Ie(e,n,s){var o=t.duration(e).abs(),d=g(o.as("s")),a=g(o.as("m")),r=g(o.as("h")),c=g(o.as("d")),l=g(o.as("M")),u=g(o.as("y")),i=d<f.s&&["s",d]||1===a&&["m"]||a<f.m&&["mm",a]||1===r&&["h"]||r<f.h&&["hh",r]||1===c&&["d"]||c<f.d&&["dd",c]||1===l&&["M"]||l<f.M&&["MM",l]||1===u&&["y"]||["yy",u];return i[2]=n,i[3]=+e>0,i[4]=s,Be.apply({},i)}function v(e,n,s){var i,a=s-n,o=s-e.day();return o>a&&(o-=7),a-7>o&&(o+=7),i=t(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function Ee(e,t,n,s,o){var a,r,i=I(e,0,1).getUTCDay();return i=0===i?7:i,n=n??o,r=o-i+(i>s?7:0)-(o>i?7:0),a=7*(t-1)+(n-o)+r+1,{year:a>0?e:e-1,dayOfYear:a>0?a:$(e-1)+a}}function le(n){var s=n._i,o=n._f;return n._locale=n._locale||t.localeData(n._l),null===s||o===e&&""===s?t.invalid({nullInput:!0}):("string"==typeof s&&(n._i=s=n._locale.preparse(s)),t.isMoment(s)?new k(s,!0):(o?x(o)?ct(n):B(n):Ze(n),new k(n)))}function V(e,n){var s,o;if(1===n.length&&x(n[0])&&(n=n[0]),!n.length)return t();for(o=n[0],s=1;s<n.length;++s)n[s][e](o)&&(o=n[s]);return o}function ue(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),M(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function N(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function me(e,t,n){return"Month"===t?ue(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function h(e,n){return function(s){return s!=null?(me(this,e,s),t.updateOffset(this,n),this):N(this,e)}}function pe(e){return 400*e/146097}function ge(e){return 146097*e/400}function Me(e){t.duration.fn[e]=function(){return this._data[e]}}function be(e){"undefined"==typeof ender&&(ye=F.moment,F.moment=e?r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",t):t)}for(var t,ye,o,Se="2.8.3",F="undefined"!=typeof global?global:this,g=Math.round,Ge=Object.prototype.hasOwnProperty,m=0,u=1,a=2,d=3,_=4,w=5,O=6,b={},C=[],ce="undefined"!=typeof module&&module.exports,Le=/^\/?Date\((-?\d+)/i,Re=/(-)?(?:(\d*)\.)?(\d+):(\d+)(?::(\d+)\.?(\d{3})?)?/,Pe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,re=/(\[[^[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,E=/(\[[^[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ie=/\d\d?/,Ve=/\d{1,3}/,$e=/\d{1,4}/,We=/[+-]?\d{1,6}/,Ue=/\d+/,Ke=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,T=/Z|[+-]\d\d:?\d\d/gi,Ye=/T/i,ke=/[+-]?\d+(\.\d{1,3})?/,Xe=/\d{1,2}/,ne=/\d/,te=/\d\d/,ee=/\d{3}/,et=/\d{4}/,tt=/[+-]?\d{6}/,nt=/[+-]?\d+/,st=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ot="YYYY-MM-DDTHH:mm:ssZ",D=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],L=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],rt=/([+-]|\d\d)/gi,Q=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),lt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},dt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},R={},f={s:45,m:45,h:22,d:26,M:11},G="DDD w W M D d".split(" "),Y="M D H h m s w W".split(" "),l={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return s(this.year()%100,2)},YYYY:function(){return s(this.year(),4)},YYYYY:function(){return s(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+s(e<0?-e:e,6)},gg:function(){return s(this.weekYear()%100,2)},gggg:function(){return s(this.weekYear(),4)},ggggg:function(){return s(this.weekYear(),5)},GG:function(){return s(this.isoWeekYear()%100,2)},GGGG:function(){return s(this.isoWeekYear(),4)},GGGGG:function(){return s(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return n(this.milliseconds()/100)},SS:function(){return s(n(this.milliseconds()/10),2)},SSS:function(){return s(this.milliseconds(),3)},SSSS:function(){return s(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+s(n(e/60),2)+":"+s(n(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+s(n(e/60),2)+s(n(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},K={},W=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];G.length;)o=G.pop(),l[o+"o"]=at(l[o],o);for(;Y.length;)o=Y.pop(),l[o+o]=X(l[o],2);l.DDDD=X(l.DDD,3),p(J.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var n,s,o;for(this._monthsParse||(this._monthsParse=[]),n=0;12>n;n++)if(this._monthsParse[n]||(s=t.utc([2e3,n]),o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),this._monthsParse[n].test(e))return n},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var n,s,o;for(this._weekdaysParse||(this._weekdaysParse=[]),n=0;7>n;n++)if(this._weekdaysParse[n]||(s=t([2e3,1]).day(n),o="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),this._weekdaysParse[n].test(e))return n},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,s){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,s):o.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return v(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,n,s,o){var i;return"boolean"==typeof s&&(o=s,s=e),i={},i._isAMomentObject=!0,i._i=t,i._f=n,i._l=s,i._strict=o,i._isUTC=!1,i._pf=P(),le(i)},t.suppressDeprecationWarnings=!1,t.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),t.min=function(){var e=[].slice.call(arguments,0);return V("isBefore",e)},t.max=function(){var e=[].slice.call(arguments,0);return V("isAfter",e)},t.utc=function(t,n,s,o){var i;return"boolean"==typeof s&&(o=s,s=e),i={},i._isAMomentObject=!0,i._useUTC=!0,i._isUTC=!0,i._l=s,i._i=t,i._f=n,i._strict=o,i._pf=P(),le(i).utc()},t.unix=function(e){return t(1e3*e)},t.duration=function(e,s){var r,c,l,u,i=e,o=null;return t.isDuration(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},s?i[s]=e:i.milliseconds=e):(o=Re.exec(e))?(r="-"===o[1]?-1:1,i={y:0,d:n(o[a])*r,h:n(o[d])*r,m:n(o[_])*r,s:n(o[w])*r,ms:n(o[O])*r}):(o=Pe.exec(e))?(r="-"===o[1]?-1:1,c=function(e){var t=e&&parseFloat(e.replace(",","."));return(t!=t?0:t)*r},i={y:c(o[2]),M:c(o[3]),d:c(o[4]),h:c(o[5]),m:c(o[6]),s:c(o[7]),w:c(o[8])}):"object"==typeof i&&("from"in i||"to"in i)&&(u=De(t(i.from),t(i.to)),i={},i.ms=u.milliseconds,i.M=u.months),l=new S(i),t.isDuration(e)&&j(e,"_locale")&&(l._locale=e._locale),l},t.version=Se,t.defaultFormat=ot,t.ISO_8601=function(){},t.momentProperties=C,t.updateOffset=function(){},t.relativeTimeThreshold=function(t,n){return f[t]!==e&&(n===e?f[t]:(f[t]=n,!0))},t.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(e,n){return t.locale(e,n)}),t.locale=function(e,n){var s;return e&&(s="undefined"!=typeof n?t.defineLocale(e,n):t.localeData(e),s&&(t.duration._locale=t._locale=s)),t._locale._abbr},t.defineLocale=function(e,n){return null!==n?(n.abbr=e,b[e]||(b[e]=new J),b[e].set(n),t.locale(e),b[e]):(delete b[e],null)},t.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(e){return t.localeData(e)}),t.localeData=function(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return t._locale;if(!x(e)){if(n=he(e))return n;e=[e]}return Te(e)},t.isMoment=function(e){return e instanceof k||e!=null&&j(e,"_isAMomentObject")},t.isDuration=function(e){return e instanceof S};for(o=W.length-1;o>=0;--o)Ae(W[o]);t.normalizeUnits=function(e){return i(e)},t.invalid=function(e){var n=t.utc(NaN);return e!=null?p(n._pf,e):n._pf.userInvalidated=!0,n},t.parseZone=function(){return t.apply(null,arguments).parseZone()},t.parseTwoDigitYear=function(e){return n(e)+(n(e)>68?1900:2e3)},p(t.fn=k.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=t(this).utc();return 0<e.year()&&e.year()<=9999?H(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return _e(this)},isDSTShifted:function(){return!!this._a&&this.isValid()&&ve(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var n=H(this,e||t.defaultFormat);return this.localeData().postformat(n)},add:de(1,"add"),subtract:de(-1,"subtract"),diff:function(e,n,s){var o,r,l,a=A(e,this),d=6e4*(this.zone()-a.zone());return n=i(n),"year"===n||"month"===n?(o=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),l=this-t(this).startOf("month")-(a-t(a).startOf("month")),l-=6e4*(this.zone()-t(this).startOf("month").zone()-(a.zone()-t(a).startOf("month").zone())),r+=l/o,"year"===n&&(r/=12)):(o=this-a,r="second"===n?o/1e3:"minute"===n?o/6e4:"hour"===n?o/36e5:"day"===n?(o-d)/864e5:"week"===n?(o-d)/6048e5:o),s?r:c(r)},from:function(e,n){return t.duration({to:this,from:e}).locale(this.locale()).humanize(!n)},fromNow:function(e){return this.from(t(),e)},calendar:function(e){var s=e||t(),o=A(s,this).startOf("day"),n=this.diff(o,"days",!0),i=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this))},isLeapYear:function(){return xe(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=qe(e,this.localeData()),this.add(e-t,"d")):t},month:h("Month",!0),startOf:function(e){switch(e=i(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=i(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,n){return n=i("undefined"!=typeof n?n:"millisecond"),"millisecond"===n?(e=t.isMoment(e)?e:t(e),+this>+e):+this.clone().startOf(n)>+t(e).startOf(n)},isBefore:function(e,n){return n=i("undefined"!=typeof n?n:"millisecond"),"millisecond"===n?(e=t.isMoment(e)?e:t(e),+e>+this):+this.clone().startOf(n)<+t(e).startOf(n)},isSame:function(e,n){return n=i(n||"millisecond"),"millisecond"===n?(e=t.isMoment(e)?e:t(e),+this===+e):+this.clone().startOf(n)===+A(e,this).startOf(n)},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=t.apply(null,arguments),this>e?this:e}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=t.apply(null,arguments),e>this?this:e}),zone:function(e,n){var s,o=this._offset||0;return e==null?this._isUTC?o:this._dateTzOffset():("string"==typeof e&&(e=U(e)),(e<0?-e:e)<16&&(e=60*e),!this._isUTC&&n&&(s=this._dateTzOffset()),this._offset=e,this._isUTC=!0,s!=null&&this.subtract(s,"m"),o!==e&&(!n||this._changeInProgress?fe(this,t.duration(o-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?t(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return M(this.year(),this.month())},dayOfYear:function(e){var n=g((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return e==null?n:this.add(e-n,"d")},quarter:function(e){return e==null?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=v(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return e==null?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=v(this,1,4).year;return e==null?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return e==null?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=v(this,1,4).week;return e==null?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")},isoWeekday:function(e){return e==null?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return Ce(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return Ce(this.year(),e.dow,e.doy)},get:function(e){return e=i(e),this[e]()},set:function(e,t){return e=i(e),"function"==typeof this[e]&&this[e](t),this},locale:function(n){var s;return n===e?this._locale._abbr:(s=t.localeData(n),s!=null&&(this._locale=s),this)},lang:r("moment().lang() is deprecated. Use moment().localeData() instead.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),t.fn.millisecond=t.fn.milliseconds=h("Milliseconds",!1),t.fn.second=t.fn.seconds=h("Seconds",!1),t.fn.minute=t.fn.minutes=h("Minutes",!1),t.fn.hour=t.fn.hours=h("Hours",!0),t.fn.date=h("Date",!0),t.fn.dates=r("dates accessor is deprecated. Use date instead.",h("Date",!0)),t.fn.year=h("FullYear",!0),t.fn.years=r("years accessor is deprecated. Use year instead.",h("FullYear",!0)),t.fn.days=t.fn.day,t.fn.months=t.fn.month,t.fn.weeks=t.fn.week,t.fn.isoWeeks=t.fn.isoWeek,t.fn.quarters=t.fn.quarter,t.fn.toJSON=t.fn.toISOString,p(t.duration.fn=S.prototype,{_bubble:function(){var o,i,a,r=this._milliseconds,t=this._days,n=this._months,e=this._data,s=0;e.milliseconds=r%1e3,o=c(r/1e3),e.seconds=o%60,i=c(o/60),e.minutes=i%60,a=c(i/60),e.hours=a%24,t+=c(a/24),s=c(pe(t)),t-=c(ge(s)),n+=c(t/30),t%=30,s+=c(n/12),n%=12,e.days=t,e.months=n,e.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return c(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*n(this._months/12)},humanize:function(e){var t=Ie(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,n){var s=t.duration(e,n);return this._milliseconds+=s._milliseconds,this._days+=s._days,this._months+=s._months,this._bubble(),this},subtract:function(e,n){var s=t.duration(e,n);return this._milliseconds-=s._milliseconds,this._days-=s._days,this._months-=s._months,this._bubble(),this},get:function(e){return e=i(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=i(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*pe(t),"month"===e?n:n/12;switch(t=this._days+ge(this._months/12),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:t.fn.lang,locale:t.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var s=Math.abs(this.years()),o=Math.abs(this.months()),i=Math.abs(this.days()),e=Math.abs(this.hours()),t=Math.abs(this.minutes()),n=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(s?s+"Y":"")+(o?o+"M":"")+(i?i+"D":"")+(e||t||n?"T":"")+(e?e+"H":"")+(t?t+"M":"")+(n?n+"S":""):"P0D"},localeData:function(){return this._locale}}),t.duration.fn.toString=t.duration.fn.toISOString;for(o in Q)j(Q,o)&&Me(o.toLowerCase());t.duration.fn.asMilliseconds=function(){return this.as("ms")},t.duration.fn.asSeconds=function(){return this.as("s")},t.duration.fn.asMinutes=function(){return this.as("m")},t.duration.fn.asHours=function(){return this.as("h")},t.duration.fn.asDays=function(){return this.as("d")},t.duration.fn.asWeeks=function(){return this.as("weeks")},t.duration.fn.asMonths=function(){return this.as("M")},t.duration.fn.asYears=function(){return this.as("y")},t.locale("en",{ordinal:function(e){var t=e%10,s=1===n(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+s}}),ce?module.exports=t:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(e,n,s){return s.config&&s.config()&&s.config().noGlobal===!0&&(F.moment=ye),t}),be(!0)):be()}.call(this),function(e,t){"use strict";"function"==typeof define&&define.amd?define("moment-timezone",["moment"],t):"object"==typeof exports?module.exports=t(require("moment")):t(e.moment)}(this,function(e){"use strict";function p(e){return e>96?e-87:e>64?e-29:e-48}function g(e){var n,t=0,o=e.split("."),i=o[0],a=o[1]||"",r=1,s=0,c=1;for(45===e.charCodeAt(0)&&(t=1,c=-1),t;t<i.length;t++)n=p(i.charCodeAt(t)),s=60*s+n;for(t=0;t<a.length;t++)r/=60,n=p(a.charCodeAt(t)),s+=n*r;return s*c}function d(e){for(var t=0;t<e.length;t++)e[t]=g(e[t])}function S(e,t){for(var n=0;t>n;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}function w(e,t){var n,s=[];for(n=0;n<t.length;n++)s[n]=e[t[n]];return s}function O(e){var t=e.split("|"),o=t[2].split(" "),n=t[3].split(""),s=t[4].split(" ");return d(o),d(n),d(s),S(s,n.length),{name:t[0],abbrs:w(t[1].split(" "),n),offsets:w(o,n),untils:s}}function a(e){e&&this._set(O(e))}function r(e){return(e||"").toLowerCase().replace(/\//g,"_")}function y(e){var t,s,o;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)s=new a(e[t]),o=r(s.name),n[o]=s,E(o)}function c(e){return n[r(e)]||null}function k(){var e,t=[];for(e in n)n.hasOwnProperty(e)&&n[e]&&t.push(n[e].name);return t.sort()}function v(e){var t,n;for("string"==typeof e&&(e=[e]),n=0;n<e.length;n++)t=e[n].split("|"),h(t[0],t[1]),h(t[1],t[0])}function E(e){if(o[e]){var t,i=n[e],s=o[e];for(t=0;t<s.length;t++)f(i,s[t]);o[e]=null}}function f(e,t){var s=n[r(t)]=new a;s._set(e),s.name=t}function h(e,t){e=r(e),n[e]?f(n[e],t):(o[e]=o[e]||[],o[e].push(t))}function M(e){y(e.zones),v(e.links),t.dataVersion=e.version}function l(e){return l.didShowError||(l.didShowError=!0,u("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!c(e)}function b(e){return!!e._a&&0[0]===e._tzm}function u(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function t(){var o=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],s=c(n),t=e.utc.apply(null,o);return s&&b(t)&&t.add(s.parse(t),"minutes"),t.tz(n),t}function m(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function C(e){return function(){return this._z=null,e.apply(this,arguments)}}if(0[0]!==e.tz)return e;var s,i,x="0.2.2",n={},o={},_=e.version.split("."),j=+_[0],A=+_[1];return(2>j||2===j&&6>A)&&u("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),a.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets},_index:function(e){var t,s=+e,n=this.untils;for(t=0;t<n.length;t++)if(s<n[t])return t},parse:function(e){var n,s,i,a,l=+e,o=this.offsets,r=this.untils,c=r.length-1;for(n=0;c>n;n++)if(s=o[n],i=o[n+1],a=o[n&&n-1],i>s&&t.moveAmbiguousForward?s=i:s>a&&t.moveInvalidForward&&(s=a),l<r[n]-6e4*s)return o[n];return o[c]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},t.version=x,t.dataVersion="",t._zones=n,t._links=o,t.add=y,t.link=v,t.load=M,t.zone=c,t.zoneExists=l,t.names=k,t.Zone=a,t.unpack=O,t.unpackBase60=g,t.needsOffset=b,t.moveInvalidForward=!0,t.moveAmbiguousForward=!1,s=e.fn,e.tz=t,e.updateOffset=function(e,t){var n;e._z&&(n=e._z.offset(e),(n<0?-n:n)<16&&(n/=60),e.zone(n,t))},s.tz=function(t){return t?(this._z=c(t),this._z?e.updateOffset(this):u("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:0[0]},s.zoneName=m(s.zoneName),s.zoneAbbr=m(s.zoneAbbr),s.utc=C(s.utc),i=e.momentProperties,"[object Array]"===Object.prototype.toString.call(i)?(i.push("_z"),i.push("_a")):i&&(i._z=null),e}),define("lib/amd-wrapped/momentjs/moment-jdateformatparser",["moment"],function(e){(function(){var t={},n={},i={d:"D",dd:"DD",yy:"YY",yyyy:"YYYY",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"SSS",SS:"SSS",SSS:"SSS",E:"ddd",EEEE:"dddd",D:"DDD",w:"W",ww:"WW",z:"ZZ",zzzz:"Z",Z:"ZZ",X:"ZZ",XX:"ZZ",XXX:"Z",u:"E"},a={D:"d",DD:"dd",YY:"yy",YYYY:"yyyy",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"S",SS:"S",SSS:"S",ddd:"E",dddd:"EEEE",DDD:"D",W:"w",WW:"ww",ZZ:"z",Z:"XXX",E:"u"},s=function(e,t){for(var c=e.length,n=0,s=-1,i=null,a="",r="";c>n;n++)a=e[n],(null===i||i!==a)&&(r=o(e,t,s,n,r),s=n),i=a;return o(e,t,s,n,r)},o=function(e,t,n,s,o){var i;return-1!==n&&(i=e.substring(n,s),t[i]&&(i=t[i]),o=o.concat(i)),o};e.fn.__translateJavaFormat=s,e.fn.toMomentFormatString=function(e){return t[e]||(t[e]=s(e,i)),t[e]},e.fn.formatWithJDF=function(e){return this.format(this.toMomentFormatString(e))},e.fn.toJDFString=function(e){return n[e]||(n[e]=s(e,a)),n[e]},"undefined"!=typeof module&&null!==module?module.exports=e:this.moment=e}).call(this)}),define("lib/amd-wrapped/momentjs/moment-timezones",["moment-timezone"],function(e){return e.tz.add(["America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp0 1Vb0 3dB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 17b0 1op0 1tb0 Q2m0 3Ne0 WM0 1fA0 1cM0 1cM0 1oJ0 1dc0 1030 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00"]),e}),define("gawkerlib/formatTime",["moment-timezone","lib/amd-wrapped/momentjs/moment-jdateformatparser","lib/amd-wrapped/momentjs/moment-timezones"],function(e){"use strict";return window.kinja=window.kinja||{},window.kinja.formatTime=function(t,n,s,o){return e(t).lang(o).tz(s).formatWithJDF(n)},window.kinja.formatTime}),define("lib/jquery.truncate",["jquery"],function(e){var t=/(\s*\S+|\s)$/;e.truncate=function(t,n){return e("<div></div>").append(t).truncate(n).html()},e.fn.truncate=function(n){e.isNumeric(n)&&(n={length:n});var s=e.extend({},e.truncate.defaults,n);return this.each(function(){o=e(this),s.noBreaks&&o.find("br").replaceWith(" ");var o,i=o.text(),n=i.length-s.length;s.stripTags&&o.text(i),s.words&&n>0&&(n=i.length-i.slice(0,s.length).replace(t,"").length-1),0>n||!n&&!s.truncated||e.each(o.contents().get().reverse(),function(t,o){var a=e(o),r=a.text(),i=r.length;return n>=i?(s.truncated=!0,n-=i,void a.remove()):3===o.nodeType?(e(o.splitText(i-n-1)).replaceWith(s.ellipsis),!1):(a.truncate(e.extend(s,{length:i-n})),!1)})})},e.truncate.defaults={stripTags:!1,words:!1,noBreaks:!1,length:1/0,ellipsis:"…"}}),define("gawkerlib/truncateHtml",["jquery","lib/jquery.truncate"],function(e){"use strict";return window.kinja=window.kinja||{},window.kinja.truncateHtml=function(t,n){return e.truncate(t,{length:n,words:!0})},window.kinja.truncateHtml}),define("gawkerlib/stripHtmlTags",[],function(){"use strict";window.kinja=window.kinja||{},window.kinja.stripHtmlTags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return e.replace(n,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})}}),define("lib/amd-wrapped/soy/soyutils",["gawkerlib/imageUrl","gawkerlib/formatTime","gawkerlib/truncateHtml","gawkerlib/readMore","gawkerlib/stripHtmlTags"],function(){n=n||{},n.DEBUG=!1,n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n){var o=Array.prototype.slice.call(arguments,2);return t.prototype[n].apply(e,o)}},n.userAgent||(n.userAgent=function(){var t,e="";return"undefined"!=typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(e=navigator.userAgent),t=0==e.indexOf("Opera"),{jscript:{HAS_JSCRIPT:"ScriptEngine"in this},OPERA:t,IE:!t&&-1!=e.indexOf("MSIE"),WEBKIT:!t&&-1!=e.indexOf("WebKit")}}()),n.asserts||(n.asserts={assert:function(e){if(!e)throw Error("Assertion error")},fail:function(){}}),n.dom||(n.dom={},n.dom.DomHelper=function(e){this.document_=e||document},n.dom.DomHelper.prototype.getDocument=function(){return this.document_},n.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},n.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}),n.format||(n.format={insertWordBreaks:function(e,t){e=String(e);for(var a,r=[],l=0,c=!1,o=!1,s=0,d=0,i=0,u=e.length;u>i;++i)if(a=e.charCodeAt(i),s>=t&&32!=a&&(r[l++]=e.substring(d,i),d=i,r[l++]=n.format.WORD_BREAK,s=0),c)62==a&&(c=!1);else if(o)switch(a){case 59:o=!1,++s;break;case 60:o=!1,c=!0;break;case 32:o=!1,s=0}else switch(a){case 60:c=!0;break;case 38:o=!0;break;case 32:s=0;break;default:++s}return r[l++]=e.substring(d),r.join("")},WORD_BREAK:n.userAgent.WEBKIT?"<wbr></wbr>":n.userAgent.OPERA?"&shy;":n.userAgent.IE?"&#8203;":"<wbr>"}),n.i18n||(n.i18n={bidi:{}}),n.i18n.bidi.IS_RTL=!1,n.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0,UNKNOWN:0},n.i18n.bidi.toDir=function(e,t){return"number"==typeof e?e>0?n.i18n.bidi.Dir.LTR:0>e?n.i18n.bidi.Dir.RTL:t?null:n.i18n.bidi.Dir.NEUTRAL:e==null?null:e?n.i18n.bidi.Dir.RTL:n.i18n.bidi.Dir.LTR},n.i18n.bidi.estimateDirection=function(e,t){for(var o,c=0,i=0,a=!1,l=s.$$bidiStripHtmlIfNecessary_(e,t).split(s.$$bidiWordSeparatorRe_),r=0;r<l.length;r++)o=l[r],s.$$bidiRtlDirCheckRe_.test(o)?(c++,i++):s.$$bidiIsRequiredLtrRe_.test(o)?a=!0:s.$$bidiLtrCharRe_.test(o)?i++:s.$$bidiHasNumeralsRe_.test(o)&&(a=!0);return 0==i?a?n.i18n.bidi.Dir.LTR:n.i18n.bidi.Dir.NEUTRAL:c/i>s.$$bidiRtlDetectionThreshold_?n.i18n.bidi.Dir.RTL:n.i18n.bidi.Dir.LTR},n.i18n.BidiFormatter=function(e){this.dir_=n.i18n.bidi.toDir(e,!0)},n.i18n.BidiFormatter.prototype.getContextDir=function(){return this.dir_},n.i18n.BidiFormatter.prototype.knownDirAttr=function(e){return e&&e!=this.dir_?0>e?'dir="rtl"':'dir="ltr"':""},n.i18n.BidiFormatter.prototype.endEdge=function(){return this.dir_<0?"left":"right"},n.i18n.BidiFormatter.prototype.mark=function(){return this.dir_>0?"‎":this.dir_<0?"‏":""},n.i18n.BidiFormatter.prototype.markAfterKnownDir=function(e,t,o){return e==null&&(e=n.i18n.bidi.estimateDirection(t,o)),this.dir_>0&&(0>e||s.$$bidiIsRtlExitText_(t,o))?"‎":this.dir_<0&&(e>0||s.$$bidiIsLtrExitText_(t,o))?"‏":""},n.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(e,t){e==null&&(e=n.i18n.bidi.estimateDirection(t,!0));var o=this.markAfterKnownDir(e,t,!0);return e>0&&this.dir_<=0?t='<span dir="ltr">'+t+"</span>":0>e&&this.dir_>=0&&(t='<span dir="rtl">'+t+"</span>"),t+o},n.i18n.BidiFormatter.prototype.startEdge=function(){return this.dir_<0?"right":"left"},n.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(e,t,s){e==null&&(e=n.i18n.bidi.estimateDirection(t,s));var o=this.markAfterKnownDir(e,t,s);return e>0&&this.dir_<=0?t="‪"+t+"‬":0>e&&this.dir_>=0&&(t="‫"+t+"‬"),t+o},n.string||(n.string={newLineToBr:function(e,t){return e=String(e),n.string.NEWLINE_TO_BR_RE_.test(e)?e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>"):e},urlEncode:encodeURIComponent,NEWLINE_TO_BR_RE_:/[\r\n]/}),n.string.StringBuffer=function(e){this.buffer_=n.userAgent.jscript.HAS_JSCRIPT?[]:"",e!=null&&this.append.apply(this,arguments)},n.string.StringBuffer.prototype.bufferLength_=0,n.string.StringBuffer.prototype.append=function(e,t){if(n.userAgent.jscript.HAS_JSCRIPT)if(t==null)this.buffer_[this.bufferLength_++]=e;else{var o,i=this.buffer_;i.push.apply(i,arguments),this.bufferLength_=this.buffer_.length}else if(this.buffer_+=e,t!=null)for(o=1;o<arguments.length;o++)this.buffer_+=arguments[o];return this},n.string.StringBuffer.prototype.clear=function(){n.userAgent.jscript.HAS_JSCRIPT?(this.buffer_.length=0,this.bufferLength_=0):this.buffer_=""},n.string.StringBuffer.prototype.toString=function(){if(n.userAgent.jscript.HAS_JSCRIPT){var e=this.buffer_.join("");return this.clear(),e&&this.append(e),e}return this.buffer_},n.soy||(n.soy={renderAsElement:function(e,t,n,o){return s.$$renderWithWrapper_(e,t,o,!0,n)},renderAsFragment:function(e,t,n,o){return s.$$renderWithWrapper_(e,t,o,!1,n)},renderElement:function(e,t,n,s){e.innerHTML=t(n,null,s)},data:{}}),n.soy.data.SanitizedContentKind={HTML:n.DEBUG?{sanitizedContentKindHtml:!0}:{},JS:n.DEBUG?{sanitizedContentJsChars:!0}:{},JS_STR_CHARS:n.DEBUG?{sanitizedContentJsStrChars:!0}:{},URI:n.DEBUG?{sanitizedContentUri:!0}:{},ATTRIBUTES:n.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:n.DEBUG?{sanitizedContentCss:!0}:{},TEXT:n.DEBUG?{sanitizedContentKindText:!0}:{}},n.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},n.soy.data.SanitizedContent.prototype.contentKind,n.soy.data.SanitizedContent.prototype.contentDir=null,n.soy.data.SanitizedContent.prototype.content,n.soy.data.SanitizedContent.prototype.toString=function(){return this.content};var n,s,e={esc:{}},t={};return t.VERY_UNSAFE={},s={$$DEFAULT_TEMPLATE_DATA_:{}},s.$$renderWithWrapper_=function(e,t,n,o,i){var r,c,l=n||document,a=l.createElement("div");if(a.innerHTML=e(t||s.$$DEFAULT_TEMPLATE_DATA_,0[0],i),1==a.childNodes.length&&(r=a.firstChild,!o||1==r.nodeType))return r;if(o)return a;for(c=l.createDocumentFragment();a.firstChild;)c.appendChild(a.firstChild);return c},s.$$bidiStripHtmlIfNecessary_=function(e,t){return t?e.replace(s.$$BIDI_HTML_SKIP_RE_,""):e},s.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g,s.$$bidiLtrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",s.$$bidiRtlChars_="֑-߿‏יִ-﷿ﹰ-ﻼ",s.$$bidiRtlDirCheckRe_=new RegExp("^[^"+s.$$bidiLtrChars_+"]*["+s.$$bidiRtlChars_+"]"),s.$$bidiLtrCharRe_=new RegExp("["+s.$$bidiLtrChars_+"]"),s.$$bidiIsRequiredLtrRe_=/^http:\/\/.*/,s.$$bidiHasNumeralsRe_=/\d/,s.$$bidiWordSeparatorRe_=/\s+/,s.$$bidiRtlDetectionThreshold_=.4,s.$$bidiLtrExitDirCheckRe_=new RegExp("["+s.$$bidiLtrChars_+"][^"+s.$$bidiRtlChars_+"]*$"),s.$$bidiRtlExitDirCheckRe_=new RegExp("["+s.$$bidiRtlChars_+"][^"+s.$$bidiLtrChars_+"]*$"),s.$$bidiIsLtrExitText_=function(e,t){return e=s.$$bidiStripHtmlIfNecessary_(e,t),s.$$bidiLtrExitDirCheckRe_.test(e)},s.$$bidiIsRtlExitText_=function(e,t){return e=s.$$bidiStripHtmlIfNecessary_(e,t),s.$$bidiRtlExitDirCheckRe_.test(e)},e.StringBuilder=n.string.StringBuffer,t.SanitizedContentKind=n.soy.data.SanitizedContentKind,t.isContentKind=function(e,t){return e!=null&&e.contentKind===t},t.getContentDir=function(e){if(e!=null)switch(e.contentDir){case n.i18n.bidi.Dir.LTR:return n.i18n.bidi.Dir.LTR;case n.i18n.bidi.Dir.RTL:return n.i18n.bidi.Dir.RTL;case n.i18n.bidi.Dir.NEUTRAL:return n.i18n.bidi.Dir.NEUTRAL}return null},t.SanitizedHtml=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedHtml,n.soy.data.SanitizedContent),t.SanitizedHtml.prototype.contentKind=t.SanitizedContentKind.HTML,t.SanitizedHtml.from=function(s){return s!=null&&s.contentKind===t.SanitizedContentKind.HTML?(n.asserts.assert(s.constructor===t.SanitizedHtml),s):t.VERY_UNSAFE.ordainSanitizedHtml(e.esc.$$escapeHtmlHelper(String(s)),t.getContentDir(s))},t.SanitizedJs=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedJs,n.soy.data.SanitizedContent),t.SanitizedJs.prototype.contentKind=t.SanitizedContentKind.JS,t.SanitizedJs.prototype.contentDir=n.i18n.bidi.Dir.LTR,t.SanitizedJsStrChars=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedJsStrChars,n.soy.data.SanitizedContent),t.SanitizedJsStrChars.prototype.contentKind=t.SanitizedContentKind.JS_STR_CHARS,t.SanitizedUri=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedUri,n.soy.data.SanitizedContent),t.SanitizedUri.prototype.contentKind=t.SanitizedContentKind.URI,t.SanitizedUri.prototype.contentDir=n.i18n.bidi.Dir.LTR,t.SanitizedHtmlAttribute=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedHtmlAttribute,n.soy.data.SanitizedContent),t.SanitizedHtmlAttribute.prototype.contentKind=t.SanitizedContentKind.ATTRIBUTES,t.SanitizedHtmlAttribute.prototype.contentDir=n.i18n.bidi.Dir.LTR,t.SanitizedCss=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(t.SanitizedCss,n.soy.data.SanitizedContent),t.SanitizedCss.prototype.contentKind=t.SanitizedContentKind.CSS,t.SanitizedCss.prototype.contentDir=n.i18n.bidi.Dir.LTR,t.UnsanitizedText=function(e,t){this.content=String(e),this.contentDir=t??null},n.inherits(t.UnsanitizedText,n.soy.data.SanitizedContent),t.UnsanitizedText.prototype.contentKind=t.SanitizedContentKind.TEXT,t.$$EMPTY_STRING_={VALUE:""},t.$$makeSanitizedContentFactory_=function(e){function t(){}function n(e,n){var s=new t;return s.content=String(e),0[0]!==n&&(s.contentDir=n),s}return t.prototype=e.prototype,n},t.$$makeSanitizedContentFactoryWithDefaultDirOnly_=function(e){function t(){}function n(e){var n=new t;return n.content=String(e),n}return t.prototype=e.prototype,n},t.markUnsanitizedText=function(e,n){return new t.UnsanitizedText(e,n)},t.VERY_UNSAFE.ordainSanitizedHtml=t.$$makeSanitizedContentFactory_(t.SanitizedHtml),t.VERY_UNSAFE.ordainSanitizedJs=t.$$makeSanitizedContentFactoryWithDefaultDirOnly_(t.SanitizedJs),t.VERY_UNSAFE.ordainSanitizedJsStrChars=t.$$makeSanitizedContentFactory_(t.SanitizedJsStrChars),t.VERY_UNSAFE.ordainSanitizedUri=t.$$makeSanitizedContentFactoryWithDefaultDirOnly_(t.SanitizedUri),t.VERY_UNSAFE.ordainSanitizedHtmlAttribute=t.$$makeSanitizedContentFactoryWithDefaultDirOnly_(t.SanitizedHtmlAttribute),t.VERY_UNSAFE.ordainSanitizedCss=t.$$makeSanitizedContentFactoryWithDefaultDirOnly_(t.SanitizedCss),e.renderElement=n.soy.renderElement,e.renderAsFragment=function(e,t,s,o){return n.soy.renderAsFragment(e,t,o,new n.dom.DomHelper(s))},e.renderAsElement=function(e,t,s,o){return n.soy.renderAsElement(e,t,o,new n.dom.DomHelper(s))},e.$$IS_LOCALE_RTL=n.i18n.bidi.IS_RTL,e.$$augmentMap=function(e,t){function n(){}n.prototype=e;var o,s=new n;for(o in t)s[o]=t[o];return s},e.$$checkMapKey=function(e){if("string"!=typeof e)throw Error(`Map literal's key expression must evaluate to string (encountered type "`+typeof e+'").');return e},e.$$getMapKeys=function(e){var n,t=[];for(n in e)t.push(n);return t},e.$$getDelTemplateId=function(e){return e},e.$$DELEGATE_REGISTRY_PRIORITIES_={},e.$$DELEGATE_REGISTRY_FUNCTIONS_={},e.$$registerDelegateFn=function(t,n,s,o){var i="key_"+t+":"+n,a=e.$$DELEGATE_REGISTRY_PRIORITIES_[i];if(0[0]===a||s>a)e.$$DELEGATE_REGISTRY_PRIORITIES_[i]=s,e.$$DELEGATE_REGISTRY_FUNCTIONS_[i]=o;else if(s==a)throw Error('Encountered two active delegates with the same priority ("'+t+":"+n+'").')},e.$$getDelegateFn=function(t,n,s){var o=e.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+t+":"+n];if(o||""==n||(o=e.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+t+":"]),o)return o;if(s)return e.$$EMPTY_TEMPLATE_FN_;throw Error('Found no active impl for delegate call to "'+t+":"+n+'" (and not allowemptydefault="true").')},e.$$EMPTY_TEMPLATE_FN_=function(){return""},t.$$makeSanitizedContentFactoryForInternalBlocks_=function(e){function n(){}function s(e,s){var o,i=String(e);return i?(o=new n,o.content=String(e),0[0]!==s&&(o.contentDir=s),o):t.$$EMPTY_STRING_.VALUE}return n.prototype=e.prototype,s},t.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_=function(e){function n(){}function s(e){var s,o=String(e);return o?(s=new n,s.content=String(e),s):t.$$EMPTY_STRING_.VALUE}return n.prototype=e.prototype,s},t.$$markUnsanitizedTextForInternalBlocks=function(e,n){var s=String(e);return s?new t.UnsanitizedText(s,n):t.$$EMPTY_STRING_.VALUE},t.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks=t.$$makeSanitizedContentFactoryForInternalBlocks_(t.SanitizedHtml),t.VERY_UNSAFE.$$ordainSanitizedJsForInternalBlocks=t.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(t.SanitizedJs),t.VERY_UNSAFE.$$ordainSanitizedUriForInternalBlocks=t.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(t.SanitizedUri),t.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks=t.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(t.SanitizedHtmlAttribute),t.VERY_UNSAFE.$$ordainSanitizedCssForInternalBlocks=t.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(t.SanitizedCss),e.$$escapeHtml=function(e){return t.SanitizedHtml.from(e)},e.$$cleanHtml=function(s){return t.isContentKind(s,t.SanitizedContentKind.HTML)?(n.asserts.assert(s.constructor===t.SanitizedHtml),s):t.VERY_UNSAFE.ordainSanitizedHtml(e.$$stripHtmlTags(s,e.esc.$$SAFE_TAG_WHITELIST_),t.getContentDir(s))},e.$$escapeHtmlRcdata=function(s){return t.isContentKind(s,t.SanitizedContentKind.HTML)?(n.asserts.assert(s.constructor===t.SanitizedHtml),e.esc.$$normalizeHtmlHelper(s.content)):e.esc.$$escapeHtmlHelper(s)},e.$$HTML5_VOID_ELEMENTS_=new RegExp("^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\b"),e.$$stripHtmlTags=function(t,n){if(!n)return String(t).replace(e.esc.$$HTML_TAG_REGEX_,"").replace(e.esc.$$LT_REGEX_,"&lt;");var s=String(t).replace(/\[/g,"&#91;"),o=[],s=s.replace(e.esc.$$HTML_TAG_REGEX_,function(e,t){if(t&&(t=t.toLowerCase(),n.hasOwnProperty(t)&&n[t])){var i="/"===e.charAt(1)?"</":"<",s=o.length;return o[s]=i+t+">","["+s+"]"}return""}),s=e.esc.$$normalizeHtmlHelper(s),i=e.$$balanceTags_(o);return s=s.replace(/\[(\d+)\]/g,function(e,t){return o[t]}),s+i},e.$$balanceTags_=function(t){for(var n,i,s=[],o=0,a=t.length;a>o;++o)if(i=t[o],"/"===i.charAt(1)){for(n=s.length-1;n>=0&&s[n]!=i;)n--;0>n?t[o]="":(t[o]=s.slice(n).reverse().join(""),s.length=n)}else e.$$HTML5_VOID_ELEMENTS_.test(i)||s.push("</"+i.substring(1));return s.reverse().join("")},e.$$escapeHtmlAttribute=function(s){return t.isContentKind(s,t.SanitizedContentKind.HTML)?(n.asserts.assert(s.constructor===t.SanitizedHtml),e.esc.$$normalizeHtmlHelper(e.$$stripHtmlTags(s.content))):e.esc.$$escapeHtmlHelper(s)},e.$$escapeHtmlAttributeNospace=function(s){return t.isContentKind(s,t.SanitizedContentKind.HTML)?(n.asserts.assert(s.constructor===t.SanitizedHtml),e.esc.$$normalizeHtmlNospaceHelper(e.$$stripHtmlTags(s.content))):e.esc.$$escapeHtmlNospaceHelper(s)},e.$$filterHtmlAttributes=function(s){return t.isContentKind(s,t.SanitizedContentKind.ATTRIBUTES)?(n.asserts.assert(s.constructor===t.SanitizedHtmlAttribute),s.content.replace(/([^"'\s])$/,"$1 ")):e.esc.$$filterHtmlAttributesHelper(s)},e.$$filterHtmlElementName=function(t){return e.esc.$$filterHtmlElementNameHelper(t)},e.$$escapeJs=function(t){return e.$$escapeJsString(t)},e.$$escapeJsString=function(s){return t.isContentKind(s,t.SanitizedContentKind.JS_STR_CHARS)?(n.asserts.assert(s.constructor===t.SanitizedJsStrChars),s.content):e.esc.$$escapeJsStringHelper(s)},e.$$escapeJsValue=function(s){if(s==null)return" null ";if(t.isContentKind(s,t.SanitizedContentKind.JS))return n.asserts.assert(s.constructor===t.SanitizedJs),s.content;switch(typeof s){case"boolean":case"number":return" "+s+" ";default:return"'"+e.esc.$$escapeJsStringHelper(String(s))+"'"}},e.$$escapeJsRegex=function(t){return e.esc.$$escapeJsRegexHelper(t)},e.$$problematicUriMarks_=/['()]/g,e.$$pctEncode_=function(e){return"%"+e.charCodeAt(0).toString(16)},e.$$escapeUri=function(s){if(t.isContentKind(s,t.SanitizedContentKind.URI))return n.asserts.assert(s.constructor===t.SanitizedUri),e.$$normalizeUri(s);var o=e.esc.$$escapeUriHelper(s);return e.$$problematicUriMarks_.lastIndex=0,e.$$problematicUriMarks_.test(o)?o.replace(e.$$problematicUriMarks_,e.$$pctEncode_):o},e.$$normalizeUri=function(t){return e.esc.$$normalizeUriHelper(t)},e.$$filterNormalizeUri=function(s){return t.isContentKind(s,t.SanitizedContentKind.URI)?(n.asserts.assert(s.constructor===t.SanitizedUri),e.$$normalizeUri(s)):e.esc.$$filterNormalizeUriHelper(s)},e.$$filterImageDataUri=function(n){return t.VERY_UNSAFE.ordainSanitizedUri(e.esc.$$filterImageDataUriHelper(n))},e.$$escapeCssString=function(t){return e.esc.$$escapeCssStringHelper(t)},e.$$filterCssValue=function(s){return t.isContentKind(s,t.SanitizedContentKind.CSS)?(n.asserts.assert(s.constructor===t.SanitizedCss),s.content):s==null?"":e.esc.$$filterCssValueHelper(s)},e.$$filterNoAutoescape=function(e){return t.isContentKind(e,t.SanitizedContentKind.TEXT)?(n.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[e.content]),"zSoyz"):e},e.$$changeNewlineToBr=function(e){var s=n.string.newLineToBr(String(e),!1);return t.isContentKind(e,t.SanitizedContentKind.HTML)?t.VERY_UNSAFE.ordainSanitizedHtml(s,t.getContentDir(e)):s},e.$$insertWordBreaks=function(e,s){var o=n.format.insertWordBreaks(String(e),s);return t.isContentKind(e,t.SanitizedContentKind.HTML)?t.VERY_UNSAFE.ordainSanitizedHtml(o,t.getContentDir(e)):o},e.$$truncate=function(t,n,s){return t=String(t),t.length<=n?t:(s&&(n>3?n-=3:s=!1),e.$$isHighSurrogate_(t.charAt(n-1))&&e.$$isLowSurrogate_(t.charAt(n))&&(n-=1),t=t.substring(0,n),s&&(t+="..."),t)},e.$$isHighSurrogate_=function(e){return e>=55296&&56319>=e},e.$$isLowSurrogate_=function(e){return e>=56320&&57343>=e},e.$$bidiFormatterCache_={},e.$$getBidiFormatterInstance_=function(t){return e.$$bidiFormatterCache_[t]||(e.$$bidiFormatterCache_[t]=new n.i18n.BidiFormatter(t))},e.$$bidiTextDir=function(e,s){var i,o=t.getContentDir(e);return o??(i=s||t.isContentKind(e,t.SanitizedContentKind.HTML),n.i18n.bidi.estimateDirection(e+"",i))},e.$$bidiDirAttr=function(s,o,i){var r,c=e.$$getBidiFormatterInstance_(s),a=t.getContentDir(o);return a==null&&(r=i||t.isContentKind(o,t.SanitizedContentKind.HTML),a=n.i18n.bidi.estimateDirection(o+"",r)),t.VERY_UNSAFE.ordainSanitizedHtmlAttribute(c.knownDirAttr(a))},e.$$bidiMarkAfter=function(n,s,o){var i=e.$$getBidiFormatterInstance_(n),a=o||t.isContentKind(s,t.SanitizedContentKind.HTML);return i.markAfterKnownDir(t.getContentDir(s),s+"",a)},e.$$bidiSpanWrap=function(n,s){var o=e.$$getBidiFormatterInstance_(n),i=o.spanWrapWithKnownDir(t.getContentDir(s),s+"",!0);return i},e.$$bidiUnicodeWrap=function(n,s){var a=e.$$getBidiFormatterInstance_(n),r=t.isContentKind(s,t.SanitizedContentKind.HTML),o=a.unicodeWrapWithKnownDir(t.getContentDir(s),s+"",r),i=a.getContextDir();return t.isContentKind(s,t.SanitizedContentKind.TEXT)?new t.UnsanitizedText(o,i):r?t.VERY_UNSAFE.ordainSanitizedHtml(o,i):t.isContentKind(s,t.SanitizedContentKind.JS_STR_CHARS)?t.VERY_UNSAFE.ordainSanitizedJsStrChars(o,i):o},e.esc.$$escapeUriHelper=function(e){return encodeURIComponent(String(e))},e.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","	":"&#9;","\n":"&#10;","":"&#11;","":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","":"&#133;"," ":"&#160;"," ":"&#8232;"," ":"&#8233;"},e.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(t){return e.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[t]},e.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\x00":"\\x00","":"\\x08","	":"\\t","\n":`\\n`,"":"\\x0b","":"\\f","\r":"\\r",'"':'\\x22',"&":"\\x26","'":"\\x27","/":"\\/","<":"\\x3c","=":"\\x3d",">":"\\x3e","\\":"\\\\","":"\\x85"," ":"\\u2028"," ":"\\u2029",$:"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"},e.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(t){return e.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[t]},e.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\x00":"\\0 ","":"\\8 ","	":"\\9 ","\n":"\\a ","":"\\b ","":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","":"\\85 "," ":"\\a0 "," ":"\\2028 "," ":"\\2029 "},e.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(t){return e.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[t]},e.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\x00":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","":"%08","	":"%09","\n":"%0A","":"%0B","":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0"," ":"%E2%80%A8"," ":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"},e.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(t){return e.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[t]},e.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g,e.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g,e.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,e.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,e.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27/\x3c-\x3e\\\x85\u2028\u2029]/g,e.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g,e.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,e.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,e.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,e.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:/?#]*(?:[/?#]|$))/i,e.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_=/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+/]+=*$/i,e.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i,e.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i,e.esc.$$escapeHtmlHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_ESCAPE_HTML_,e.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},e.esc.$$normalizeHtmlHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_NORMALIZE_HTML_,e.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},e.esc.$$escapeHtmlNospaceHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,e.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},e.esc.$$normalizeHtmlNospaceHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,e.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},e.esc.$$escapeJsStringHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,e.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},e.esc.$$escapeJsRegexHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,e.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},e.esc.$$escapeCssStringHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,e.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)},e.esc.$$filterCssValueHelper=function(t){var n=String(t);return e.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(n)?n:"zSoyz"},e.esc.$$normalizeUriHelper=function(t){var n=String(t);return n.replace(e.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,e.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)},e.esc.$$filterNormalizeUriHelper=function(t){var n=String(t);return e.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(n)?n.replace(e.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,e.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_):"#zSoyz"},e.esc.$$filterImageDataUriHelper=function(t){var n=String(t);return e.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(n)?n:"data:image/gif;base64,zSoyz"},e.esc.$$filterHtmlAttributesHelper=function(t){var n=String(t);return e.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(n)?n:"zSoyz"},e.esc.$$filterHtmlElementNameHelper=function(t){var n=String(t);return e.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(n)?n:"zSoyz"},e.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,e.esc.$$LT_REGEX_=/</g,e.esc.$$SAFE_TAG_WHITELIST_={b:1,br:1,em:1,i:1,s:1,sub:1,sup:1,u:1},{goog:n,soy:e,soydata:t}}),define("lib/amd-wrapped/soy/soy",["lib/amd-wrapped/soy/soyutils"],function(e){"use strict";var t=e.soy;return t.$$normalizeHtml||(t.$$normalizeHtml=t.esc.$$normalizeHtmlHelper),t}),define("singleton/Renderer",["lib/amd-wrapped/soy/soy"],function(e){"use strict";var t={renderTemplate:function(t,n,s){return e.renderAsFragment(t,n,0[0],s||{})}};return t}),define("view/BaseView",["jquery","backbone","singleton/Renderer","singleton/Utils"],function(e,t,n,s){"use strict";var o=t.View.extend({constructor:function(e){e&&e.services&&(this.services=e.services,delete e.services),this.options=e||{},t.View.prototype.constructor.apply(this,arguments)},CACHEBUSTER_KEY:"rev",postForm:null,pageType:null,soyToHtml:function(e,t,o){var i=s.getRenderableData(t,o);return n.renderTemplate(e,i.data,i.injected)},t:function(t){return e.trim(t())},cachebuster:function(e){return e+=-1===e.indexOf("?")?"?":"&",e+=this.CACHEBUSTER_KEY+"="+this.cachebusterValue()},cachebusterValue:function(){return Math.floor((new Date).getTime()/1e3)},getHtml:function(t){var n=e("<div />");return n.append(t),n.html()},getPageType:function(){return null===this.pageType&&(this.pageType=s.getKinjaMeta().pageType||"frontpage"),this.pageType}});return o}),define("singleton/StringUtils",[],function(){"use strict";var e={endsWith:function(e,t){return"undefined"!=typeof e&&"undefined"!=typeof t&&(""===t||(e=String(e),t=String(t),e.length>=t.length&&e.indexOf(t)===e.length-t.length))},ucFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}};return e}),define("singleton/ChartbeatBlog",["singleton/CurrentBlog","singleton/StringUtils"],function(e,t){"use strict";var n={reportedHost:function(n){var o="",s=n||e.canonicalHost||window.location.hostname;return o="es.gizmodo.com"===s?"es.gizmodo.com":t.endsWith(s,"jalopnik.com")?"jalopnik.com":t.endsWith(s,"io9.com")?"io9.com":t.endsWith(s,"kotaku.com")?"kotaku.com":t.endsWith(s,"gizmodo.com")?"gizmodo.com":t.endsWith(s,"gawker.com")?"gawker.com":t.endsWith(s,"cink.hu")?"cink.hu":t.endsWith(s,"deadspin.com")?"deadspin.com":t.endsWith(s,"jezebel.com")?"jezebel.com":t.endsWith(s,"lifehacker.com")?"lifehacker.com":"kinja.com"}};return n}),define("singleton/trackers/GoogleTrackers",["jquery","underscore","singleton/Feature","singleton/Utils","singleton/CurrentBlog"],function(e,t,n,s,o){"use strict";n.isOn("optimizely")&&(window.optimizely=window.optimizely||[]);var i={_getDimensions:t.once(function(){var t,i=e.cookie("kinjaads.displayName"),a=n.isOn("optimizely")?window.optimizely.activeExperiments||[]:[],r="No Experiment",o="not tracking",s="none detected";return a.length>0&&(r=window.optimizely.variationNamesMap[a[0]]),n.isOn("track_adblock")&&(t=window.document.createElement("div"),o="off",t.setAttribute("class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"),t.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),t.setAttribute("id","bait"),window.document.body.appendChild(t),(null!==window.document.body.getAttribute("abp")||null===t.offsetParent||0===t.offsetHeight||0===t.offsetLeft||0===t.offsetTop||0===t.offsetWidth||0===t.clientHeight||0===t.clientWidth)&&(o="on"),0[0]!==window.getComputedStyle&&("none"===window.getComputedStyle(t).getPropertyValue("display")||"hidden"===window.getComputedStyle(t).getPropertyValue("visibility"))&&(o="on")),window.document.documentElement.clientWidth<600?s="<600":window.document.documentElement.clientWidth<800?s="600-799":window.document.documentElement.clientWidth<1024?s="800-1023":window.document.documentElement.clientWidth>=1024&&(s="1024+"),{loginState:i&&""!==i?"Logged in":"Logged out",optimizely:r,windowWidth:String(window.document.documentElement.clientWidth||0),windowHeight:String(window.document.documentElement.clientHeight||0),responsiveVersion:s||"none detected",adblock:o||"not tracking"}}),createUniversalLinkedGABlogPageView:function(e){var r,c,l=["kinja.com","gawker.com","deadspin.com","gizmodo.com","io9.com","jalopnik.com","jezebel.com","kotaku.com","lifehacker.com","cink.hu","gawker-labs.com"],a=i._getDimensions();0[0]!==o.canonicalHost&&("atlatszooktatas.cink.hu"===o.canonicalHost?(r="UA-41411601-1",ga("create",r,"auto",{name:"atlatszooktatas",allowLinker:!0}),ga("linker:autoLink",l,!0),n.isOn("optimizely")&&window.optimizely.push("activateUniversalAnalytics"),ga("atlatszooktatas.send","pageview",{dimension1:a.loginState,dimension2:a.optimizely,dimension3:a.adblock,dimension4:a.responsiveVersion,metric1:a.windowWidth,metric2:a.windowHeight})):s.getKinjaMeta().blog&&s.getKinjaMeta().blog.googleAnalyticsID&&(r=s.getKinjaMeta().blog.googleAnalyticsID,c={name:"unique",allowLinker:!0},t.isUndefined(e)||(c.clientId=e),ga("create",r,"auto",c),ga("linker:autoLink",l,!0),n.isOn("optimizely")&&window.optimizely.push("activateUniversalAnalytics"),ga("unique.send","pageview",{dimension1:a.loginState,dimension2:a.optimizely,dimension3:a.adblock,dimension4:a.responsiveVersion,metric1:a.windowWidth,metric2:a.windowHeight})))},createCrossDomainLinker:function(){var t,s="UA-142218-33",o=["kinja.com","gawker.com","deadspin.com","gizmodo.com","io9.com","jalopnik.com","jezebel.com","kotaku.com","lifehacker.com","cink.hu","gawker-labs.com"],a={allowLinker:!0},e=i._getDimensions();ga("create",s,"auto",a),ga("require","linker"),ga("linker:autoLink",o,!0),ga(function(e){t=e.get("clientId")}),i.createUniversalLinkedGABlogPageView(t),n.isOn("optimizely")&&window.optimizely.push("activateUniversalAnalytics"),ga("send","pageview",{dimension1:e.loginState,dimension2:e.optimizely,dimension3:e.adblock,dimension4:e.responsiveVersion,metric1:e.windowWidth,metric2:e.windowHeight,hitCallback:function(){window.location.hash&&window.location.hash.match(/_ga/)&&"function"==typeof window.history.replaceState&&window.history.replaceState({},window.title,window.location.href.split("#")[0])}})},API:{addUniversalGAEvents:function(){i.createCrossDomainLinker()}}};return i.API}),define("module/ads/singleton/SocialReferrerHelper",[],function(){"use strict";var e={regex:/\b(?:facebook|instagram|pinterest|reddit|twitter|tumblr|t\.co)\b/i,brandMap:{"t.co":"twitter"},scanForSocialReferrers:function(){var e=(document.referrer||"").match(this.regex);return e&&(e=e[0].toLowerCase()),this.brandMap[e]||e}};return e}),define("singleton/Trackers",["jquery","underscore","moment","view/BaseView","singleton/CurrentBlog","singleton/ChartbeatBlog","singleton/Feature","singleton/Utils","singleton/trackers/GoogleTrackers","module/ads/singleton/SocialReferrerHelper","lib/jquery.cookie"],function(e,t,n,s,o,i,a,r,c,l){"use strict";var d=document.location.protocol,u=s.extend({$trackerContainer:e("#trackers"),tagLengthLimit:1e3,initialize:function(){var t=this.getPageType();this.addNielsen(),a.isOn("cleanwaterfall")||this.addChartbeat(),this.addGoogleAnalyticsUniversalScript(),this.addUniversalGAEvents(),this.addQuantcast(),this.addKruxControlTag(),"editor"!==t&&this.addSkimLinks(),this.addComScore(),"kinja.roadandtrack.com"===o.canonicalHost&&this.addOmnitureTracker("//www.adobetag.com/d1/v2/ZDEtaGVhcnN0bWFnYXppbmVzLTMzOTItMzIwMy0=/amc.js"),!r.kinjaMeta.blog||"frontpage"!==t&&"permalink"!==t||(this.addGptAudienceTracker(),this.addGptInboundAudienceTracker(),e(".row.page").on("click",'a[href^="http"]',this.addGptOutboundAudienceTracker.bind(this))),this.trackDescriptionLinks()},addUniversalGAEvents:function(){c.addUniversalGAEvents()},addNielsen:function(){var t=e.cookie("geocc");!t||"AU"!==t&&"NZ"!==t?this.createTrackerImage("//secure-us.imrworldwide.com/cgi-bin/m?ci=us-803450h&cg=0&cc=1&si="+encodeURIComponent(window.location.href)+"&rp="+encodeURIComponent(document.referrer)+"&ts=compact&rnd="+(new Date).getTime()):e("body").hasClass("platform-mobile")===!0?this.createTrackerImage("//secure-au.imrworldwide.com/cgi-bin/m?ci=alluremedia&cg=0&cc=1&ts=noscript"):e.getScript("http://secure-au.imrworldwide.com/v60.js?ver=3.4.2",function(){var e=window.nol_t({cid:"alluremedia",content:"0",server:"secure-au"});e.record().post()})},addChartbeat:function(){var s=this.createScriptTag("//static.chartbeat.com/js/chartbeat.js"),e=window._sf_async_config||{},t=o.canonicalHost,n=r.kinjaMeta.tags||"";n.length>0&&(t=t+","+n),e.uid=3012,e.domain=i.reportedHost(),e.useCanonical=!0,e.sections=t,e.authors=r.kinjaMeta.authors||"",window._sf_async_config=e,window._sf_endpt=(new Date).getTime(),this.insertTracker(s)},addKruxControlTag:function(){var e=o&&o.kruxId?o.kruxId:"JO5QwU-I",t=("https:"===d?"https:":"http:")+"//cdn.krxd.net/controltag?confid="+e,n=this.createScriptTag(t);this.insertTracker(n),this.addKruxPixels()},addKruxPixels:function(){var t=this,n=e("iframe.youtube"),s=e("iframe.vimeo");n.length&&this.loadYoutubeAPI().done(function(){t.youtubeIsTriggered(n)}),s.length&&require(["lib/amd-wrapped/froogaloop"],function(){Froogaloop&&t.vimeoIsTriggered(s)}),this.kruxLinkClickTracking()},loadYoutubeAPI:function(){return e.getScript("http://www.youtube.com/player_api")},youtubeIsTriggered:function(n){function i(e){return function(n){var i=t.contains(o,e);s&&!i&&n.data===YT.PlayerState.PLAYING&&(a.triggerKruxLinkPixel("JTSiOctO"),o.push(e))}}var a=this,s={},o=[];window.onYouTubeIframeAPIReady=function(){n.each(function(){var n=e(this).attr("data-chomp-id"),t="youtube-"+n;t&&(s[t]=new YT.Player(t,{events:{onStateChange:i(t)}}))})}},vimeoIsTriggered:function(n){function o(n){var o=e("#"+n).attr("id"),a=t.contains(s,o);a||(i.triggerKruxLinkPixel("JTSiOctO"),s.push(o))}var i=this,s=[];n.each(function(){var e=new Froogaloop(this);e.addEvent("play",o)})},kruxLinkClickTracking:function(){var s=this,n={"amazon.com":{eventId:"JTS-IXvt"},"ebay.com":{eventId:"JTS-spFt"},"bestbuy.com":{eventId:"JTS-spFt"},"walmart.com":{eventId:"JTS-spFt"},"smears.com":{eventId:"JTS-spFt"},"twitter.com":{eventId:"JTS_oslC"},"facebook.com":{eventId:"JTS_azAt"},"instagram.com":{eventId:"JTS_wO-8"},"dreamhost.com":{eventId:"JTS-geuH"},"hostgator.com":{eventId:"JTS-geuH"},"bluehost.com":{eventId:"JTS-geuH"},"asmallorange.com":{eventId:"JTS-geuH"}};e(".entry-content a, .item-content a").on("click",function(){var o,i,a=e(this).attr("href");a&&(i=a.replace(/(www)?http(s)?:\/\//,"").split(/[/?#]/)[0],o=t.find(t.keys(n),function(e){return-1!==i.indexOf(e)})),o&&s.triggerKruxLinkPixel(n[o].eventId)})},triggerKruxLinkPixel:function(e){(new Image).src=("https:"===d?"https:":"http:")+"//beacon.krxd.net/event.gif?event_id="+e+"&event_type=cact"},addGoogleAnalytics:function(){var s="//stats.g.doubleclick.net/dc.js",i=this.createScriptTag(s),t=window._gaq||[],n=e.cookie("kinjaads.displayName");t.push(["_setAccount","UA-142218-33"]),0[0]!==o.canonicalHost&&t.push(["_setDomainName",o.canonicalHost]),t.push(["_setCustomVar",1,"Login state",n&&""!==n?"Logged in":"Logged out",2]),t.push(["_trackPageview"]),"atlatszooktatas.cink.hu"===o.canonicalHost&&(t.push(["atlatszooktatas._setAccount","UA-41411601-1"]),t.push(["atlatszooktatas._trackPageview"])),r.getKinjaMeta().blog&&""!==r.getKinjaMeta().blog.googleAnalyticsID&&(t.push(["unique._setAccount",r.getKinjaMeta().blog.googleAnalyticsID]),t.push(["unique._trackPageview"])),window._gaq=t,this.insertTracker(i)},addGoogleAnalyticsUniversalScript:function(){!function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=(new Date).getTime(),i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga")},addComScore:function(){var t=("https:"===d?"https://sb":"http://b")+".scorecardresearch.com/beacon.js",n=this.createScriptTag(t),e=window._comscore||[];e.push({c1:"2",c2:"6770184"}),window._comscore=e,this.insertTracker(n)},addQuantcast:function(){var e,t,s,a=("https:"===d?"https://secure":"http://edge")+".quantserve.com/quant.js",c=this.createScriptTag(a),o=window._qevents||[],i={qacct:"p-d4P3FpSypJrlA"};"permalink"===r.kinjaMeta.pageType&&r.kinjaMeta.post&&(t=""!==r.kinjaMeta.post.headline?r.kinjaMeta.post.headline.replace(/,|\./g,""):r.kinjaMeta.post.first100Characters.replace(/,|\./g,""),s=n(r.kinjaMeta.post.publishTimeMillis).format("YYYY-MM-DD"),e="Author."+r.kinjaMeta.authors.replace(/,|\./g,"")+"."+t+",Post Title."+t+",Post Publish Date."+s,0[0]!==r.kinjaMeta.post.tags[0]&&(e+=",Primary Tag."+r.kinjaMeta.post.tags[0].desc.replace(/,|\./g,"")),i.labels=e),o.push(i),window._qevents=o,this.insertTracker(c)},addSkimLinks:function(){var e,t="//s.skimresources.com/js/";switch(o.canonicalHost){case"jalopnik.com":case"oppositelock.jalopnik.com":case"drive.jalopnik.com":case"thefusionproject.jalopnik.com":e="33330X911653";break;case"io9.com":case"observationdeck.io9.com":e="33330X911651";break;case"kotaku.com":case"live.kotaku.com":e="33330X911644";break;case"gizmodo.com":case"live.gizmodo.com":case"paleofuture.gizmodo.com":e="33330X911642";break;case"gawker.com":case"defamer.gawker.com":case"valleywag.gawker.com":e="33330X911623";break;case"deadspin.com":e="33330X911648";break;case"jezebel.com":e="33330X911650";break;case"lifehacker.com":e="33330X911647";break;default:window.skimlinks_tracking=o.canonicalHost,e="33330X1169095"}this.insertTracker(this.createScriptTag(t+e+".skimlinks.js"))},addOmnitureTracker:function(e){var n,t=window.amc||{};t.on||(t.on=t.call=function(){}),n=this.createScriptTag(e),this.insertTracker(n)},_gptAudienceUrl:function(e,t,n){var s,a=4246,c="http://pubads.g.doubleclick.net/activity;dc_iu=/"+a+"/DFP_Audience_Pixel",l=1e13*Math.random(),o=r.getKinjaMeta(),d=o.postId||"",i=o.tags||"";return s=[c,"dc_seg="+e,"blog="+o.blog.name,"ord="+l,"postId="+d],i.length<=this.tagLengthLimit&&!n&&s.push("tags="+i),s.join(";")+(t||"")+"?"},addGptAudienceTracker:function(){this.createTrackerImage(this._gptAudienceUrl(22540930))},addGptInboundAudienceTracker:function(){var t=document.referrer,e=";refer="+t,n=l.scanForSocialReferrers();n&&(e+=";refer=social"),this.createTrackerImage(this._gptAudienceUrl(23702290,e))},addGptOutboundAudienceTracker:function(t){var n=e(t.currentTarget).prop("hostname").split(".").slice(-2).join("."),s=";outbound="+n;this.createTrackerImage(this._gptAudienceUrl(23753410,s,!0))},trackDescriptionLinks:function(){e(".description-content a").each(function(){var t='window._gaq.push(["_trackEvent", "Site description tag links", "Tag clicked", "'+this.href+'"]);';e(this).attr("onclick",t)})},createTrackerImage:function(e){var t=new Image(1,1);t.src=e,this.insertTracker(t)},createScriptTag:function(e){var t=document.createElement("script");return t.setAttribute("language","javascript"),t.setAttribute("type","text/javascript"),t.setAttribute("src",e),t.setAttribute("async","async"),t},insertTracker:function(e){this.$trackerContainer.append(e)},trackError:function(){this.addUniversalGAEvents()}},{loadDummyTrackers:function(){window._gaq=[],window.ga=function(){}}});return{load:t.once(function(){return new u}),loadDummy:u.loadDummyTrackers,trackError:function(){var e=new u;e.trackError()}}}),function(e,t){define("backbone.marionette",["underscore","backbone"],t)}(this,function(e,t){var n=function(e,t,n){"use strict";function o(e,t){var n=new Error(e);throw n.name=t||"Error",n}!function(e,t){var n=e.ChildViewContainer;return e.ChildViewContainer=function(e,t){var s,n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};return t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){return e===n?(delete this._indexByCustom[t],!0):0[0]},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(s){t.isFunction(s[e])&&s[e].apply(s,n||[])})},_updateLength:function(){this.length=t.size(this._views)}}),s=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],t.each(s,function(e){n.prototype[e]=function(){var n=t.values(this._views),s=[n].concat(t.toArray(arguments));return t[e].apply(t,s)}}),n}(e,t),e.ChildViewContainer.VERSION="0.1.4",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=n,this},e.ChildViewContainer}(t,n),function(e,t){var s=e.Wreqr,n=e.Wreqr={};return e.Wreqr.VERSION="1.3.1",e.Wreqr.noConflict=function(){return e.Wreqr=s,this},n.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var s=null;t.isObject(e)&&!t.isFunction(e)&&(s=e.context,e=e.callback),this.setHandler(n,e,s)},this)},setHandler:function(e,t,n){var s={callback:t,context:n};this._wreqrHandlers[e]=s,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,t),n.CommandStorage=function(){var n=function(e){this.options=e,this._commands={},t.isFunction(this.initialize)&&this.initialize(e)};return t.extend(n.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),n}(),n.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,n,s){var o=this.storage.getCommands(e);t.each(o.instances,function(e){n.apply(s,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var n=e.storageType||this.storageType,s=t.isFunction(n)?new n:n;this.storage=s}})}(n),n.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.hasHandler(e)?this.getHandler(e).apply(this,t):0[0]}})}(n),n.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,t),n.Channel=function(){var s=function(t){this.vent=new e.Wreqr.EventAggregator,this.reqres=new e.Wreqr.RequestResponse,this.commands=new e.Wreqr.Commands,this.channelName=t};return t.extend(s.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(e,n,s){if(n){s=s||this;var o="vent"===e?"on":"setHandler";t.each(n,function(n,i){this[e][o](i,t.bind(n,s))},this)}}}),s}(n),n.radio=function(e){n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()},t.extend(n.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var n=this._channels[t];return n||(n=new e.Channel(t),this._channels[t]=n),n},_proxyMethods:function(){t.each(["vent","commands","reqres"],function(e){t.each(s[e],function(t){this[e][t]=o(this,e,t)},this)},this)}});var n,s={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},o=function(e,t,n){return function(s){var o=e._getChannel(s)[t],i=Array.prototype.slice.call(arguments,1);return o[n].apply(o,i)}};return new n}(n),e.Wreqr}(t,n);var i,s={};return t.Marionette=s,s.$=t.$,i=Array.prototype.slice,s.extend=t.Model.extend,s.getOption=function(e,t){if(e&&t){var n;return n=e.options&&t in e.options&&0[0]!==e.options[t]?e.options[t]:e[t]}},s.normalizeMethods=function(e){var t,s={};return n.each(e,function(e,o){t=e,n.isFunction(t)||(t=this[t]),t&&(s[o]=t)},this),s},s.normalizeUIKeys=function(e,t){return"undefined"!=typeof e?(n.each(n.keys(e),function(n){var s=/@ui.[a-zA-Z_$0-9]*/g;n.match(s)&&(e[n.replace(s,function(e){return t[e.slice(4)]})]=e[n],delete e[n])}),e):0[0]},s.actAsCollection=function(e,t){var s=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(s,function(s){e[s]=function(){var e=n.values(n.result(this,t)),o=[e].concat(n.toArray(arguments));return n[s].apply(n,o)}})},s.triggerMethod=function(){function e(e,t,n){return n.toUpperCase()}var t=/(^|:)(\w)/gi,s=function(s){var i="on"+s.replace(t,e),o=this[i];return n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),n.isFunction(o)?o.apply(this,n.tail(arguments)):0[0]};return s}(),s.MonitorDOMRefresh=function(e){function s(e){e._isShown=!0,t(e)}function o(e){e._isRendered=!0,t(e)}function t(e){e._isShown&&e._isRendered&&i(e)&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}function i(t){return e.contains(t.el)}return function(e){e.listenTo(e,"show",function(){s(e)}),e.listenTo(e,"render",function(){o(e)})}}(document.documentElement),function(e){function s(e,t,s,i){var a=i.split(/\s+/);n.each(a,function(n){var i=e[n];i||o("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,s,i)})}function i(e,t,n,s){e.listenTo(t,n,s)}function a(e,t,s,o){var i=o.split(/\s+/);n.each(i,function(n){var o=e[n];e.stopListening(t,s,o)})}function r(e,t,n,s){e.stopListening(t,n,s)}function t(e,t,s,o,i){t&&s&&(n.isFunction(s)&&(s=s.call(e)),n.each(s,function(s,a){n.isFunction(s)?o(e,t,a,s):i(e,t,a,s)}))}e.bindEntityEvents=function(e,n,o){t(e,n,o,i,s)},e.unbindEntityEvents=function(e,n,s){t(e,n,s,r,a)}}(s),s.Callbacks=function(){this._deferred=s.$.Deferred(),this._callbacks=[]},n.extend(s.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(n,s){t&&(n=t),e.call(n,s)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=s.$.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),s.Controller=function(e){this.triggerMethod=s.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},s.Controller.extend=s.extend,n.extend(s.Controller.prototype,t.Events,{close:function(){this.stopListening();var e=Array.prototype.slice.call(arguments);this.triggerMethod.apply(this,["close"].concat(e)),this.off()}}),s.Region=function(e){if(this.options=e||{},this.el=s.getOption(this,"el"),this.el||o("An 'el' must be specified for a region.","NoElError"),this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},n.extend(s.Region,{buildRegion:function(e,t){var i,r,c,a=n.isString(e),l=n.isString(e.selector),d=n.isUndefined(e.regionType),s=n.isFunction(e);return s||a||l||o("Region must be specified as a Region type, a selector string or an object with selector property"),a&&(r=e),e.selector&&(r=e.selector,delete e.selector),s&&(i=e),!s&&d&&(i=t),e.regionType&&(i=e.regionType,delete e.regionType),(a||s)&&(e={}),e.el=r,c=new i(e),e.parentEl&&(c.getEl=function(t){var s=e.parentEl;return n.isFunction(s)&&(s=s()),s.find(t)}),c}}),n.extend(s.Region.prototype,t.Events,{show:function(e,t){this.ensureEl();var i=t||{},a=e.isClosed||n.isUndefined(e.$el),o=e!==this.currentView,r=!!i.preventClose,c=!r&&o;return c&&this.close(),e.render(),s.triggerMethod.call(this,"before:show",e),n.isFunction(e.triggerMethod)?e.triggerMethod("before:show"):s.triggerMethod.call(e,"before:show"),(o||a)&&this.open(e),this.currentView=e,s.triggerMethod.call(this,"show",e),n.isFunction(e.triggerMethod)?e.triggerMethod("show"):s.triggerMethod.call(e,"show"),this},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return s.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),s.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),s.Region.extend=s.extend,s.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var s={};return n.each(e,function(e,o){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var i=this.addRegion(o,e);s[o]=i},this),s},addRegion:function(t,s){var o,i=n.isObject(s),a=n.isString(s),r=!!s.selector;return o=a||i&&r?e.Region.buildRegion(s,e.Region):n.isFunction(s)?e.Region.buildRegion(s,e.Region):s,this._store(t,o),this.triggerMethod("region:add",t,o),o},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){n.each(this._regions,function(e){e.close()},this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),t.stopListening(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return e.actAsCollection(t.prototype,"_regions"),t}(s),s.TemplateCache=function(e){this.templateId=e},n.extend(s.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new s.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=i.call(arguments),n=t.length;if(n>0)for(e=0;n>e;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(s.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=s.$(e).html();return t&&0!==t.length||o("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),s.Renderer={render:function(e,t){e||o("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError");var n;return(n="function"==typeof e?e:s.TemplateCache.get(e))(t)}},s.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),n.isObject(this.behaviors)&&new s.Behaviors(this),t.View.prototype.constructor.apply(this,arguments),s.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:s.triggerMethod,normalizeMethods:s.normalizeMethods,getTemplate:function(){return s.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=s.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"ui");return s.normalizeUIKeys(e,t)},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,function(t,s){var o=n.isObject(t),i=o?t.event:t;e[s]=function(e){if(e){var a,n=e.preventDefault,s=e.stopPropagation,r=o?t.preventDefault:n,c=o?t.stopPropagation:s;r&&n&&n.apply(e),c&&s&&s.apply(e)}a={view:this,model:this.model,collection:this.collection},this.triggerMethod(i,a)}},this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),s.bindEntityEvents(this,this.model,s.getOption(this,"modelEvents")),s.bindEntityEvents(this,this.collection,s.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var s={},o=n.result(this,"behaviorEvents")||{},i=this.configureTriggers();n.extend(s,o,e,i),t.View.prototype.delegateEvents.call(this,s)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),s.unbindEntityEvents(this,this.model,s.getOption(this,"modelEvents")),s.unbindEntityEvents(this,this.collection,s.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var e=Array.prototype.slice.call(arguments),t=this.triggerMethod.apply(this,["before:close"].concat(e));t!==!1&&(this.isClosed=!0,this.triggerMethod.apply(this,["close"].concat(e)),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),s.ItemView=s.View.extend({constructor:function(){s.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData(),e=this.mixinTemplateHelpers(e),t=this.getTemplate(),n=s.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),s.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),s.CollectionView=s.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage(),s.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,function(e){n.isFunction(e.triggerMethod)?e.triggerMethod("show"):s.triggerMethod.call(e,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e){this.closeEmptyView();var s=this.getItemView(e),o=this.collection.indexOf(e);this.addItemView(e,s,o)},onShowCalled:function(){this.children.each(function(e){n.isFunction(e.triggerMethod)?e.triggerMethod("show"):s.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)},this)},showEmptyView:function(){var n,e=this.getEmptyView();e&&!this._showingEmptyView&&(this._showingEmptyView=!0,n=new t.Model,this.addItemView(n,e,0))},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return s.getOption(this,"emptyView")},getItemView:function(){var t=s.getOption(this,"itemView");return t||o("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,o){var i,a=s.getOption(this,"itemViewOptions");return n.isFunction(a)&&(a=a.call(this,e,o)),i=this.buildItemView(e,t,a),this.addChildViewEventForwarding(i),this.triggerMethod("before:item:added",i),this.children.add(i),this.renderItemView(i,o),this._isShown&&!this.isBuffering&&(n.isFunction(i.triggerMethod)?i.triggerMethod("show"):s.triggerMethod.call(i,"show")),this.triggerMethod("after:item:added",i),i},addChildViewEventForwarding:function(e){var t=s.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var o=i.call(arguments),a=o[0],r=this.normalizeMethods(this.getItemEvents());o[0]=t+":"+a,o.splice(1,0,e),"undefined"!=typeof r&&n.isFunction(r[a])&&r[a].apply(this,o),s.triggerMethod.apply(this,o)},this)},getItemEvents:function(){return n.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,s){var o=n.extend({model:e},s);return new t(o)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(e.close?e.close():e.remove&&e.remove(),this.stopListening(e),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),s.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),s.CompositeView=s.CollectionView.extend({constructor:function(){s.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))})},getItemView:function(){var t=s.getOption(this,"itemView")||this.constructor;return t||o("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),s.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={},e=this.serializeData(),e=this.mixinTemplateHelpers(e),t=this.getTemplate();return s.Renderer.render(t,e)},appendBuffer:function(e,t){var n=this.getItemViewContainer(e);n.append(t)},appendHtml:function(e,t){if(e.isBuffering)e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t);else{var s=this.getItemViewContainer(e);s.append(t.el)}},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,a,i=s.getOption(e,"itemViewContainer");return i?(a=n.isFunction(i)?i.call(e):i,t="@"===a.charAt(0)&&e.ui?e.ui[a.substr(4)]:e.$(a),t.length<=0&&o("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")):t=e.$el,e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),s.Layout=s.ItemView.extend({regionType:s.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),s.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),s.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),s.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},_buildRegions:function(e){var t=this,n={regionType:s.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),t=n.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new s.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),s.Behavior=function(e,t){function n(t,n){this.view=n,this.defaults=e.result(this,"defaults")||{},this.options=e.extend({},this.defaults,t),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return e.extend(n.prototype,t.Events,{initialize:function(){},close:function(){this.stopListening()},triggerMethod:s.triggerMethod}),n.extend=s.extend,n}(n,t),s.Behaviors=function(e,t){function n(e){this.behaviors=n.parseBehaviors(e,t.result(e,"behaviors")),n.wrap(e,this.behaviors,["bindUIElements","unbindUIElements","delegateEvents","undelegateEvents","behaviorEvents","triggerMethod","setElement","close"])}var s={setElement:function(e,n){e.apply(this,t.tail(arguments,2)),t.each(n,function(e){e.$el=this.$el},this)},close:function(e,n){var s=t.tail(arguments,2);e.apply(this,s),t.invoke(n,"close",s)},bindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},unbindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},triggerMethod:function(e,n){var s=t.tail(arguments,2);e.apply(this,s),t.each(n,function(t){e.apply(t,s)})},delegateEvents:function(n,s){var o=t.tail(arguments,2);n.apply(this,o),t.each(s,function(t){e.bindEntityEvents(t,this.model,e.getOption(t,"modelEvents")),e.bindEntityEvents(t,this.collection,e.getOption(t,"collectionEvents"))},this)},undelegateEvents:function(n,s){var o=t.tail(arguments,2);n.apply(this,o),t.each(s,function(t){e.unbindEntityEvents(t,this.model,e.getOption(t,"modelEvents")),e.unbindEntityEvents(t,this.collection,e.getOption(t,"collectionEvents"))},this)},behaviorEvents:function(n,s){var o={},i=t.result(this,"ui");return t.each(s,function(n,s){var r={},a=t.clone(t.result(n,"events"))||{},c=t.result(n,"ui"),l=t.extend({},i,c),a=e.normalizeUIKeys(a,l);t.each(t.keys(a),function(e){var o=new Array(s+2).join(" "),i=e+o,c=t.isFunction(a[e])?a[e]:n[a[e]];r[i]=t.bind(c,n)}),o=t.extend(o,r)}),o}};return t.extend(n,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored. See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(e,s){return e.behaviorClass?e.behaviorClass:t.isFunction(n.behaviorsLookup)?n.behaviorsLookup.apply(this,arguments)[s]:n.behaviorsLookup[s]},parseBehaviors:function(e,s){return t.map(s,function(t,s){var o=n.getBehaviorClass(t,s);return new o(t,e)})},wrap:function(e,n,o){t.each(o,function(o){e[o]=t.partial(s[o],e[o],n)})}}),n}(s,n),s.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var n=s.getOption(this,"appRoutes"),o=this._getController();this.processAppRoutes(o,n),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},_processOnRoute:function(e,t){var s=n.invert(this.appRoutes)[e];n.isFunction(this.onRoute)&&this.onRoute(e,s,t)},processAppRoutes:function(e,t){if(t){var s=n.keys(t).reverse();n.each(s,function(n){this._addAppRoute(e,n,t[n])},this)}},_getController:function(){return s.getOption(this,"controller")},_addAppRoute:function(e,t,s){var i=e[s];i||o("Method '"+s+"' was not found on the controller"),this.route(t,s,n.bind(i,e))}}),s.Application=function(e){this._initRegionManager(),this._initCallbacks=new s.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=s.triggerMethod},n.extend(s.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=s.Module.getClass(t),o=i.call(arguments);return o.unshift(this),n.create.apply(n,o)},_initRegionManager:function(){this._regionManager=new s.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e){delete this[e]})}}),s.Application.extend=s.extend,s.Module=function(e,t,o){this.moduleName=e,this.options=n.extend({},this.options,o),this.initialize=o.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=s.triggerMethod,n.isFunction(this.initialize)&&this.initialize(this.options,e,t)},s.Module.extend=s.extend,n.extend(s.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,s.triggerMethod.call(this,"before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(0[0],this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),s.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,o){if(e){var i=n.flatten([this,this.app,t,s,s.$,n,o]);e.apply(this,i)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new s.Callbacks,this._finalizerCallbacks=new s.Callbacks}}),n.extend(s.Module,{create:function(e,t,s){var a,c,o=e,r=i.call(arguments);return r.splice(0,3),t=t.split("."),c=t.length,a=[],a[c-1]=s,n.each(t,function(t,n){var i=o;o=this._getModule(i,t,e,s),this._addModuleDefinition(i,o,a[n],r)},this),o},_getModule:function(e,t,s,o){var r=n.extend({},o),c=this.getClass(o),a=e[t];return a||(a=new c(t,s,r),e[t]=a,e.submodules[t]=a),a},getClass:function(e){var t=s.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,s){var o=this._getDefine(n),i=this._getStartWithParent(n,t);o&&t.addDefinition(o,s),this._addStartWithParent(e,t,i)},_getStartWithParent:function(e,t){var o;return n.isFunction(e)&&e.prototype instanceof s.Module?(o=t.constructor.prototype.startWithParent,!!n.isUndefined(o)||o):!n.isObject(e)||(o=e.startWithParent,!!n.isUndefined(o)||o)},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof s.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),s}(this,t,e);return n}),function(){var t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},e=[].slice;!function(e,t){return"function"==typeof define&&define.amd?define("lib/waypoints",["jquery"],function(n){return t(n,e)}):t(e.jQuery,e)}(this,function(n,s){var o,i,a,r,c,l,d,u,h,m,f,p,g,v,b,j;return h=n(s),m=t.call(s,"ontouchstart")>=0,r={horizontal:{},vertical:{}},v=1,c={},l="waypoints-context-id",p="resize.waypoints",g="scroll.waypoints",b=1,u="waypoints-waypoint-ids",d="waypoint",i="waypoints",j=function(){function e(e){var t=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+v++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},e.data(l,this.id),c[this.id]=this,e.bind(g,function(){var e;return t.didScroll||m?0[0]:(t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},s.setTimeout(e,n[i].settings.scrollThrottle))}),e.bind(p,function(){var e;return t.didResize?0[0]:(t.didResize=!0,e=function(){return n[i]("refresh"),t.didResize=!1},s.setTimeout(e,n[i].settings.resizeThrottle))})}return e.prototype.doScroll=function(){var e,t=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!m||e.vertical.oldScroll&&e.vertical.newScroll||n[i]("refresh"),n.each(e,function(e,s){var o,i,a;return o=[],i=s.newScroll>s.oldScroll,a=i?s.forward:s.backward,n.each(t.waypoints[e],function(e,t){var n,i;return s.oldScroll<(n=t.offset)&&n<=s.newScroll?o.push(t):s.newScroll<(i=t.offset)&&i<=s.oldScroll?o.push(t):0[0]}),o.sort(function(e,t){return e.offset-t.offset}),i||o.reverse(),n.each(o,function(e,t){return t.options.continuous||e===o.length-1?t.trigger([a]):0[0]})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,t,s,o=this;return e=n.isWindow(this.element),t=this.$element.offset(),this.doScroll(),s={horizontal:{contextOffset:e?0:t.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:t.top,contextScroll:e?0:this.oldScroll.y,contextDimension:e?n[i]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(s,function(e,t){return n.each(o.waypoints[e],function(e,s){var o,i,a,r,c;return o=s.options.offset,i=s.offset,a=n.isWindow(s.element)?0:s.$element.offset()[t.offsetProp],n.isFunction(o)?o=o.apply(s.element):"string"==typeof o&&(o=parseFloat(o),s.options.offset.indexOf("%")>-1&&(o=Math.ceil(t.contextDimension*o/100))),s.offset=a-t.contextOffset+t.contextScroll-o,s.options.onlyOnScroll&&i!=null||!s.enabled?0[0]:null!==i&&i<(r=t.oldScroll)&&r<=s.offset?s.trigger([t.backward]):null!==i&&i>(c=t.oldScroll)&&c>=s.offset?s.trigger([t.forward]):null===i&&t.oldScroll>=s.offset?s.trigger([t.forward]):0[0]})})},e.prototype.checkEmpty=function(){return n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([p,g].join(" ")),delete c[this.id]):0[0]},e}(),f=function(){function e(e,t,s){var o,a;s=n.extend({},n.fn[d].defaults,s),"bottom-in-view"===s.offset&&(s.offset=function(){var e;return e=n[i]("viewportHeight"),n.isWindow(t.element)||(e=t.$element.height()),e-n(this).outerHeight()}),this.$element=e,this.element=e[0],this.axis=s.horizontal?"horizontal":"vertical",this.callback=s.handler,this.context=t,this.enabled=s.enabled,this.id="waypoints"+b++,this.offset=null,this.options=s,t.waypoints[this.axis][this.id]=this,r[this.axis][this.id]=this,o=null!=(a=e.data(u))?a:[],o.push(this.id),e.data(u,o)}return e.prototype.trigger=function(e){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,e),this.options.triggerOnce?this.destroy():0[0]):0[0]},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete r[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},e.getWaypointsByElement=function(e){var t,s;return(s=n(e).data(u))?(t=n.extend({},r.horizontal,r.vertical),n.map(s,function(e){return t[e]})):[]},e}(),a={init:function(e,t){var s;return t==null&&(t={}),null==(s=t.handler)&&(t.handler=e),this.each(function(){var e,s,o,i;return o=n(this),e=null!=(i=t.context)?i:n.fn[d].defaults.context,n.isWindow(e)||(e=o.closest(e)),e=n(e),s=c[e.data(l)],s||(s=new j(e)),new f(o,s,t)}),n[i]("refresh"),this},disable:function(){return a._invoke(this,"disable")},enable:function(){return a._invoke(this,"enable")},destroy:function(){return a._invoke(this,"destroy")},prev:function(e,t){return a._traverse.call(this,e,t,function(e,t,n){return t>0?e.push(n[t-1]):0[0]})},next:function(e,t){return a._traverse.call(this,e,t,function(e,t,n){return t<n.length-1?e.push(n[t+1]):0[0]})},_traverse:function(e,t,i){var a,r;return e==null&&(e="vertical"),t==null&&(t=s),r=o.aggregate(t),a=[],this.each(function(){var t;return t=n.inArray(this,r[e]),i(a,t,r[e])}),this.pushStack(a)},_invoke:function(e,t){return e.each(function(){var e;return e=f.getWaypointsByElement(this),n.each(e,function(e,n){return n[t](),!0})}),this}},n.fn[d]=function(){var t,s;return t=arguments[0],s=2<=arguments.length?e.call(arguments,1):[],a[t]?a[t].apply(this,s):n.isFunction(t)?a.init.apply(this,arguments):n.isPlainObject(t)?a.init.apply(this,[null,t]):t?n.error("The "+t+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[d].defaults={context:s,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},o={refresh:function(){return n.each(c,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return null!=(e=s.innerHeight)?e:h.height()},aggregate:function(e){var t,s,o;return s=r,e&&(s=null!=(o=c[n(e).data(l)])?o.waypoints:0[0]),s?(t={horizontal:[],vertical:[]},n.each(t,function(e,o){return n.each(s[e],function(e,t){return o.push(t)}),o.sort(function(e,t){return e.offset-t.offset}),t[e]=n.map(o,function(e){return e.element}),t[e]=n.unique(t[e])}),t):[]},above:function(e){return e==null&&(e=s),o._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return e==null&&(e=s),o._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return e==null&&(e=s),o._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return e==null&&(e=s),o._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return o._invoke("enable")},disable:function(){return o._invoke("disable")},destroy:function(){return o._invoke("destroy")},extendFn:function(e,t){return a[e]=t},_invoke:function(e){var t;return t=n.extend({},r.vertical,r.horizontal),n.each(t,function(t,n){return n[e](),!0})},_filter:function(e,t,s){var o,i;return(i=c[n(e).data(l)])?(o=[],n.each(i.waypoints[t],function(e,t){return s(i,t)?o.push(t):0[0]}),o.sort(function(e,t){return e.offset-t.offset}),n.map(o,function(e){return e.element})):[]}},n[i]=function(){var t,n;return t=arguments[0],n=2<=arguments.length?e.call(arguments,1):[],o[t]?o[t].apply(null,n):o.aggregate.call(null,t)},n[i].settings={resizeThrottle:100,scrollThrottle:30},h.load(function(){return n[i]("refresh")})})}.call(this),function(){!function(e,t){return"function"==typeof define&&define.amd?define("lib/waypoints-sticky",["jquery","lib/waypoints"],t):t(e.jQuery)}(window,function(e){var t,n;return t={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},n=function(e,t){var n;return e.wrap(t.wrapper),n=e.parent(),n.data("isWaypointStickyWrapper",!0)},e.waypoints("extendFn","sticky",function(s){var o,i,a;return o=e.extend({},e.fn.waypoint.defaults,t,s),i=n(this,o),a=o.handler,o.handler=function(t){var n,s;return n=e(this).children(":first"),s=-1!==o.direction.indexOf(t),n.toggleClass(o.stuckClass,s),i.height(s?n.outerHeight():""),a?.call(this,t)},i.waypoint(o),this.data("stuckClass",o.stuckClass)}),e.waypoints("extendFn","unsticky",function(){var e;return e=this.parent(),e.data("isWaypointStickyWrapper")?(e.waypoint("destroy"),this.unwrap(),this.removeClass(this.data("stuckClass"))):this})})}.call(this),define("singleton/WindowController",["underscore","jquery","backbone.marionette","lib/amd-wrapped/modernizr","lib/waypoints","lib/waypoints-sticky"],function(e,t,n,s){"use strict";var i,a,r,c,l=t(document),o=t(window);return r=["-webkit-transform","-o-transform","-ms-transform","-moz-transform","transform"],c=n.Controller.extend({isSmall:function(){return s.mq("(max-width:639px)")},isMedium:function(){return s.mq("(min-width:640px) and (max-width:1023px)")},isMediumDown:function(){return s.mq("(max-width:1023px)")},isMediumUp:function(){return s.mq("(min-width:640px)")},isMlargeUp:function(){return s.mq("(min-width:768px)")},isIntermediaryLargeUp:function(){return s.mq("(min-width:800px)")},isLarge:function(){return s.mq("(min-width:1024px) and (max-width:1439px)")},isLargeUp:function(){return s.mq("(min-width:1024px)")},isXlarge:function(){return s.mq("(min-width:1440px) and (max-width:1919px)")},isXxlarge:function(){return s.mq("(min-width:1920px)")},isPartiallyVisible:function(e){var i=e.offset(),a=o.scrollTop(),t=i.top-a,n=t+e.outerHeight(!0),s=o.height();return s>t&&t>0||s>n&&n>0},getTransformProperties:function(){if(!window.getComputedStyle)return!1;if(i)return i;var t=document.createElement("p"),n=[];return document.body.insertBefore(t,null),e.each(r,function(e){0[0]!==t.style[e]&&(t.style[e]="translate3d(1px, 1px, 1px)",window.getComputedStyle(t).getPropertyValue(e)&&n.push(e))}),document.body.removeChild(t),n.length&&(i=n),n},getTransformValues:function(e){var t,n,o,r=window.getComputedStyle(e[0]),s=[];return n={translate:null,scale:1,skew:"0deg",rotate:"0deg"},i&&i.length||a.getTransformProperties(),o=i[0],t=r[o].match(/-?[0-9]+/g).map(Number),s.push(t[4]),s.push(t[5]),n.translate=s,n},translateElement:function(t,n){var s="";n&&n.length&&(s="translate3d("+n[0]+"px, "+n[1]+"px, "+n[2]+"px)"),e.each(a.getTransformProperties(),function(e){t.css(e,s)})},_events:{},registerEvent:function(t,n,s){s?o.on(t,e.throttle(n,s)):o.on(t,n),this._events[t]=n},teardownEvent:function(e){o.off(e),delete this._events[e]},registerWaypoint:function(e,t,n){e.waypoint({handler:function(e){n.call(this,e)},offset:t})},teardownWaypoint:function(e){e.waypoint("destroy")},unbindScrollAutohide:function(){this.teardownEvent("scroll.autohide")},scrollAutohide:function(e,t){var n,s,i,r,c,u,h,f,j=o.height(),y=t.waypoint.offset().top,p=0,g=(new Date).getTime(),_=.8,w=3e3,m=function(){e.addClass("shown").trigger("autohide.pushdown.show")},d=function(){e.removeClass("shown").trigger("autohide.pushdown.hide")},v=function(){i=window.setTimeout(function(){d(),a()},w)},a=function(){window.clearInterval(i),i=0},b=function(t){s=o.scrollTop(),f=l.innerHeight(),r=t.timeStamp,c=s-p,n=0>c?"up":"down",u=Math.abs(c/(r-g)),g=r,p=s;var w=0>=s,O=s+j>=f-e.innerHeight(),b=u>_;b&&"up"===n||O?(m(),a()):w?(e.addClass("animated").addClass("notransition"),m(),e.removeClass("notransition"),a()):b&&"down"===n&&s>y&&d(),"down"!==n||h===n||i?"up"===n&&i&&a():v(),h=n};this.registerEvent("scroll.autohide",b,100)},registerWaypointWithTimeout:function(e,t,n,s){var o=function(){this.teardownWaypoint(e),window.clearTimeout(i),n()}.bind(this),i=window.setTimeout(o,s);this.registerWaypoint(e,t,o)}}),a=new c}),define("singleton/DeviceController",["jquery","backbone.marionette","lib/amd-wrapped/modernizr","singleton/WindowController"],function(e,t,n,s){"use strict";var o,i,a=function(){return navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome|chromium/i)}();return o=t.Controller.extend({isDesktopLike:function(){return s.isMlargeUp()&&!n.touch},isTabletLike:function(){return s.isMediumUp()&&n.touch},isMobileLike:function(){return s.isSmall()&&n.touch},deviceType:function(){return this.isMobileLike()?o.deviceType.MOBILE:this.isTabletLike()?o.deviceType.TABLET:o.deviceType.DESKTOP},setDevice:function(){var t=e("body");a&&t.addClass("browser-safari"),this.isMobileLike()?t.addClass("platform-mobile"):this.isTabletLike()&&t.addClass("platform-tablet")}},{deviceType:{MOBILE:"mobile",TABLET:"tablet",DESKTOP:"computer"}}),i=new o}),define("singleton/PerfTracker",["jquery"],function(e){"use strict";function a(e,t){var s,i=null,o=n.gaDefaultCategory;t=Math.round(t),0>t||t>=36e5||(s=e.split(" - "),s.length>1&&(o=s.shift(),e=s.join(" - ")),window.ga=window.ga||[],window.ga("send","event",o,e,t,i,n.gaSampling))}function r(t){var o=Object.keys(t),i=function(e){return e.replace(/ /gi,"_").toLowerCase()},n=[];0!==o.length&&(n=o.map(function(e){return{beaconId:i(e),timing:Math.round(t[e])}}),s=s.concat(n),e.ajax({url:"/stats/beacon?pageType="+d,processData:!1,contentType:"application/json",data:JSON.stringify({beacons:n}),type:"POST"}))}function o(){function o(e,t){return 0[0]===e[t.name]||t.startTime>e[t.name].startTime}function m(e,t){var n=o(e,t);return e[t.name]=n?t:e[t.name],n}function c(t){m(l,t)&&o(e,t)&&(e[t.name]=t.duration||t.startTime)}var s,d,u,h,e={};if(t.getEntriesByType&&t.clearMarks&&t.measure&&t.clearMeasures){if(d=t.getEntriesByType("mark"),u=t.getEntriesByType("measure"),h=t.getEntriesByType("resource"),d.forEach(c),u.forEach(c),n.measuredResourceMatcher&&h.forEach(function(t){if(-1===i.indexOf(t.name)){var s=t.name.match(n.measuredResourceMatcher);s&&(e["resource-"+s[1]+"-start"]=t.startTime,e["resource-"+s[1]+"-duration"]=t.duration),i.push(t.name)}}),n.gaTracking)for(s in e)e.hasOwnProperty(s)&&a(s,e[s]);n.statsdTracking&&r(e)}}function c(){window.setTimeout(function(){var e=t.timing||{};n.measuredTimingEvents.forEach(function(n){e[n]>0&&t.measure(n,"navigationStart",n)})},0)}var t=window.performance,l={},n={gaSampling:1,gaDefaultCategory:"UserTimings",interval:3,gaTracking:!1,statsdTracking:!0,measuredTimingEvents:["connectEnd","domComplete","domContentLoadedEventEnd","responseEnd","responseStart"],measuredResourceMatcher:/(critical|tiger|blog|Main|FrontPageApp|PostApp|proxima_nova_cond_sbold|elizabethserif-light-webfont)[-.]/},d=window.kinja&&window.kinja.meta&&window.kinja.meta.pageType?window.kinja.meta.pageType:"default",s=[],i=[];return{start:function(){window.addEventListener("load",c,!1),o(),window.setInterval(o,1e3*n.interval)},getProcessedMarks:function(){function e(e,t){return e.timing-t.timing}return s.sort(e)}}}),define("lib/amd-wrapped/postscribe",[],function(){return function(){function e(e,s){e=e||"",s=s||{};for(l in t)t.hasOwnProperty(l)&&(s.autoFix&&(s["fix_"+l]=!0),s.fix=s.fix||s["fix_"+l]);var l,f=[],d=document.createElement("div"),p=function(e){return"string"==typeof e&&-1!==e.indexOf("&")?(d.innerHTML=e,d.textContent||d.innerText||e):e},g=function(t){e+=t},u=function(t){e=t+e},h={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s/>]/i,startTag:/^</,chars:/^[^<]/},m={comment:function(){var t=e.indexOf("-->");return t>=0?{content:e.substr(4,t),length:t+3}:0[0]},endTag:function(){var t=e.match(i);return t?{tagName:t[1],length:t[0].length}:0[0]},atomicTag:function(){var n,s,t=m.startTag();if(t&&(s=e.slice(t.length),s.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))&&(n=s.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i")),n)))return{tagName:t.tagName,attrs:t.attrs,content:n[1],length:n[0].length+t.length}},startTag:function(){var t,n,s=e.indexOf(">");if(-1===s)return null;if(t=e.match(o),t)return n={},t[2].replace(a,function(e,t){var s=arguments[2]||arguments[3]||arguments[4]||r.test(t)&&t||null;n[t]=p(s)}),{tagName:t[1],attrs:n,unary:!!t[3],length:t[0].length}},chars:function(){var t=e.indexOf("<");return{length:t>=0?t:e.length}}},c=function(){for(s in h)if(h[s].test(e)){n&&console.log("suspected "+s);var s,t=m[s]();return t?(n&&console.log("parsed "+s,t),t.type=t.type||s,t.text=e.substr(0,t.length),e=e.slice(t.length),t):null}},v=function(e){for(var t;t=c();)if(e[t.type]&&e[t.type](t)===!1)return},b=function(){var t=e;return e="",t},j=function(){return e};return s.fix&&!function(){var l=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,d=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,t=[];t.last=function(){return this[this.length-1]},t.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},t.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1};var i=function(e){return e&&"startTag"===e.type&&(e.unary=l.test(e.tagName)||e.unary),e},o=c,h=function(){var t=e,n=i(o());return e=t,n},a=function(){var e=t.pop();u("</"+e.tagName+">")},r={startTag:function(e){var o=e.tagName;"TR"===o.toUpperCase()&&t.lastTagNameEq("TABLE")?(u("<TBODY>"),n()):s.fix_selfClose&&d.test(o)&&t.containsTagName(o)?t.lastTagNameEq(o)?a():(u("</"+e.tagName+">"),n()):e.unary||t.push(e)},endTag:function(e){var n=t.last();n?s.fix_tagSoup&&!t.lastTagNameEq(e.tagName)?a():t.pop():s.fix_tagSoup&&m()}},m=function(){o(),n()},n=function(){var e=h();e&&r[e.type]&&r[e.type](e)};c=function(){return n(),i(o())}}(),{append:g,readToken:c,readTokens:v,clear:b,rest:j,stack:f}}var s,t=function(){var t,n={},e=this.document.createElement("div");return t="<P><I></P></I>",e.innerHTML=t,n.tagSoup=e.innerHTML!==t,e.innerHTML="<P><i><P></P></i></P>",n.selfClose=2===e.childNodes.length,n}(),o=/^<([-A-Za-z0-9_]+)((?:\s+[\w-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,i=/^<\/([-A-Za-z0-9_]+)[^>]*>/,a=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,r=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,n=!1;e.supports=t,e.tokenToString=function(e){var t={comment:function(e){return"<--"+e.content+"-->"},endTag:function(e){return"</"+e.tagName+">"},atomicTag:function(e){return console.log(e),t.startTag(e)+e.content+t.endTag(e)},startTag:function(e){var t,s,n="<"+e.tagName;for(s in e.attrs)t=e.attrs[s],n+=" "+s+'="'+(t?t.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"';return n+(e.unary?"/>":">")},chars:function(e){return e.text}};return t[e.type](e)},e.escapeAttributes=function(e){var t,s,n={};for(s in e)t=e[s],n[s]=t&&t.replace(/(^|[^\\])"/g,'$1\\"');return n};for(s in t)e.browserHasFlaw=e.browserHasFlaw||!t[s]&&s;this.htmlParser=e}(),function(){function e(){}function n(e){return e!==h&&null!==e}function a(e){return"function"==typeof e}function r(e,t,n){var s,o=e&&e.length||0;for(s=0;o>s;s++)t.call(n,e[s],s)}function s(e,t,n){var s;for(s in e)e.hasOwnProperty(s)&&t.call(n,s,e[s])}function t(e,t){return s(t,function(t,n){e[t]=n}),e}function g(e,t){return e=e||{},s(t,function(t,s){n(e[t])||(e[t]=s)}),e}function i(e){try{return f.call(e)}catch{var t=[];return r(e,function(e){t.push(e)}),t}}function d(e){return!!(e&&"tagName"in e)&&!!~e.tagName.toLowerCase().indexOf("script")}function m(e){return!!(e&&"tagName"in e)&&!!~e.tagName.toLowerCase().indexOf("style")}var u={afterAsync:e,afterDequeue:e,afterStreamStart:e,afterWrite:e,beforeEnqueue:e,beforeWrite:function(e){return e},done:e,error:function(e){throw e},releaseAsync:!1},o=this,h=0[0];if(!o.postscribe){var l=!1,f=Array.prototype.slice,p=function(e){return e[e.length-1]},c=function(){function o(e,t,s){var o,i=c+t;if(2===arguments.length)return o=e.getAttribute(i),n(o)?String(o):o;n(s)&&""!==s?e.setAttribute(i,s):e.removeAttribute(i)}function e(e,n){var s=e.ownerDocument;t(this,{root:e,options:n,win:s.defaultView||s.parentWindow,doc:s,parser:htmlParser("",{autoFix:!0}),actuals:[e],proxyHistory:"",proxyRoot:s.createElement(e.nodeName),scriptStack:[],writeQueue:[]}),o(this.proxyRoot,"proxyof",0)}var c="data-ps-";return e.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var e;!this.deferredRemote&&this.writeQueue.length;)e=this.writeQueue.shift(),a(e)?this.callFunction(e):this.writeImpl(e)},e.prototype.callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this.onScriptStart(t),e.call(this.win,this.doc),this.onScriptDone(t)},e.prototype.writeImpl=function(e){this.parser.append(e);for(var t,n,s,o=[];(t=this.parser.readToken())&&!(n=d(t))&&!(s=m(t));)o.push(t);this.writeStaticTokens(o),n&&this.handleScriptToken(t),s&&this.handleStyleToken(t)},e.prototype.writeStaticTokens=function(e){var t=this.buildChunk(e);if(t.actual)return t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,l&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this.walkChunk(),l&&(t.actualInnerHTML=this.root.innerHTML),t},e.prototype.buildChunk=function(e){var o=this.actuals.length,s=[],t=[],n=[];return r(e,function(e){if(s.push(e.text),e.attrs){if(!/^noscript$/i.test(e.tagName)){var i=o++;t.push(e.text.replace(/(\/?>)/," "+c+"id="+i+" $1")),"ps-script"!==e.attrs.id&&"ps-style"!==e.attrs.id&&n.push("atomicTag"===e.type?"":"<"+e.tagName+" "+c+"proxyof="+i+(e.unary?" />":">"))}}else t.push(e.text),n.push("endTag"===e.type?e.text:"")}),{tokens:e,raw:s.join(""),actual:t.join(""),proxy:n.join("")}},e.prototype.walkChunk=function(){for(t=[this.proxyRoot];n(e=t.shift());){var e,t,s,a=1===e.nodeType,r=a&&o(e,"proxyof");r||(a&&(this.actuals[o(e,"id")]=e,o(e,"id",null)),s=e.parentNode&&o(e.parentNode,"proxyof"),s&&this.actuals[s].appendChild(e)),t.unshift.apply(t,i(e.childNodes))}},e.prototype.handleScriptToken=function(e){var n,t=this.parser.clear();t&&this.writeQueue.unshift(t),e.src=e.attrs.src||e.attrs.SRC,e.src&&this.scriptStack.length?this.deferredRemote=e:this.onScriptStart(e),n=this,this.writeScriptToken(e,function(){n.onScriptDone(e)})},e.prototype.handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",this.writeStyleToken(e),t&&this.write()},e.prototype.writeStyleToken=function(e){var t=this.buildStyle(e);this.insertStyle(t),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype.buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),s(e.attrs,function(e,n){t.setAttribute(e,n)}),t},e.prototype.insertStyle=function(e){this.writeImpl('<span id="ps-style"/>');var t=this.doc.getElementById("ps-style");t.parentNode.replaceChild(e,t)},e.prototype.onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype.onScriptDone=function(e){return e!==this.scriptStack[0]?void this.options.error({message:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),0[0])},e.prototype.writeScriptToken=function(e,t){var n=this.buildScript(e),s=this.shouldRelease(n),o=this.options.afterAsync;e.src&&(n.src=e.src,this.scriptLoadHandler(n,s?o:function(){t(),o()}));try{this.insertScript(n),(!e.src||s)&&t()}catch(e){this.options.error(e),t()}},e.prototype.buildScript=function(e){var t=this.doc.createElement(e.tagName);return s(e.attrs,function(e,n){t.setAttribute(e,n)}),e.content&&(t.text=e.content),t},e.prototype.insertScript=function(e){this.writeImpl('<span id="ps-script"/>');var t=this.doc.getElementById("ps-script");t.parentNode.replaceChild(e,t)},e.prototype.scriptLoadHandler=function(e,n){function s(){e=e.onload=e.onreadystatechange=e.onerror=null}function o(){s(),n()}function i(e){s(),a(e),n()}var a=this.options.error;t(e,{onload:function(){o()},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&o()},onerror:function(){i({message:"remote script failed "+e.src})}})},e.prototype.shouldRelease=function(e){var t=/^script$/i.test(e.nodeName);return!t||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();o.postscribe=function(){function r(){var t,e=s.shift();e&&(t=p(e),t.afterDequeue(),e.stream=d.apply(null,e),t.afterStreamStart())}function d(s,o,a){function m(e){e=a.beforeWrite(e),n.write(e),a.afterWrite(e)}n=new c(s,a),n.id=h++,n.name=a.name||n.id,l.streams[n.name]=n;var u,d=s.ownerDocument,f={close:d.close,open:d.open,write:d.write,writeln:d.writeln};return t(d,{close:e,open:e,write:function(){return m(i(arguments).join(""))},writeln:function(){return m(i(arguments).join("")+`
`)}}),u=n.win.onerror||e,n.win.onerror=function(e,t,s){a.error({msg:e+" - "+t+":"+s}),u.apply(n.win,arguments)},n.write(o,function(){t(d,f),n.win.onerror=u,a.done(),n=null,r()}),n}function l(t,i,c){a(c)&&(c={done:c}),c=g(c,u),t=/^#/.test(t)?o.document.getElementById(t.substr(1)):t.jquery?t[0]:t;var l=[t,i,c];return t.postscribe={cancel:function(){l.stream?l.stream.abort():l[1]=e}},c.beforeEnqueue(l),s.push(l),n||r(),t.postscribe}var h=0,s=[],n=null;return t(l,{streams:{},queue:s,WriteStream:c})}()}}(),this.postscribe}),define("singleton/EventDispatcher",["backbone","underscore"],function(e,t){"use strict";var n=t.extend({},e.Events);return 0[0]!==window.orientation&&window.addEventListener("orientationchange",function(){90===Math.abs(window.orientation)?n.trigger("orientation:toLandscape"):n.trigger("orientation:toPortrait"),n.trigger("orientation:change")},!1),n}),define("module/ads/ads.events",["backbone","underscore"],function(e,t){"use strict";return t.clone(e.Events)}),define("app/MarionetteApp",["backbone.marionette","singleton/Utils","lib/amd-wrapped/soy/soy"],function(e,t,n){"use strict";var s=new e.Application;return s.addRegions({postRegion:"#editorplaceholder",modalRegion:"#modalplaceholder",duimodalregion:"#js_placeholder--duimodal",notificationRegion:".js_notif-wrapper",notificationDropdownRegion:"#js_notifications--dropdown",userDropdownRegion:"#js_usermenu--dropdown",flaggingListRegion:".js_flagging-admin",discussionRegion:"#js_discussion-region",channelsDropdownRegion:"#js_channels--dropdown",subscribeBtnRegion:".js_newsletter-btn--subscribe",unSubscribeBtnRegion:"#js_newsletter-btn--unsubscribe"}),e.Renderer.render=function(e,s,o){var i=t.getRenderableData(s,o),a=window.document.createDocumentFragment();try{return n.renderAsFragment(e,i.data,0[0],i.injected)}catch(e){return window.console.error(e),a}},s}),define("singleton/ModalManager",["jquery","underscore","singleton/EventDispatcher"],function(e,t,n){"use strict";var s=e("body"),o=["afterinsert"],i=function(i,a){var r=["open.fndtn.reveal","opened.fndtn.reveal","close.fndtn.reveal","closed.fndtn.reveal"];return this._events=[],this.init=function(){return this.$el=i,this.name=this._genName(),this.options=a,this.initEvents(),this},this.initEvents=function(){this.$el.on("closed.fndtn.reveal",t.bind(this.destroy,this))},this._genName=function(){return this.$el.attr("id")||"todo-uid"},this.bind=function(e,t){return r.indexOf(e)>=0?this.$el.bind(e,t):(this._events.push({name:e,fn:t}),n[o.indexOf(e)?"once":"on"](e,t)),this},this.on=this.bind,this.open=function(){return e.contains(document.documentElement,this.$el[0])||(s.append(this.$el),this._getEvent("afterinsert")&&n.trigger("afterinsert",this)),this.$el.foundation("reveal",a),this.$el.foundation("reveal","open"),this},this.destroy=function(){a.destroyOnClose&&this.$el.remove(),t.each(this._events,function(e){n.off(e.name,e.fn)})},this.close=function(){this.$el.foundation("reveal","close")},this._getEvent=function(e){return t.find(this._events,function(t){return t.name===e})},this},a={modals:{},modalOptions:{destroyOnClose:!0,close_on_background_click:!0,animation_speed:0},initialize:function(){return!this.initialize.done&&void(this.initialize.done=!0)},create:function(s,o){s.on("click",function(e){e.stopPropagation()}),e(document.body).one("opened.fndtn.reveal","[data-reveal]",function(){e(".reveal-modal, .reveal-modal-bg").off("click.closeManually").one("click.closeManually",function(t){var s=e(t.target),o=["close-reveal-modal","reveal-modal-bg","js_close","js_cancel"];o.forEach(function(e){s.hasClass(e)&&n.trigger("modal:close:manual")})})}),this.initialize();var a=t.extend({},this.modalOptions,o),r=new i(s,a);return this.currentModal=r.init(),this._register()._initEvents(),this.currentModal},_register:function(e){return e=e||this.currentModal,this.modals[e.name]=e,this},_initEvents:function(e){return e=e||this.currentModal,e.bind("closed",t.bind(function(){this._destroy(e)},this)),this},_destroy:function(e){var t=(e||{}).name;this.modals.hasOwnProperty(t)&&(this.modals[t].destroy(),delete this.modals[t])}};return a}),define("overlord",[],function(){"use strict";return window.overlord=window.overlord||{},window.overlord}),define("tiger",[],function(){"use strict";return window.tiger=window.tiger||{},window.tiger}),define("mantle",[],function(){"use strict";return window.mantle=window.mantle||{},window.mantle}),define("lib/amd-wrapped/soy/goog",["lib/amd-wrapped/soy/soyutils"],function(e){"use strict";return e.goog}),define("lib/amd-wrapped/soy/soydata",["lib/amd-wrapped/soy/soyutils"],function(e){"use strict";return e.soydata}),define("templates/tiger/components/forms/modals/modal-headers",["overlord","tiger","mantle","lib/amd-wrapped/soy/goog","lib/amd-wrapped/soy/soy","lib/amd-wrapped/soy/soydata"],function(e,t,n,s,o,i){t.components.forms.modals.headers.layout=function(e){return e=e||{},i.VERY_UNSAFE.ordainSanitizedHtml("<header><h3>"+o.$$escapeHtml(e.name)+(e.disableClose?"":'<a class="js_cancel modal-close-x">&times;</a>')+"</h3></header>")},s.DEBUG&&(t.components.forms.modals.headers.layout.soyTemplateName="tiger.components.forms.modals.headers.layout"),t.components.forms.modals.headers.avatarLayout=function(e){return i.VERY_UNSAFE.ordainSanitizedHtml('<header class="avatar-header"><h3><div class="row collapse show-for-large-up"><div class="columns large-1"><img id="avatarImg" class="avatar" src="'+o.$$escapeHtmlAttribute(o.$$filterNormalizeUri(window.kinja.imageUrl(e.avatarId,"avt-medium",e.avatarFormat)))+'" /></div><div class="columns large-4"><div class="height-container primary-name-container"><span class="primary-name">'+o.$$escapeHtml(e.primaryName)+'</span></div></div><div class="columns large-7"><div class="height-container"><span class="secondary-name">'+o.$$escapeHtml(e.secondaryName)+'</span><a class="js_cancel modal-close-x">&times;</a></div></div></div><div class="row collapse hide-for-large-up"><div class="columns"><div class="height-container"><span class="secondary-name">'+o.$$escapeHtml(e.secondaryName)+'</span><a class="js_cancel modal-close-x">&times;</a></div></div></div></h3></header>')},s.DEBUG&&(t.components.forms.modals.headers.avatarLayout.soyTemplateName="tiger.components.forms.modals.headers.avatarLayout"),t.components.forms.modals.headers.account=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.avatarLayout({primaryName:i.$$markUnsanitizedTextForInternalBlocks(""+e.userName),avatarId:i.$$markUnsanitizedTextForInternalBlocks(""+e.avatarId),avatarFormat:i.$$markUnsanitizedTextForInternalBlocks(""+e.avatarFormat),secondaryName:i.$$markUnsanitizedTextForInternalBlocks("Manage Kinja account")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.account.soyTemplateName="tiger.components.forms.modals.headers.account"),t.components.forms.modals.headers.invite=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Send Invite To Post")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.invite.soyTemplateName="tiger.components.forms.modals.headers.invite"),t.components.forms.modals.headers.editorLink=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Link")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.editorLink.soyTemplateName="tiger.components.forms.modals.headers.editorLink"),t.components.forms.modals.headers.autosaveRecovery=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Post Recovery")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.autosaveRecovery.soyTemplateName="tiger.components.forms.modals.headers.autosaveRecovery"),t.components.forms.modals.headers.resend=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Resend your invitation")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.resend.soyTemplateName="tiger.components.forms.modals.headers.resend"),t.components.forms.modals.headers.login=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Log into your Kinja account")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.login.soyTemplateName="tiger.components.forms.modals.headers.login"),t.components.forms.modals.headers.signup=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Sign up for a Kinja account")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.signup.soyTemplateName="tiger.components.forms.modals.headers.signup"),t.components.forms.modals.headers.createburner=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Create a burner account")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.createburner.soyTemplateName="tiger.components.forms.modals.headers.createburner"),t.components.forms.modals.headers.burnercreated=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Burner account created")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.burnercreated.soyTemplateName="tiger.components.forms.modals.headers.burnercreated"),t.components.forms.modals.headers.createblog=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Create blog")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.createblog.soyTemplateName="tiger.components.forms.modals.headers.createblog"),t.components.forms.modals.headers.manageblog=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Manage blog")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.manageblog.soyTemplateName="tiger.components.forms.modals.headers.manageblog"),t.components.forms.modals.headers.featureedit=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Edit feature")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.featureedit.soyTemplateName="tiger.components.forms.modals.headers.featureedit"),t.components.forms.modals.headers.featurenew=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Create feature")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.featurenew.soyTemplateName="tiger.components.forms.modals.headers.featurenew"),t.components.forms.modals.headers.image=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Insert image")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.image.soyTemplateName="tiger.components.forms.modals.headers.image"),t.components.forms.modals.headers.media=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Insert media")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.media.soyTemplateName="tiger.components.forms.modals.headers.media"),t.components.forms.modals.headers.poststatus=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Post Status")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.poststatus.soyTemplateName="tiger.components.forms.modals.headers.poststatus"),t.components.forms.modals.headers.flagreason=function(){return i.VERY_UNSAFE.ordainSanitizedHtml('<header><h3>Why are you flagging this?<a class="hover-icon help-link icon icon-question-circle" href="http://help.gawker.com/customer/portal/articles/1726140-what-is-flagging-?b_id=5895" target="_blank"></a><a class="js_cancel modal-close-x">×</a></h3></header>')},s.DEBUG&&(t.components.forms.modals.headers.flagreason.soyTemplateName="tiger.components.forms.modals.headers.flagreason"),t.components.forms.modals.headers.business=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Business")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.business.soyTemplateName="tiger.components.forms.modals.headers.business"),t.components.forms.modals.headers.adInfo=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Ad Info")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.adInfo.soyTemplateName="tiger.components.forms.modals.headers.adInfo"),t.components.forms.modals.headers.pupil=function(e,n,s){return i.VERY_UNSAFE.ordainSanitizedHtml(t.components.forms.modals.headers.layout({name:i.$$markUnsanitizedTextForInternalBlocks("Post Content Ratings")},null,s))},s.DEBUG&&(t.components.forms.modals.headers.pupil.soyTemplateName="tiger.components.forms.modals.headers.pupil")}),define("view/modal/modal.header",["backbone","backbone.marionette","singleton/Utils","templates/tiger/components/forms/modals/modal-headers"],function(e,t,n){"use strict";var s=t.ItemView.extend({ui:{avatar:"img#avatarImg"},initialize:function(){this.model=new e.Model(this.options.headerAttributes),this.template=tiger.components.forms.modals.headers[this.options.name]},updateAvatar:function(e){this.ui.avatar.attr("src",n.imageUrl(e.get("id"),"avt-medium",e.get("format")))},updateName:function(e){this.options.name=e,this.template=tiger.components.forms.modals.headers[e],this.render()}});return s}),define("view/modal/modal.tabBehavior",["jquery","backbone.marionette"],function(e,t){"use strict";var n=t.Behavior.extend({events:{"keydown select:not([disabled]), input:not([disabled]), textarea:not([disabled]), button, .button:not(div), a:not(.modal-close-x)":"onFieldKeydown"},focusFieldsSelector:"select:not([disabled]), input:not([disabled]), textarea:not([disabled]), button, .button:not(div), a:not(.modal-close-x)",onFieldKeydown:function(t){var n,s,o,i,a,r,c;9===t.which&&(t.preventDefault(),n=this.$el.find(this.focusFieldsSelector),o=n.first(),i=n.last(),s=e(t.currentTarget),s.is(i)&&!t.shiftKey?o.focus():s.is(o)&&t.shiftKey?i.focus():(a=n.index(s),t.shiftKey?(c=e(n[a-1]),c.focus()):(r=e(n[a+1]),r.focus())))}});return n}),define("templates/tiger/components/forms/modals/modal",["overlord","tiger","mantle","lib/amd-wrapped/soy/goog","lib/amd-wrapped/soy/soy","lib/amd-wrapped/soy/soydata"],function(e,t,n,s,o){t.components.forms.modals.modal.container=function(e,n,s){return(e.disableClose?t.components.forms.modals.header({name:""+o.$$escapeHtml(e.name),disableClose:""+o.$$escapeHtml(e.disableClose)},null,s):t.components.forms.modals.header({name:""+o.$$escapeHtml(e.name)},null,s))+'<div class="modal-body proxima">'+o.$$filterNoAutoescape(e.body)+"</div>"},s.DEBUG&&(t.components.forms.modals.modal.container.soyTemplateName="tiger.components.forms.modals.modal.container"),t.components.forms.modals.modal.layout=function(){return'<div id="modalheader_placeholder" class="modal-header-container"></div><div id="modalbody_placeholder"></div>'},s.DEBUG&&(t.components.forms.modals.modal.layout.soyTemplateName="tiger.components.forms.modals.modal.layout"),t.components.forms.modals.modal.body=function(){return'<div id="modalsubnav_placeholder"></div><div id="modalcontent_placeholder"></div>'},s.DEBUG&&(t.components.forms.modals.modal.body.soyTemplateName="tiger.components.forms.modals.modal.body")}),define("view/modal/modal.layout",["backbone.marionette","view/modal/modal.header","view/modal/modal.tabBehavior","templates/tiger/components/forms/modals/modal"],function(e,t,n){"use strict";var s=e.Layout.extend({template:tiger.components.forms.modals.modal.layout,events:{"click .js_cancel":"onCancelClick"},attributes:{"data-reveal":""},regions:{header:"#modalheader_placeholder",body:"#modalbody_placeholder"},behaviors:{TabBehavior:{behaviorClass:n}},initialize:function(){this.headerView=new t({name:this.options.name,headerAttributes:this.options.headerAttributes})},onRender:function(){this.headerView&&this.header.show(this.headerView),this.options.body&&this.body.show(this.options.body)},onCancelClick:function(e){return e.preventDefault(),this.options.vent.trigger("modal:close"),!1},switchContent:function(e,t){t?this.body.show(new e(t)):this.body.show(new e)},updateHeaderAvatar:function(e){this.headerView.updateAvatar(e)},updateName:function(e){this.headerView.updateName(e)}});return s}),define("app/modal/modal.controller",["jquery","underscore","backbone","app/MarionetteApp","singleton/ModalManager","view/modal/modal.layout"],function(e,t,n,s,o,i){"use strict";var a={vent:t.extend({},n.Events),_initModal:function(t,n){var i=s.modalRegion,r={};n=n||{},i.show(t),i.listenTo(i.currentView,"modal:close",a.API.close),r.close_on_background_click=n.close_on_background_click,a.API.activeModal=o.create(t.$el,r),e(document).on("close.fndtn.reveal",function(){n&&n.onClose&&n.onClose(),a.API.activeModal=null,e(document).off("close.fndtn.reveal")}),a.API.activeModal.open()},_registerEvents:function(){a.vent.on("modal:close",a.API.close)},_destroyEvents:function(){a.vent.off("modal:close",a.API.close)},API:{instantiate:function(t,s){s={viewData:s.viewData||{},templateData:s.templateData||{}};var o,i=new n.Model(s.templateData);return e.extend(s.viewData,{model:i}),o=new t(s.viewData)},create:function(e,t){var n={vent:a.vent,body:e};t&&(t.addClassName&&(t.className=t.className+" "+t.addClassName),n.className=t.className||"reveal-modal kinja-modal proxima medium",n.name=t.name,n.headerAttributes={userName:t.userName,avatarId:t.avatarId,avatarFormat:t.avatarFormat}),a.API.open(function(){a._initModal(new i(n),t)})},open:function(e){if(a.API.close(),a._registerEvents(),"function"!=typeof e)throw new Error("Invalid modal type supplied to ModalController.open");e()},close:function(){a._destroyEvents(),a.API.activeModal&&(a.API.activeModal.close(),a.API.activeModal=null),s.modalRegion.reset()},change:function(e,t){a.API.activeModal&&s.modalRegion.currentView.switchContent(e,t)},updateHeaderAvatar:function(e){a.API.activeModal&&s.modalRegion.currentView.updateHeaderAvatar(e)},updateHeaderName:function(e){a.API.activeModal&&s.modalRegion.currentView.updateName(e)}}};return a.API}),define("module/ads/singleton/KeywordHelper",["jquery","underscore","view/BaseView","singleton/Feature","lib/jquery.cookie"],function(e,t,n,s){"use strict";var a,i="pageDepth",o=parseInt(e.cookie(i)||1,10);return s.isOn("ad_module")||5>o&&(o+=1,e.cookie(i,o,{expires:1,path:"/"})),new(a=n.extend({keywordsFromPage:function(e){var s={},n=function(e,t){s.hasOwnProperty(e)?s[e].push(t):s[e]=[t]},i=function(){n("mtfIFPath","/assets/vendor/doubleclick/"),n("page",this.getPageType()),n("pd",o),"default"!==e.slot&&n("slot",e.slot)}.bind(this),a=function(){var e=window.crtg_content?window.crtg_content.split(";"):[];t.each(e,function(e){var t=e.split("=");2===t.length&&n(t[0],t[1])})};return i(),a(),s}}))}),define("module/ads/singleton/RestrictedCompanyHelper",["jquery","underscore"],function(e,t){"use strict";var n={regex:/\b(?:accenture|amex|apple|bestbuy|bing|blackberry|bmw|ca|computer|capgemini|chrome|chrysler|cisco|comcast|dell|ea|electronic arts|ebay|ford|ge|general electric|gm|general motors|google|hp|hewlitt packard|htc|ibm|intel|internet explorer|lenovo|microsoft|motorola|msn|nintendo|oracle|oreo|outlook|outlook\.com|playstation|porsche|radioshack|samsung|sap|sas|siemens|sony|sprint|tmobile|virgin|virginamerica|visa|xbox)\b/i,brandMap:{playstation:"sony",bing:"microsoft","internet explorer":"microsoft",msn:"microsoft",outlook:"microsoft","outlook.com":"microsoft",xbox:"microsoft"},scanForCompanies:t.once(function(n){var o=t.map(n.tags,function(e){return e.name}).join(""),s=n.headline.match(this.regex)||o.match(this.regex)||e("article.post").text().match(this.regex);return s&&(s=s[0].toLowerCase()),this.brandMap[s]||s})};return n}),define("module/ads/model/ads.abstractSlotModel",["jquery","underscore","backbone","module/ads/singleton/KeywordHelper","singleton/CurrentBlog","singleton/Utils","module/ads/singleton/RestrictedCompanyHelper","module/ads/singleton/SocialReferrerHelper","gawkerlib/jquery.parseParams"],function(e,t,n,s,o,i,a,r){"use strict";var u=i.getKinjaMeta(),d=u.pageType,c=u.post,b=c?c.id:null,f=c?c.adZone:null,m=e.parseParams().adzone,l=u.tags,g=/why your team sucks|wyts/,v=/nsfw|gamergate/,h=g.test(l),p=v.test(l),j=c?a.scanForCompanies(c):null,y=n.Model.extend({initialize:function(){var e,t,n,s;this.get("forcedAdZone")||(t=this.computeForcedZone(),this.set("forcedAdZone",t)),e=this.computeAdZone(t),this.set("adZone",e),s=this.computeZoneSource(),this.set("zoneSource",s),n=this.computeCollapseState(e),this.set("collapsed",n)},adInfo:function(){var e=t.map(this.keywords(),function(e,t){return t+"="+e}).join(", ");return{pageType:d,zoneType:this.get("zoneType"),sizes:this.sizes(),slotId:this.get("slotId"),unitName:this.unitName(),adZone:this.get("adZone"),adZoneSource:this.get("zoneSource"),isEmpty:this.get("empty")||"UNKNOWN",status:this.stateName(),keywords:e,tags:l||"NONE",company:j||"NONE",forcedAdZone:this.get("forcedAdZone")||"false",postId:b||"NONE",blogName:o.name,referer:document.referrer||"NONE",socialReferrer:r.scanForSocialReferrers()||"NONE"}},navData:function(){return{text:this.get("zoneType"),msgText:"ad info modal "+this.get("slotId"),subViewSelector:"#"+this.get("slotId")+"-info",render:!0,slotModel:this}},computeForcedZone:function(){var e=!h&&p?"collapse":null;return m||e||f},computeAdZone:function(e){return e&&"collapse"===e?"collapse":"frontpage"===d?"front":d},computeCollapseState:function(e){return"collapse"===e},computeZoneSource:function(){return m?"URL param":f?"Post":!h&&p?"Tag force collapse":"Page type / GPT"},keywords:function(){return s.keywordsFromPage({slot:"default"})},setEmptiness:function(e){this.set("empty",e?"TRUE":"FALSE")},unitName:function(){throw"NOT IMPLEMENTED!"},stateName:function(){throw"NOT IMPLEMENTED!"},sizes:function(){throw"NOT IMPLEMENTED!"}});return y}),define("module/ads/model/ads.slotModel",["underscore","module/ads/model/ads.abstractSlotModel","singleton/Feature","singleton/CurrentBlog","singleton/Utils","module/ads/singleton/RestrictedCompanyHelper","singleton/WindowController","module/ads/singleton/SocialReferrerHelper","gawkerlib/jquery.parseParams"],function(e,t,n,s,o,i,a,r){"use strict";var d=o.getKinjaMeta(),l=d.post,f=l?l.id:null,p=(s.blogSales||{}).adSlotsDisabled||[],g=l?i.scanForCompanies(l):null,v=s.blogSales&&s.blogSales.adNetworkId||s.defaultAdNetworkId,b=s.blogSales&&s.blogSales.adSiteName||s.defaultAdSiteName,u=n.isOn("ad_module"),h=n.isOn("webpack"),m=n.isOn("webpack_admodule"),c=t.extend({initialize:function(){var n,s,o,i,a=this.get("zoneType");this.set("adState",c.states.INITIALIZING),t.prototype.initialize.call(this),s=e.contains(p,c.config[a].legacySizes),this.set("disabled",s),i=c.config[a],o=i.gptSizes,this.set("zoneConfig",i),this.set("gptSizes",o),n=this.get("adZone"),!n||s||this.get("collapsed")||this.createGptSlot(this.unitName(n),o,this.get("slotId")),this.set("adState",c.states.INITIALIZED)},adInfo:function(){return e.extend(t.prototype.adInfo.call(this),{diagnosticsUrl:this.get("diagnosticsUrl"),creativeUrl:this.get("creativeUrl"),pos:this.targetingPairs().pos||""})},targetingPairs:function(){var t,n={postId:f,company:g||"none",forcedAdZone:this.get("forcedAdZone")||"false",socialReferrer:r.scanForSocialReferrers()};return t=this.get("pp_position"),t&&e.extend(n,{pp_position:t}),"MOBILE_SECOND"===this.get("zoneType")&&e.extend(n,{tabContainer:[this.get("slotId")]}),e.extend(n,c.config[this.get("zoneType")].targetingPairs)},createGptSlot:function(t,n,s){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){var i,o=window.googletag.defineSlot(t,n,s);e.each(this.targetingPairs(),function(e,t){o.setTargeting(t,e)}),e.each(this.keywords(),function(e,t){o.setTargeting(t,e)}),o.addService(window.googletag.pubads()),i=o.renderEnded,o.renderEnded=function(e){var t=o.getContentUrl();this.set("diagnosticsUrl",this.getDiagnosticsUrl(t)),this.set("creativeUrl",this.getCreativeUrl(t)),this.set("gptData",e),this.trigger("ads.zonerendered"),i()}.bind(this),this.set("gptSlot",o),window.googletag.display(this.get("slotId"))}.bind(this))},getDiagnosticsUrl:function(e){var t=e.split("?");return"https://www.google.com/dfp/inventory#diagnostics/"+t[1]+"&base_url=http%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads"},getCreativeUrl:function(e){return e.replace("output=json_html","output=html")+"&base_url=http%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads"},unitName:function(e){return"/"+[v,b,e].join("/")},_getDimensionComponents:function(t){var n="width"===t?0:1;return e.reduce(this.get("gptSizes"),function(e,t){return e.push(t[n]),e},[])},sizes:function(){return e.map(this.get("gptSizes"),function(e){return e.join("x")}).join(", ")},widths:function(){return this._getDimensionComponents("width")},heights:function(){return this._getDimensionComponents("height")},setRendered:function(){this.set("adState",c.states.RENDERED)},setShown:function(){this.set("adState",c.states.SHOWN)},setHidden:function(){this.set("adState",c.states.HIDDEN)},stateName:function(){var e;switch(this.get("adState")){case c.states.INITIALIZING:e="initializing";break;case c.states.INITIALIZED:e="initialized";break;case c.states.RENDERED:e="rendered";break;case c.states.HIDDEN:e="hidden";break;case c.states.SHOWN:e="shown";break;default:e="error"}return e},isGptEmpty:function(){return this.get("gptData").isEmpty}},{config:{TRACKER:{gptSizes:[[1,1]],legacySize:"1x1",shouldRun:!0},TOP_BANNER:{gptSizes:[[970,90],[970,251],[728,90]],legacySize:"970x90",shouldRun:a.isLargeUp,targetingPairs:{pos:"top"},onViewHide:function(e){e.$el.parent(".js_ad-unit").addClass("hide")}},BILLBOARD:{gptSizes:[[970,250],[728,90]],legacySize:"970x250",shouldRun:a.isLargeUp,targetingPairs:{pos:"bottom"},onViewHide:function(e){e.$el.parent(".js_ad-unit").addClass("hide")}},BILLBOARD_DYNAMIC:{gptSizes:[[970,250],[728,90]],legacySize:"970x250",shouldRun:a.isLargeUp,targetingPairs:{pos:"bottom_dynamic"},onViewHide:function(e){e.$el.parent(".js_ad-unit").addClass("hide")}},LEFT_RAIL:{gptSizes:[[300,250],[300,600]],legacySize:"300x250",shouldRun:a.isLargeUp,targetingPairs:{pos:"left"}},LEFT_RAIL_DYNAMIC:{gptSizes:[[300,250],[300,600]],legacySize:"300x250",shouldRun:a.isLargeUp,targetingPairs:{pos:"left_dynamic"}},MOBILE:{gptSizes:[[300,250],[320,50]],legacySize:"300x50",shouldRun:n.isOn("tablet_300x250")?a.isMediumDown:a.isSmall,onViewHide:function(e){e.$el.parent(".js_ad-unit").addClass("hide")}},MOBILE_SECOND:{gptSizes:[[300,160]],legacySize:"300x160",dimensions:[300,130],shouldRun:function(){return"permalink"===d.pageType&&!d.post.sponsored&&a.isSmall()},onViewHide:function(e){e.$el.parent(".js_ad-unit").addClass("hide")}},ADHESION:{gptSizes:[[3,3]],legacySize:"3x3",shouldRun:a.isSmall},PROMOTION:{gptSizes:[[2,2]],legacySize:"2x2",shouldRun:a.isLargeUp},PROMOTION_MOBILE:{gptSizes:[[2,2]],legacySize:"2x2",shouldRun:a.isMediumDown},PROMOTION_SIDEBAR:{gptSizes:[[2,2]],legacySize:"2x2",shouldRun:"permalink"===window.kinja.meta.pageType&&a.isLargeUp()},SPLASHYTOP:{gptSizes:[[1280,720],[970,415]],isResponsive:!0,shouldSlideDown:!0,viewportVOffset:175,maxHeight:720,maxWidth:"100%",legacySize:"970x415",fallbackSize:"970x415",shouldRun:!(u||h&&m)},SPLASHYBOTTOM:{gptSizes:[[1280,721]],isResponsive:!0,shouldSlideDown:!1,viewportVOffset:175,maxHeight:720,maxWidth:"100%",legacySize:"970x415",shouldRun:!(u||h&&m)}},zoneTypes:{TRACKER:"TRACKER",TOP_BANNER:"TOP_BANNER",BILLBOARD:"BILLBOARD",LEFT_RAIL:"LEFT_RAIL",MOBILE:"MOBILE",MOBILE_SECOND:"MOBILE_SECOND",ADHESION:"ADHESION",PROMOTION:"PROMOTION",PROMOTION_MOBILE:"PROMOTION_MOBILE",PROMOTION_SIDEBAR:"PROMOTION_SIDEBAR",SPLASHYTOP:"SPLASHYTOP",SPLASHYBOTTOM:"SPLASHYBOTTOM"},states:{INITIALIZING:1,INITIALIZED:2,RENDERED:3,HIDDEN:4,SHOWN:5},shouldRun:function(e){var n=c.config[e],t=!!n&&n.shouldRun;return"function"==typeof t?t():t}});return c}),define("module/ads/model/ads.videoSlotModel",["jquery","underscore","module/ads/model/ads.abstractSlotModel","singleton/Feature","singleton/CurrentBlog","singleton/Utils","singleton/DeviceController","gawkerlib/jquery.parseParams","lib/jquery.cookie"],function(e,t,n,s,o,i,a){"use strict";var c=i.getKinjaMeta(),l=c.pageType,d=c.post,u=(o.blogSales||{}).adSlotsDisabled||[],h=o.blogSales&&o.blogSales.adSiteName||o.defaultAdSiteName,r=n.extend({initialize:function(){var e;this.set("zoneType","VIDEO"),this.set("slotId","foreplay"),this.set("adState",r.states.INITIALIZING),n.prototype.initialize.call(this),e=t.contains(u,r.config.size),this.set("disabled",e),!this.get("adZone")||e||this.get("collapsed")||(s.isOn("jwplayer_v7")?this.loadJwplayerV7():this.loadJwplayer()),this.set("adState",r.states.INITIALIZED)},setPlaying:function(){this.set("adState",r.states.PLAYING_INVALID_IMPRESSION)},setValidImpression:function(){this.set("adState",r.states.PLAYING_VALID_IMPRESSION)},hasValidImpression:function(){return this.get("adState")>r.states.PLAYING_INVALID_IMPRESSION},setComplete:function(){this.set("adState",r.states.COMPLETED)},loadJwplayer:function(){var e;require(["module/JWPlayer"]),e=window.setInterval(function(){window.jwplayer&&(window.clearInterval(e),this.setupJwplayer(),this.trigger("ads.jwplayer.loaded"))}.bind(this),r.config.jwPlayerPollInterval)},loadJwplayerV7:function(){var e=this;require(["lib/jwplayer/v7/jwplayer"],function(t){window.jwplayer=t,e.setupJwplayerV7(),e.trigger("ads.jwplayer.loaded")})},bindPlayerEvents:function(){var e=function(){var e=Array.prototype.slice.call(arguments);window.ga.apply(null,["send","event","Video"].concat(e))};jwplayer().onReady(function(t){e(t.type,"setupTime",t.setupTime)}),jwplayer().onAdComplete(function(t){this.set("adState",r.states.COMPLETED),this.trigger("ads.jwplayer.adcomplete",t),e(t.type)}.bind(this)),jwplayer().onAdClick(function(t){this.set("adState",r.states.COMPLETED),this.trigger("ads.jwplayer.adclick",t),e(t.type)}.bind(this)),jwplayer().onAdError(function(t){this.trigger("ads.jwplayer.aderror",t),e(t.type)}.bind(this)),jwplayer().onAdImpression(function(t){this.setEmptiness(!1),this.trigger("ads.jwplayer.adimpression",t),e(t.type,t.tag)}.bind(this)),jwplayer().onPlay(function(t){e(t.type)}),jwplayer().onPause(function(t){e(t.type)}),jwplayer().onComplete(function(t){e(t.type)})},setupJwplayerV7:function(){jwplayer.key="zUOgLEKfFxiFTxb+xVKDGOzNDITiyE6S8vdRBA==",jwplayer("jwPlayerVideo").setup({file:"/assets/javascripts/lib/jwplayer/blank.mp4",autostart:"true",controls:!1,height:360,width:640,mute:!0,advertising:{client:"googima",admessage:" ",tag:"http://ad.doubleclick.net/N4246/pfadx/"+this.dfpParams()}}),this.setTriggeredCookie(),this.bindPlayerEvents()},setupJwplayer:function(){var e="http://x.kinja-static.com/assets/javascripts/lib/jwplayer/";jwplayer.key="nO4NxCWRcKVQRGrsXfNPjFlcUmY2/ainbLHfAQ==",jwplayer("jwPlayerVideo").setup({primary:s.isOn("html5_jwplayer")?"html5":"flash",flashplayer:e+"jwplayer.flash.swf",file:e+"blank.mp4",base:e,autostart:"true",controls:!1,height:360,width:640,mute:!0,advertising:{client:"googima",admessage:" ",tag:"http://ad.doubleclick.net/N4246/pfadx/"+this.dfpParams()}}),this.setTriggeredCookie(),this.bindPlayerEvents()},setTriggeredCookie:function(){e.cookie(r.config.triggeredCookieKey,"1",{path:"/",expires:1})},dfpParams:function(){var n=this.unitName(this.get("adZone")),s=this.keywords(),i={forcedAdZone:this.get("forcedAdZone")||"false",blogName:o.name||"",sz:r.config.size,tile:1,ord:Math.floor(9e7*Math.random())+1e7},e=[n];return t.each(s,function(n,s){t.each(n,function(t){e.push(s+"="+t)})}),t.each(i,function(t,n){e.push(n+"="+t)}),e.join(";")},sizes:function(){return r.config.size},unitName:function(e){return[h,e].join("/")},stateName:function(){var e;switch(this.get("adState")){case r.states.INITIALIZING:e="initializing";break;case r.states.INITIALIZED:e="initialized";break;case r.states.PLAYING_INVALID_IMPRESSION:e="playing (invalid)";break;case r.states.PLAYING_VALID_IMPRESSION:e="playing (valid)";break;case r.states.COMPLETED:e="completed";break;default:e="error"}return e}},{config:{size:"640x480",jwPlayerPollInterval:1e3,triggeredCookieKey:"foreplay_triggered"},states:{INITIALIZING:1,INITIALIZED:2,PLAYING_INVALID_IMPRESSION:3,PLAYING_VALID_IMPRESSION:4,COMPLETED:5},shouldRun:function(){return"permalink"===l&&"1"!==e.cookie(this.config.triggeredCookieKey)&&!d.sponsored&&a.isDesktopLike()}});return r}),define("module/ads/model/ads.instreamVideoSlotModel",["jquery","underscore","module/ads/model/ads.abstractSlotModel","singleton/Feature","singleton/CurrentBlog","singleton/Utils","singleton/DeviceController"],function(e,t,n,s,o,i,a){"use strict";var l=(o.blogSales||{}).adSlotsDisabled||[],d=i.getKinjaMeta(),u=d.pageType,c=o.blogSales&&o.blogSales.adSiteName||o.defaultAdSiteName,r=n.extend({videoPlayer:null,tagXml:"",initialize:function(e){window.volumeInterval=null;var s;this.on("change",function(e){"playerState"===t.keys(e.changed)[0]&&this.loadVideoPlayer()}),this.set("zoneType","INSTREAM_VIDEO"),this.set("slotId","instream_video"),this.set("pp-position",e.container.data("pp-position").replace(/instream_/,"")),this.set("adState",r.states.INITIALIZING),n.prototype.initialize.call(this),s=t.contains(l,r.config.size),this.set("disabled",s),r.shouldRun()?this.set("adState",r.states.INITIALIZED):this.set("disabled",!0)},setPlaying:function(){this.set("adState",r.states.PLAYING_INVALID_IMPRESSION)},setValidImpression:function(){this.set("adState",r.states.PLAYING_VALID_IMPRESSION)},hasValidImpression:function(){return this.get("adState")>r.states.PLAYING_INVALID_IMPRESSION},setComplete:function(){this.set("adState",r.states.COMPLETED)},loadVideoPlayer:function(){var e=this;require(["lib/jwplayer/v7/jwplayer"],function(t){window.jwplayer=t,e.setupVideoPlayer()})},prefetch:function(){e.ajax({url:this.generatePrerollTag(),dataType:"xml"}).done(function(t,n,s){e(s.responseXML).find("Ad").length>0?(this.tagXml=s.responseText,this.loadVideoPlayer()):this.trigger("ads.videoplayer.emptyAdResponse")}.bind(this)).fail(function(){window.console.warn("Video prefetch failed"),this.trigger("ads.videoplayer.emptyAdResponse")}.bind(this))},bindPlayerEvents:function(){var e=this,t=function(){var e=Array.prototype.slice.call(arguments);window.ga.apply(null,["send","event","Video"].concat(e))};this.videoPlayer.on("ready",function(e){t(e.type,"setupTime",e.setupTime)}).on("pause",function(n){e.videoPlayer.paused=!0,t(n.type)}).on("volume",function(e){t(e.type)}).on("adPlay",function(n){e.videoPlayer.paused=!1,e.videoPlayer.adState="playing",t(n.type)}).on("adPause",function(n){e.videoPlayer.paused=!0,e.videoPlayer.adState="paused",t(n.type)}).on("adError",function(n){e.trigger("ads.videoplayer.aderror",n),e.videoPlayer.adState="error",t(n.type)}).on("adComplete",function(n){e.set("adState",r.states.COMPLETED),e.trigger("ads.videoplayer.adcomplete",n),e.videoPlayer.adState="completed",t(n.type)}).on("adClick",function(n){e.set("adState",r.states.COMPLETED),e.trigger("ads.videoplayer.adclick",n),t(n.type)}).on("adImpression",function(n){e.setEmptiness(!1),e.trigger("ads.videoplayer.adimpression",n),t(n.type,n.tag)})},setupVideoPlayer:function(){var e=this.get("container").find(".js_instream-video-placeholder")[0],n="https://x.kinja-static.com/assets/javascripts/lib/jwplayer/",o=this.generatePrerollTag();jwplayer.key="zUOgLEKfFxiFTxb+xVKDGOzNDITiyE6S8vdRBA==",this.videoPlayer=jwplayer(e),s.isOn("instream_ajax")?this.videoPlayer.setup({file:n+"blank.mp4",controls:!0,width:"100%",aspectratio:"16:9",mute:!0,cookies:!1,advertising:{client:"vast",admessage:" ",schedule:{adbreak1:{offset:"pre",ad:{source:"vast",vastxml:this.tagXml}}}}}):(this.videoPlayer=jwplayer(e),this.videoPlayer.setup({file:n+"blank.mp4",controls:!0,width:"100%",aspectratio:"16:9",mute:!0,cookies:!1,advertising:{client:"googima",admessage:" ",tag:o}})),t.extend(this.videoPlayer,{visible:!1,paused:!1,resumed:!1,adState:"stopped",volumeControl:{min:10,max:90,step:10}}),this.bindPlayerEvents(),this.trigger("ads.videoplayer.loaded")},generatePrerollTag:function(){var e,t,n=s.isOn("video_nodart"),i=s.value("dfp_instream_video_viewability");return n?(t="https://pubads.g.doubleclick.net/gampad/ads?",e=[["sz","400x300"],["iu","/4246/"+c],["impl","s"],["gdfp_req","1"],["env","vp"],["output","xml_vast2"],["unviewed_position_start","1"],["url",s.isOn("instream_ajax")?window.document.referrer:"[referrer_url]"],["description_url",s.isOn("instream_ajax")?"":"[description_url]"],["correlator",s.isOn("instream_ajax")?(new Date).getTime():"[timestamp]"],["forcedAdZone",this.get("forcedAdZone")||"false"],["dfp_instream_video_viewability",i],["instream_video",this.get("pp-position")]]):(t="http://ad.doubleclick.net/N4246/pfadx/"+c+"/"+this.get("adZone")+";",e=[["page","frontpage"],["forcedAdZone",this.get("forcedAdZone")||"false"],["blogName",o.name||""],["sz","400x300"],["tile","1"],["dcmt","text/xml"],["ord",Math.floor(9e7*Math.random())+1e7],["dfp_instream_video_viewability",i],["instream_video",this.get("pp-position")]]),e=e.map(function(e){return e[0]+"="+e[1]}).join(n?"&":";"),t+=e},dfpParams:function(){var n=c+"/"+this.get("adZone"),e=[n],s={page:u,forcedAdZone:this.get("forcedAdZone")||"false",blogName:o.name||"",sz:"400x300",tile:1,dcmt:"text/xml",ord:Math.floor(9e7*Math.random())+1e7};return t.each(s,function(t,n){e.push(n+"="+t)}),e.join(";")},sizes:function(){return r.config.size},stateName:function(){var e;switch(this.get("adState")){case r.states.INITIALIZING:e="initializing";break;case r.states.INITIALIZED:e="initialized";break;case r.states.PLAYING_INVALID_IMPRESSION:e="playing (invalid)";break;case r.states.PLAYING_VALID_IMPRESSION:e="playing (valid)";break;case r.states.COMPLETED:e="completed";break;default:e="error"}return e},playVideo:function(){this.videoPlayer.play()},pauseVideo:function(){this.videoPlayer.pauseAd()},setVolumeMax:function(){window.clearInterval(window.volumeInterval),this.setVolume(1)},setVolumeMin:function(){window.clearInterval(window.volumeInterval),this.setVolume(0)},setVolume:function(e,t){var o=0,n=this.videoPlayer,s=this.videoPlayer.volumeControl.min,i=this.videoPlayer.volumeControl.max,a=e?i:s,c=this.videoPlayer.volumeControl.step,r=function(){return n.getVolume()};return t?void n.setVolume(e):(this.isMuted()&&(n.setVolume(s),n.setMute(!1)),a===s&&(o=r()),void(window.volumeInterval=window.setInterval(function(){a===i&&r()<=i?o+=c:a===s&&r()>=s&&(o-=2*c),n.setVolume(o)},250)))},isAdPlaying:function(){return"playing"===this.videoPlayer.adState},isPlaying:function(){return"playing"===this.videoPlayer.getState()},isPaused:function(){return"paused"===this.videoPlayer.getState()},isMuted:function(){return this.videoPlayer.getMute()},isComplete:function(){return"completed"===this.videoPlayer.getState()},isVisible:function(){return this.videoPlayer.visible},isResumed:function(){return this.videoPlayer.resumed}},{config:{},states:{INITIALIZING:1,INITIALIZED:2,PLAYING_INVALID_IMPRESSION:3,PLAYING_VALID_IMPRESSION:4,COMPLETED:5},shouldRun:function(){return s.isOn("dfp_instream_video")&&a.isDesktopLike()}});return r}),define("module/ads/collection/ads.slotCollection",["backbone","module/ads/model/ads.slotModel"],function(e,t){"use strict";var n=e.Collection.extend({model:t,toNavigation:function(){var e=this.map(function(e){return e.navData()});return e.length&&(e[0].active=!0),e}});return n}),define("module/ads/view/ads.slotView",["jquery","underscore","backbone.marionette","singleton/Feature","singleton/CurrentBlog","module/ads/ads.events"],function(e,t,n,s,o,i){"use strict";var r=o.blogSales.adNetworkId===o.defaultAdNetworkId,a=n.ItemView.extend({modelEvents:{"ads.zonerendered":"onZoneRendered"},showAd:function(){var e=this.model.get("zoneConfig");this.$el.addClass("js_slot-displayed"),this.$el.show(),s.isOn("splashy_ad")&&e.isResponsive===!0?(this.setDimensions(),e.shouldSlideDown===!0?this.$el.parents(".splashy-ad-container").slideDown(400,function(){this.triggerDisplayedEvent(),i.trigger("ads.zonedisplayed",this)}.bind(this)):(this.$el.parents(".splashy-ad-container").show(),this.triggerDisplayedEvent(),i.trigger("ads.zonedisplayed",this))):(this.triggerDisplayedEvent(),i.trigger("ads.zonedisplayed",this),this.setDimensions()),this.model.setShown()},hideAd:function(){var e=this.model.get("zoneConfig");this.$el.addClass("hide js_slot-hidden"),this.triggerHideEvent(),i.trigger("ads.zonedisplayed",this),this.model.setHidden(),e.hasOwnProperty("onViewHide")&&"function"==typeof e.onViewHide&&e.onViewHide(this)},triggerDisplayedEvent:function(){i.trigger("kinjaads."+this.model.get("zoneType")+".displayed",{element:this.$el}),i.trigger("kinjaads."+this.model.get("slotId")+".displayed",{zone:this})},triggerHideEvent:function(){i.trigger("kinjaads."+this.model.get("zoneType")+".hide",{element:this.$el}),i.trigger("kinjaads."+this.model.get("slotId")+".hide",{zone:this})},setDimensions:function(){var e,o=this.model.get("gptData"),i=this.model.get("zoneConfig"),t=o.size[0],n=o.size[1],a=t+"x"+n;s.isOn("splashy_ad")&&i.isResponsive?a===i.fallbackSize?(this._setDimensionStyle(t,n),this._setIframeDimensions(t,n),this._handleStaticFallback()):(e=this.calculateResponsiveAdZoneDimensions(),this._setDimensionStyle(e[0],e[1]),this._setIframeDimensions(e[0],e[1]),this.adjustResponsiveAdContainerHeight(e[1])):(this._setDimensionStyle(t,n),this._setIframeDimensions(t,n))},calculateResponsiveAdZoneDimensions:function(){var t=[],n=this.model.get("zoneConfig"),s=e(window).height();return t[0]=n.maxWidth,t[1]=Math.min(n.maxHeight,s-n.viewportVOffset),t},adjustResponsiveAdContainerHeight:function(e){var t=this.$el.find("div:first-child"),n=this.$el.find("iframe:first-child");t.length&&t.height()>e&&t.css({height:e,overflow:"hidden"}),n.length&&n.height()>e&&n.css("height",e)},_setDimensionStyle:function(e,t){this.$el.css({width:e,height:t})},_setIframeDimensions:function(e,t){var s,n=this.$("div > iframe");n.attr("width",e),n.attr("height",t);try{s=n.contents().find("body").css("text-align","center")}catch{console.log("cannot set iframe body css")}},_handleStaticFallback:function(){this.$el.addClass("centered"),this.$el.parent(".js_ad-unit").addClass("static-fallback")},isEmpty:function(){var t,s,o,r,c,n=!1,i=this.$el,a=this.$("> div > iframe",i).eq(0);if(a.length>0)try{t=a.contents(),r=t.find("body"),c=t.find("head, body"),t&&!t.length?n=this.treatInaccessibleIframeAsEmpty():(s=r.html(),o=c.find("[src]"),n=this.checkIframeEmptiness(a))}catch{n=this.treatInaccessibleIframeAsEmpty()}else s=i.html(),o=e("[src]",i),n=this.checkAdEmptiness(s,o);return n},checkIframeEmptiness:function(e){var t,n,s,o,i;try{return t=e.contents(),n=t.find("body"),s=t.find("head, body"),o=n.html(),i=s.find("[src]"),this.checkAdEmptiness(o,i)}catch{return this.treatInaccessibleIframeAsEmpty()}},treatInaccessibleIframeAsEmpty:function(){return r},checkAdEmptiness:function(n,o){var i;return 0===e.trim(n).length||(t.find(o,function(e){var t=/817-(grey|grey_|blank|blank_)\.gif/,n=/ads\/collapser.gif/,o=/ads.rubiconproject.com/;s.isOn("rubicon_no_collapse")&&e.src.match(o)?i=!1:e&&e.src&&(e.src.match(t)||e.src.match(n))&&(i=!0)}),i)},onZoneRendered:function(){var r,c=!1,d=/(?:https?:\/\/)(?:[\w]+\.)([a-zA-Z.]{2,63})([/\w.-]*)*\/?/i,o=function(){this.model.setEmptiness(!0),this.hideAd()}.bind(this),u=function(){this.model.setEmptiness(!1),this.showAd()}.bind(this),t=function(){this.model.isGptEmpty()?o():this.isEmpty()===!0?c?o():(window.setTimeout(t,a.config.checkEmptinessDelay),c=!0):u()}.bind(this),h=this.$el[0],e=this.$("> div > iframe",h).eq(0),l=e.attr("src"),m=this.model.get("zoneConfig"),n=m.dimensions,f=2e3;i.trigger("ads.zonerendered"),this.model.setRendered(),"MOBILE_SECOND"===this.model.get("zoneType")?(this.model.setRendered(),this.model.setEmptiness(!1),this.$el.parents(".js_ad-mobile-second").toggleClass("hide-contents"),n&&n.length&&e.css({width:n[0]+"px",height:n[1]+"px"})):e.length?s.isOn("splashy_ad")&&l&&null===l.match(d)?t():(r=window.setTimeout(function(){e.off("load.kinjaads"),o()}.bind(this),f),e.on("load.kinjaads",function(){window.clearInterval(r),t()}.bind(this))):t()}},{config:{dimensionTolerance:4,iframeMaxWaitTime:750,checkEmptinessDelay:750}});return a}),define("module/ads/view/ads.videoSlotView",["jquery","backbone.marionette","singleton/Feature"],function(e,t,n){"use strict";var s,r=e("body"),i=e(".main-column"),o=e(".ad-background"),a=t.ItemView.extend({modelEvents:{"ads.jwplayer.loaded":"onJwplayerLoaded","ads.jwplayer.adcomplete":"hideAd","ads.jwplayer.adclick":"hideAd","ads.jwplayer.aderror":"hideAd","ads.jwplayer.adimpression":"onAdImpression"},ui:{closeLink:".js_foreplay-close"},events:{"click @ui.closeLink":"onCloseLinkClick"},triggerAd:function(){this.$el.css("display","block")},setAdPlaying:function(){i.css("-webkit-transform","none"),o.show(),this.$el.css({visibility:"visible",display:"block"}).addClass("js_foreplay-locked"),this.$el.focus().addClass("foreplay-fixed"),r.addClass("lock-body-onpreroll"),this.model.setPlaying()},hideAd:function(){s&&window.clearInterval(s),window.setTimeout(function(){r.removeClass("lock-body-onpreroll"),i.css("-webkit-transform","translate3d(0,0,0)"),this.$el.css({visibility:"hidden",display:"none"}),o.hide()}.bind(this),a.config.jwPlayerCloseDelayTime)},disableBGCloseEvents:function(){o.off("click").off("click.reveal").css({cursor:"default"})},enableBGCloseEvents:function(){o.css({cursor:"pointer"}),this.listenTo(o,"click.foreplay",this.hideAd)},onJwplayerLoaded:function(){i.before(this.$el),n.isOn("jwplayer_v7")||n.isOn("html5_jwplayer")||this.$el.css("display","block")},onAdImpression:function(e){if(!e||e.tag){var t=5,n=function(){t-=1,0===t?o():this.ui.closeLink.text("You can skip this ad in "+t+" seconds.")}.bind(this),o=function(){var e="Skip ad";window.clearInterval(s),s=null,this.ui.closeLink.text(e),this.model.setValidImpression(),this.enableBGCloseEvents()}.bind(this);this.disableBGCloseEvents(),this.setAdPlaying(),s=window.setInterval(n,a.config.jwPlayerCountdownInterval)}},onCloseLinkClick:function(){return this.model.hasValidImpression()&&(this.hideAd(),this.model.setComplete()),!1}},{config:{jwPlayerCloseDelayTime:100,jwPlayerCountdownInterval:1e3}});return a}),define("module/ads/view/ads.instreamVideoSlotView",["underscore","backbone.marionette","singleton/Feature","lib/waypoints"],function(e,t,n){"use strict";var s=t.ItemView.extend({modelEvents:{"ads.videoplayer.loaded":"onVideoplayerLoaded","ads.videoplayer.adimpression":"onAdImpression","ads.videoplayer.adcomplete":"onAdComplete","ads.videoplayer.emptyAdResponse":"onEmptyAdResponse"},ui:{videoPlayer:".js_instream-video-placeholder"},events:{"mouseenter @ui.videoPlayer":"onEnterVideoPlayer","mouseleave @ui.videoPlayer":"onLeaveVideoPlayer"},clearWaypoints:function(e){e.waypoint("destroy")},onRender:function(){var t=e.once(function(){n.isOn("instream_ajax")?this.model.prefetch():(this.clearWaypoints(this.ui.videoPlayer),this.model.set("playerState","require"))}.bind(this));return this.model.get("disabled")?void this.ui.videoPlayer.closest(".ad-instream").addClass("hide"):void this.ui.videoPlayer.waypoint({handler:function(e){"down"===e&&t()},offset:"300%"}).waypoint({handler:function(e){"up"===e&&t()},offset:"-300%"}).waypoint({handler:function(){t()},offset:"100%"})},onVideoplayerLoaded:function(){var e,t,s=this.model,o=this.model.videoPlayer,i=window.parseInt(n.value("dfp_instream_video_viewability")||20,10);switch(i){case 0:e="100%",t="-60%";break;case 10:e="95%",t="-55%";break;default:e="90%",t="-50%"}o.on("ready",function(){this.$el.waypoint({handler:function(e){"down"===e?s.playVideo():"up"===e&&s.pauseVideo()},offset:e}).waypoint({handler:function(e){"down"===e?s.pauseVideo():"up"===e&&s.playVideo()},offset:t})}.bind(this))},onAdComplete:function(){this.clearWaypoints(this.$el)},onEnterVideoPlayer:function(){n.isOn("dfp_instream_video_click")||this.model.setVolumeMax()},onLeaveVideoPlayer:function(){n.isOn("dfp_instream_video_click")||this.model.setVolumeMin()},onEmptyAdResponse:function(){this.$el.parents(".ad-instream").hide()},onAdImpression:function(){this.model.setValidImpression()}},{config:{}});return s}),define("templates/tiger/components/forms/modals/subnav",["overlord","tiger","mantle","lib/amd-wrapped/soy/goog","lib/amd-wrapped/soy/soy","lib/amd-wrapped/soy/soydata"],function(e,t,n,s,o){t.components.forms.modals.subnav=function(e,n,s){for(var i,r='<div class="phl text-center filter-selector mbx"><dl class="sub-nav inline-block mbn">',c=e.items,l=c.length,a=0;l>a;a++)i=c[a],r+=1==i.render?'<dd class="js_navigate '+o.$$escapeHtmlAttribute(i.active?"active":"")+'" data-sub-view="'+o.$$escapeHtmlAttribute(i.subViewSelector)+'"><a href="#" class="icon--svg svg-icon--white">'+(1==i.superuserTab?t.icons.actions.gear(null,null,s):"")+" "+o.$$escapeHtml(i.text)+"</a></dd>":"";return r+="</dl></div>"},s.DEBUG&&(t.components.forms.modals.subnav.soyTemplateName="tiger.components.forms.modals.subnav")}),define("view/modal/modal.subnav",["jquery","backbone.marionette","templates/tiger/components/forms/modals/subnav"],function(e,t){"use strict";var n=t.ItemView.extend({template:tiger.components.forms.modals.subnav,events:{"click .js_navigate":"onNavigateClick"},ui:{navElements:".js_navigate"},onNavigateClick:function(t){var n=e(t.currentTarget),s=this.collection.findWhere({subViewSelector:n.attr("data-sub-view")});return this.collection.trigger("modal:navigate",s),!1}});return n}),define("module/ads/view/ads.adInfoLayout",["backbone.marionette","view/modal/modal.subnav","templates/tiger/components/forms/modals/modal"],function(e,t){"use strict";var n=e.Layout.extend({template:tiger.components.forms.modals.modal.body,className:"modal-body proxima",regions:{subnav:"#modalsubnav_placeholder",content:"#modalcontent_placeholder"},onRender:function(){this.subnav.show(new t({collection:this.options.navigation})),this.content.show(new this.options.view({vent:this.options.vent,model:this.options.viewOptions.model}))}});return n}),define("templates/tiger/components/ad/adInfo",["overlord","tiger","mantle","lib/amd-wrapped/soy/goog","lib/amd-wrapped/soy/soy","lib/amd-wrapped/soy/soydata"],function(e,t,n,s,o){t.components.ad.info=function(){return'<dl class="tabs" data-tab></div><div class="ad-info__content js_ad-info__content tabs-content mbn pam"></div>;'},s.DEBUG&&(t.components.ad.info.soyTemplateName="tiger.components.ad.info"),t.components.ad.infoItem=function(e){return'<div class="ad-info-item__entry"><span class="ad-info-item-title">Page Type:</span> '+o.$$escapeHtml(e.pageType)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Zone Type:</span> '+o.$$escapeHtml(e.zoneType)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Sizes:</span> '+o.$$escapeHtml(e.sizes)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Slot Id:</span> '+o.$$escapeHtml(e.slotId)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Unit Name:</span> '+o.$$escapeHtml(e.unitName)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Ad Zone:</span> '+o.$$escapeHtml(e.adZone)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Position:</span> '+o.$$escapeHtml(e.pos)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Ad Zone Source:</span> '+o.$$escapeHtml(e.adZoneSource)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Forced Ad Zone:</span> '+o.$$escapeHtml(e.forcedAdZone)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Empty:</span> '+o.$$escapeHtml(e.isEmpty)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Status:</span> '+o.$$escapeHtml(e.status)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Keywords:</span> '+o.$$escapeHtml(e.keywords)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Tags:</span> '+o.$$escapeHtml(e.tags)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Company:</span> '+o.$$escapeHtml(e.company)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Post Id:</span> '+o.$$escapeHtml(e.postId)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Blog Name:</span> '+o.$$escapeHtml(e.blogName)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Referer:</span> '+o.$$escapeHtml(e.referer)+'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Social Referrer:</span> '+o.$$escapeHtml(e.socialReferrer)+"</div>"+(e.diagnosticsUrl?'<div class="ad-info-item__entry"><span class="ad-info-item-title">Diagnostics Url:</span> <a href="'+o.$$escapeHtmlAttribute(o.$$filterNormalizeUri(e.diagnosticsUrl))+'">'+o.$$escapeHtml(o.$$truncate(e.diagnosticsUrl,100,!0))+"</a></div>":"")+(e.creativeUrl?'<div class="ad-info-item__entry"><span class="ad-info-item-title">Creative Url:</span> <a href="'+o.$$escapeHtmlAttribute(o.$$filterNormalizeUri(e.creativeUrl))+'">'+o.$$escapeHtml(o.$$truncate(e.creativeUrl,100,!0))+"</a></div>":"")},s.DEBUG&&(t.components.ad.infoItem.soyTemplateName="tiger.components.ad.infoItem")}),define("module/ads/view/ads.adInfoItemView",["backbone.marionette","templates/tiger/components/ad/adInfo"],function(e){"use strict";var t=e.ItemView.extend({template:tiger.components.ad.infoItem,className:"content ad-info-item js_ad-info-item",id:function(){return this.model.get("slotId")+"-info"},serializeData:function(){return this.model.adInfo()}});return t}),define("module/ads/ads.controller",["jquery","underscore","backbone","lib/amd-wrapped/postscribe","singleton/CurrentBlog","singleton/Utils","singleton/Feature","singleton/EventDispatcher","module/ads/ads.events","app/modal/modal.controller","module/ads/model/ads.slotModel","module/ads/model/ads.videoSlotModel","module/ads/model/ads.instreamVideoSlotModel","module/ads/collection/ads.slotCollection","module/ads/view/ads.slotView","module/ads/view/ads.videoSlotView","module/ads/view/ads.instreamVideoSlotView","module/ads/view/ads.adInfoLayout","module/ads/view/ads.adInfoItemView"],function(e,t,n,s,o,i,a,r,c,l,d,u,h,m,f,p,g,v,b){"use strict";var O=[],y=[],w=!1,_=new m,j={_bindEvents:function(){var e=j;c.on("ads.dynamicad.load",e.onDynamicAdLoad),c.on("ads.zonerendered",e.onZoneRendered),c.on("ads.zonedisplayed",e.onZoneDisplayed)},onDynamicAdLoad:function(e,t){var n,s,o;(t!==d.zoneTypes.MOBILE_SECOND||d.config[t].shouldRun())&&(s=e.attr("id"),o=e.data().forcedAdZone,n=j._initZone(t,e,s,o)[1],j._refreshZones(n.model))},onZoneRendered:t.once(function(){var e=" - "+(a.isOn("webpack")?"webpack":"require");e+=" - "+(o.blogGroup||"default"),i.markTimeForPermalink("JS - first ad rendered"+e),i.markTimeWithPageType("JS - first ad rendered"+e),w=!0}),onZoneDisplayed:function(e){var n=e.model.get("zoneType")+" - "+i.getKinjaMeta().pageType;y=t.chain(y).without(e.cid).compact().value(),w&&performance.measure&&performance.measure("JS - time to display ad - "+n,e.model.get("refreshMark")),!y.length&&w&&(t.once(i.markTimeForPermalink.bind(i,"JS - ads displayed")),t.once(i.markTimeForPermalink.bind(i,"JS - ads displayed - "+i.getKinjaMeta().pageType)))},_adsEnabled:function(){return!!o.blogSales&&!!o.blogSales.adsEnabled},_initAmazonMatchbuy:function(t){var n=function(){try{window.amznads.getAds("3076")}catch(e){console.log(e.message)}};e.getScript("//c.amazon-adsystem.com/aax2/amzn_ads.js",function(){s("#matchbuy-placeholder",n,{done:t})})},_initGpt:function(){var t,n=window.googletag=window.googletag||{};n.cmd=n.cmd||[],e.getScript("//www.googletagservices.com/tag/js/gpt.js"),n.cmd.push(function(){t=n.pubads(),t.collapseEmptyDivs(),t.enableAsyncRendering(),t.setTargeting("tags",(i.getKinjaMeta().tags||"").split(",")),t.setTargeting("refer",document.referrer),t.setTargeting("blogName",o.name),t.setTargeting("ksg",window.Krux.segments),t.setTargeting("kuid",window.Krux.user),a.isOn("amazon_matchbuy")&&window.amznads.setTargetingForGPTAsync("amznslots"),t.enableSingleRequest(),t.disableInitialLoad(),n.enableServices()})},_refreshZones:function(e){var o=t.isArray(e)||!e?e:[e],n=t.invoke(o,"get","gptSlot"),s=function(){n&&n.length?(window.googletag.pubads().refresh(n),t.each(o,function(e){e.set("refreshMark",i.markTimeWithPageType("JS - ad refreshed - "+e.get("zoneType")))})):window.googletag.pubads().refresh()};window.googletag.cmd.push(function(){if(a.isOn("amazon_matchbuy")){window.googletag.pubads().clearTargeting();var e=function(){var e=window.location.href;window.amznads.setTargetingForGPTAsync("amznslots"),-1!==e.indexOf("#")&&""===window.location.hash&&"function"==typeof window.history.replaceState&&window.history.replaceState({},window.title,e.split("#")[0]),s()};window.amznads.getAdsCallback("3076",e),window.googletag.pubads().clearTargeting("amznslots")}else s()})},_renderZones:function(){var e=[];t.each(O,function(t){var n=t.model;!n.get("adZone")||n.get("collapsed")||n.get("disabled")?t.hideAd():e.push(n)},this),e.length&&(a.isOn("ad_module")?j._refreshZones(e):j._refreshZones(),i.markTimeForPermalink("JS - before ads fetched"))},_registerZone:function(e){O.push(e),y.push(e.cid)},_initZone:function(e,t,n,s,o){var i,a;return i=new d({zoneType:e,slotId:n,forcedAdZone:s,pp_position:o}),a=new f({model:i,el:t}),a.bindUIElements(),_.add(i),[i,a]},_initPreroll:function(){var t,n;return t=new u,n=new p({model:t,el:e("#foreplay")}),n.bindUIElements(),t},_initInstreamVideo:function(e){var t,n;return n=new h({container:e}),t=new g({model:n,el:e}),t.bindUIElements(),t.onRender(),t},_setMobileWidth:function(t){var n=e(".js_page"),s=n.css("margin-left").replace(/[^0-9.]/g,""),o=n.css("padding-left").replace(/[^0-9.]/g,""),i=-1*s+-1*o;a.isOn("permalink_body_mobile_ad")||a.isOn("permalink_body_mobile_ad_label")||t.css({width:e(window).width(),"margin-left":i})},_bindMobileEvents:function(e){r.on("orientation:change",function(){this._setMobileWidth(e)}.bind(this)),c.on("kinjaads.MOBILE.displayed",function(){e.removeClass("hide-contents")})},_initZones:function(){var s,o,i,l,r=[],h=["INSTREAM_VIDEO","MOBILE_SECOND"];u.shouldRun()&&(o=this._initPreroll(),_.add(o)),a.isOn("dfp_instream_video")&&e('.js_ad-container:not(.initialized)[data-zone-type="INSTREAM_VIDEO"]').each(function(){l=j._initInstreamVideo(e(this))}),i=e(".js_ad-container:not(.initialized)").not(function(){var e="data-zone-type";return this.hasAttribute(e)&&-1!==h.indexOf(this.getAttribute(e))}),t.each(i,function(n){var i,a,l,u,m,o=e(n),s=o.data("zoneType"),f=n.id,p=o.data("forcedAdZone"),h=o.data("postId");if(s===d.zoneTypes.TRACKER){if(t.contains(r,h))return!1;r.push(h)}d.shouldRun(s)?(s===d.zoneTypes.MOBILE&&(a=o.closest(".js_ad-unit"),this._setMobileWidth(a),this._bindMobileEvents(a)),(s===d.zoneTypes.PROMOTION||s===d.zoneTypes.PROMOTION_MOBILE||s===d.zoneTypes.PROMOTION_SIDEBAR)&&(u=o.data("pp-position")),i=this._initZone(s,n,f,p,u),m=i[0],l=i[1],o.addClass("initialized"),this._registerZone(l)):(o.addClass("hide js_slot-inactive"),c.trigger("ads."+s+".inactive"))}.bind(this)),_.length&&(c.on("ads.info.show",function(){s=new n.Collection(_.toNavigation()),s.activeModel=s.at(0),s.on("modal:navigate",this.onAdInfoNavigation),this._showInfoModal(s)}.bind(this)),this._renderZones())},_showInfoModal:function(e){l.create(new v({navigation:e,vent:c,view:b,viewOptions:{model:e.at(0).get("slotModel")}}),{name:"adInfo"})},onAdInfoNavigation:function(e){var t=e.collection;t.activeModel.set("active",!1),e.set("active",!0),t.activeModel=e,l.change(v,{navigation:t,vent:c,view:b,viewOptions:{model:e.get("slotModel")}})},API:{startAds:function(){var e=j,t=function(){function t(){window.setTimeout(function(){n--,window.googletag.pubadsReady?e._initZones():n&&t()},250)}var n=20;a.isOn("ad_module")||e._initGpt(),a.isOn("webpack")?t():e._initZones()};e._adsEnabled()?(i.markTimeForPermalink("JS - before ad controller initialized"),e._bindEvents(),a.isOn("amazon_matchbuy")?e._initAmazonMatchbuy(t):t()):c.trigger("kinjaads.disabled")},showInfo:function(){c.trigger("ads.info.show")}}};return window.kinjaads=window.kinjaads||{},window.kinjaads.queue=window.kinjaads.queue||[],window.kinjaads.showInfo=j.API.showInfo,j.API}),define("lib/kriteo",["singleton/Feature"],function(e){"use strict";function o(e){var t,s,o,n=document.cookie.split(";");for(t=0;t<n.length;t++)if(s=n[t].substr(0,n[t].indexOf("=")),o=n[t].substr(n[t].indexOf("=")+1),s=s.replace(/^\s+|\s+$/g,""),s===e)return unescape(o);return""}if(e.isOn("no3rdparty"))return!1;var t,i="1482",s="cto_gawk",a=(o(s),Math.floor(99999999999*Math.random())),n="//rtax.criteo.com/delivery/rta/rta.js?netId="+escape(i);n+="&cookieName="+escape(s),n+="&rnd="+a,n+="&varName=crtg_content",t=document.createElement("script"),t.type="text/javascript",t.src=n,t.async=!0,document.getElementsByTagName("head").length>0?document.getElementsByTagName("head")[0].appendChild(t):document.getElementsByTagName("body").length>0&&document.getElementsByTagName("body")[0].appendChild(t)}),define("lib/jquery.browser.mobile",["jquery"],function(e){!function(t){(e.browser=e.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera)}),define("singleton/VideoUtils",["jquery","lib/jquery.browser.mobile"],function(e){"use strict";var t,n,s,o=e(document.body);return n=function(n){e.browser.mobile&&(n&&t?t.show():n||(t=o.find(".flex-video iframe:visible, .flex-video video:visible").hide()))},s=function(){e(document.body).on("opened.fndtn.reveal","[data-reveal]",function(){n(!1)}).on("close.fndtn.reveal","[data-reveal]",function(){n(!0)})},{hideVideosOnModalOpen:s}}),function(e,t){if("function"==typeof define&&define.amd)define("lib/foundation/foundation",["jquery"],t);else if("object"==typeof exports){var n=require("jquery");module.exports=t(n)}else e.Foundation=t(e.jQuery||e.$)}(this,function(e){"use strict";function s(e){return("string"==typeof e||e instanceof String)&&(e=e.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),e}n=function(t){for(var n=t.length,s=e("head");n--;)0===s.has("."+t[n]).length&&s.append('<meta class="'+t[n]+'" />')},n(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),e(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof document.body&&FastClick.attach(document.body)});var n,t=function(t,n){if("string"==typeof t){if(n){var s;if(n.jquery){if(s=n[0],!s)return n}else s=n;return e(s.querySelectorAll(t))}return e(document.querySelectorAll(t))}return e(t,n)},o=function(e){var t=[];return e||t.push("data"),this.namespace.length>0&&t.push(this.namespace),t.push(this.name),t.join("-")},i=function(e){for(var n=e.split("-"),t=n.length,s=[];t--;)0!==t?s.push(n[t]):this.namespace.length>0?s.push(this.namespace,n[t]):s.push(n[t]);return s.reverse().join("-")},a=function(n,s){var o=this,i=function(){var i=t(this),a=!i.data(o.attr_name(!0)+"-init");i.data(o.attr_name(!0)+"-init",e.extend({},o.settings,s||n,o.data_options(i))),a&&o.events(this)};return t(this.scope).is("["+this.attr_name()+"]")?i.call(this.scope):t("["+this.attr_name()+"]",this.scope).each(i),"string"==typeof n?this[n].call(this,s):0[0]},r=function(e,t){function n(){t(e[0])}function s(){if(this.one("load",n),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=this.attr("src"),t=e.match(/\?/)?"&":"?";t+="random="+(new Date).getTime(),this.attr("src",e+t)}}return e.attr("src")?void(e[0].complete||4===e[0].readyState?n():s.call(e)):void n()};return window.matchMedia||(window.matchMedia=function(){if(t=window.styleMedia||window.media,!t){var t,e=document.createElement("style"),n=document.getElementsByTagName("script")[0],s=null;e.type="text/css",e.id="matchmediajs-test",n.parentNode.insertBefore(e,n),s="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var n="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=n:e.textContent=n,"1px"===s.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(e){function a(){s&&(n(a),r&&e.fx.tick())}for(var s,t=0,o=["webkit","moz"],n=window.requestAnimationFrame,i=window.cancelAnimationFrame,r="undefined"!=typeof e.fx;t<o.length&&!n;t++)n=window[o[t]+"RequestAnimationFrame"],i=i||window[o[t]+"CancelAnimationFrame"]||window[o[t]+"CancelRequestAnimationFrame"];n?(window.requestAnimationFrame=n,window.cancelAnimationFrame=i,r&&(e.fx.timer=function(t){t()&&e.timers.push(t)&&!s&&(s=!0,a())},e.fx.stop=function(){s=!1})):(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),s=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+s)},s);return t=n+s,o},window.cancelAnimationFrame=function(e){clearTimeout(e)})}(e),window.Foundation={name:"Foundation",version:"5.5.2",media_queries:{small:t(".foundation-mq-small").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),"small-only":t(".foundation-mq-small-only").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),medium:t(".foundation-mq-medium").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),"medium-only":t(".foundation-mq-medium-only").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),large:t(".foundation-mq-large").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),"large-only":t(".foundation-mq-large-only").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),xlarge:t(".foundation-mq-xlarge").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),"xlarge-only":t(".foundation-mq-xlarge-only").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,""),xxlarge:t(".foundation-mq-xxlarge").css("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,"")},stylesheet:e("<style></style>").appendTo("head")[0].sheet,global:{namespace:""},init:function(e,n,s,o,i){var c,r=[e,s,o,i],a=[];if(this.rtl=/rtl/i.test(t("html").attr("dir")),this.scope=e||this.scope,this.set_namespace(),n&&"string"==typeof n&&!/reflow/i.test(n))this.libs.hasOwnProperty(n)&&a.push(this.init_lib(n,r));else for(c in this.libs)a.push(this.init_lib(c,n));return t(window).load(function(){t(window).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),e},init_lib:function(t,n){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),n&&n.hasOwnProperty(t)?("undefined"!=typeof this.libs[t].settings?e.extend(!0,this.libs[t].settings,n[t]):"undefined"!=typeof this.libs[t].defaults&&e.extend(!0,this.libs[t].defaults,n[t]),this.libs[t].init.apply(this.libs[t],[this.scope,n[t]])):(n=n instanceof Array?n:new Array(n),this.libs[t].init.apply(this.libs[t],n))):function(){}},patch:function(e){e.scope=this.scope,e.namespace=this.global.namespace,e.rtl=this.rtl,e.data_options=this.utils.data_options,e.attr_name=o,e.add_namespace=i,e.bindings=a,e.S=this.utils.S},inherit:function(e,t){for(var n=t.split(" "),s=n.length;s--;)this.utils.hasOwnProperty(n[s])&&(e[n[s]]=this.utils[n[s]])},set_namespace:function(){var t=0[0]===this.global.namespace?e(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=0[0]===t||/false/i.test(t)?"":t},libs:{},utils:{S:t,throttle:function(e,t){var n=null;return function(){var s=this,o=arguments;n==null&&(n=setTimeout(function(){e.apply(s,o),n=null},t))}},debounce:function(e,t,n){var s,o;return function(){var i=this,a=arguments,r=function(){s=null,n||(o=e.apply(i,a))},c=n&&!s;return clearTimeout(s),s=setTimeout(r,t),c&&(o=e.apply(i,a)),o}},data_options:function(t,n){function l(e){return!isNaN(e-0)&&null!==e&&""!==e&&e!==!1&&e!==!0}function r(t){return"string"==typeof t?e.trim(t):t}n=n||"options";var s,o,i,c={},d=function(e){var t=Foundation.global.namespace;return t.length>0?e.data(t+"-"+n):e.data(n)},a=d(t);if("object"==typeof a)return a;for(i=(a||":").split(";"),o=i.length;o--;)s=i[o].split(":"),s=[s[0],s.slice(1).join(":")],/true/i.test(s[1])&&(s[1]=!0),/false/i.test(s[1])&&(s[1]=!1),l(s[1])&&(-1===s[1].indexOf(".")?s[1]=parseInt(s[1],10):s[1]=parseFloat(s[1])),2===s.length&&s[0].length>0&&(c[r(s[0])]=r(s[1]));return c},register_media:function(t,n){0[0]===Foundation.media_queries[t]&&(e("head").append('<meta class="'+n+'"/>'),Foundation.media_queries[t]=s(e("."+n).css("font-family")))},add_custom_rule:function(e,t){if(0[0]===t&&Foundation.stylesheet)Foundation.stylesheet.insertRule(e,Foundation.stylesheet.cssRules.length);else{var n=Foundation.media_queries[t];0[0]!==n&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[t]+"{ "+e+" }",Foundation.stylesheet.cssRules.length)}},image_loaded:function(e,t){function s(e){for(var n=e.length,t=n-1;t>=0;t--)if(0[0]===e.attr("height"))return!1;return!0}var o=this,n=e.length;(0===n||s(e))&&t(e),e.each(function(){r(o.S(this),function(){n-=1,0===n&&t(e)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(e){return window.matchMedia(e).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},e.fn.foundation=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(e)),this})},Foundation}),define("gawkerlib/foundation.kinja.dropdown",["jquery","lib/amd-wrapped/modernizr","lib/foundation/foundation"],function(e,t,n){"use strict";var s={name:"dropdown",version:"5.5.2",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",autoalign:!1,is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(t,s,o){n.inherit(this,"throttle"),e.extend(!0,this.settings,s,o),this.bindings(s,o)},events:function(){var n=this,s=n.S;s(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(o){var i=s(this).data(n.attr_name(!0)+"-init")||n.settings;(!i.is_hover||t.touch)&&(o.preventDefault(),s(this).parent("[data-reveal-id]").length&&o.stopPropagation(),n.toggle(e(this),i))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(e){var t,o,i,a=s(this);window.clearTimeout(n.timeout),a.data(n.data_attr())?(t=s("#"+a.data(n.data_attr())),o=a):(t=a,o=s("["+n.attr_name()+'="'+t.attr("id")+'"]')),i=o.data(n.attr_name(!0)+"-init")||n.settings,s(e.currentTarget).data(n.data_attr())&&i.is_hover&&n.closeall.call(n),i.is_hover&&n.open.apply(n,[t,o,i])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var e,o,t=s(this);t.data(n.data_attr())?e=t.data(n.data_attr(!0)+"-init")||n.settings:(o=s("["+n.attr_name()+'="'+s(this).attr("id")+'"]'),e=o.data(n.attr_name(!0)+"-init")||n.settings),n.timeout=window.setTimeout(function(){t.data(n.data_attr())?e.is_hover&&n.close.call(n,s("#"+t.data(n.data_attr())),e):e.is_hover&&n.close.call(n,t,e)}.bind(this),e.hover_timeout)}).on("click.fndtn.dropdown",function(t){var o=s(t.target),i=o.closest("["+n.attr_name()+"-content]"),a=i.find("a");return a.length>0&&"false"!==i.attr("aria-autoclose")&&n.close.call(n,s("["+n.attr_name()+"-content]")),t.target!==document&&!e.contains(document.documentElement,t.target)||o.closest("["+n.attr_name()+"]").length>0?0[0]:!o.data("revealId")&&i.length>0&&(o.is("["+n.attr_name()+"-content]")||e.contains(i.first()[0],t.target))?void t.stopPropagation():void n.close.call(n,s("["+n.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+n.attr_name()+"-content]",function(){n.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+n.attr_name()+"-content]",function(){n.settings.closed.call(this)}),s(window).off(".dropdown").on("resize.fndtn.dropdown",n.throttle(function(){n.resize.call(n)},50)),this.resize()},close:function(t,s){var o=this;t.each(function(i){var r,a=o.S(this);a.hasClass(o.settings.active_class)&&(r=e("["+o.attr_name()+"="+t[i].id+"]")||e("aria-controls="+t[i].id+"]"),r.attr("aria-expanded","false"),s=s||r.data(o.attr_name(!0)+"-init")||o.settings,s.autoalign&&a.css(n.rtl?"right":"left","-99999px"),a.attr("aria-hidden","true").removeClass(o.settings.active_class).prev("["+o.attr_name()+"]").removeClass(o.settings.active_class).removeData("target"),a.trigger("closed.fndtn.dropdown",[t]))}),t.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var t=this;e.each(t.S(".f-open-"+this.attr_name(!0)),function(){t.close.call(t,t.S(this))})},open:function(e,t,n){e.addClass(this.settings.active_class),n.autoalign&&this.css(e,t),e.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),e.data("target",t.get(0)).trigger("opened.fndtn.dropdown",[e,t]),e.attr("aria-hidden","false"),t.attr("aria-expanded","true"),e.focus(),e.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(t,n){var s,o;if(!t.hasClass(this.settings.disabled_class)){if(s=this.S("#"+t.data(this.data_attr())),0===s.length)return 0[0];this.close.call(this,this.S("["+this.attr_name()+"-content]").not(s)),s.hasClass(this.settings.active_class)?(this.close.call(this,s,n),s.data("target")!==t.get(0)&&this.open.call(this,s,t,n)):this.open.call(this,s,t,n)}},resize:function(){var t=this.S("["+this.attr_name()+"-content].open"),n=e(t.data("target")),s=n.data(this.attr_name(!0)+"-init")||this.settings;s.autoalign&&t.length&&n.length&&this.css(t,n)},css:function(e,t){var s,o,i=Math.max((t.width()-e.width())/2,8),a=t.data(this.attr_name(!0)+"-init")||this.settings,r=e.parent().css("overflow-y")||e.parent().css("overflow");return this.clear_idx(),this.small()?(s=this.dirs.bottom.call(e,t,a),e.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:s.top}),e.css(n.rtl?"right":"left",i)):"visible"!==r?(o=t[0].offsetTop+t[0].offsetHeight,e.attr("style","").css({position:"absolute",top:o}),e.css(n.rtl?"right":"left",i)):this.style(e,t,a),e},style:function(t,n,s){var o=e.extend({position:"absolute"},this.dirs[s.align].call(t,n,s));t.attr("style","").css(o)},dirs:{_base:function(e){var n,s,o,a=this.offsetParent(),i=a.offset(),t=e.offset();return t.top-=i.top,t.left-=i.left,t.missRight=!1,t.missTop=!1,t.missLeft=!1,t.leftRightFlag=!1,s=document.getElementsByClassName("row")[0]?document.getElementsByClassName("row")[0].clientWidth:window.innerWidth,n=(window.innerWidth-s)/2,o=s,this.hasClass("mega")||(e.offset().top<=this.outerHeight()&&(t.missTop=!0,o=window.innerWidth-n,t.leftRightFlag=!0),e.offset().left+this.outerWidth()>e.offset().left+n&&e.offset().left-n>this.outerWidth()&&(t.missRight=!0,t.missLeft=!1),e.offset().left-this.outerWidth()<=0&&(t.missLeft=!0,t.missRight=!1)),t},top:function(e,t){var o=n.libs.dropdown,s=o.dirs._base.call(this,e);return this.addClass("drop-top"),s.missTop===!0&&(s.top=s.top+e.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),s.missRight===!0&&(s.left=s.left-this.outerWidth()+e.outerWidth()),(e.outerWidth()<this.outerWidth()||o.small()||this.hasClass(t.mega_menu))&&o.adjust_pip(this,e,t,s),n.rtl?{left:s.left-this.outerWidth()+e.outerWidth(),top:s.top-this.outerHeight()}:{left:s.left,top:s.top-this.outerHeight()}},bottom:function(e,t){var o=n.libs.dropdown,s=o.dirs._base.call(this,e);return s.missRight===!0&&(s.left=s.left-this.outerWidth()+e.outerWidth()),(e.outerWidth()<this.outerWidth()||o.small()||this.hasClass(t.mega_menu))&&o.adjust_pip(this,e,t,s),o.rtl?{left:s.left-this.outerWidth()+e.outerWidth(),top:s.top+e.outerHeight()}:{left:s.left,top:s.top+e.outerHeight()}},left:function(e){var t=n.libs.dropdown.dirs._base.call(this,e);return this.addClass("drop-left"),t.missLeft===!0&&(t.left=t.left+this.outerWidth(),t.top=t.top+e.outerHeight(),this.removeClass("drop-left")),{left:t.left-this.outerWidth(),top:t.top}},right:function(e,t){var s=n.libs.dropdown.dirs._base.call(this,e),o=n.libs.dropdown;return this.addClass("drop-right"),s.missRight===!0?(s.left=s.left-this.outerWidth(),s.top=s.top+e.outerHeight(),this.removeClass("drop-right")):s.triggeredRight=!0,(e.outerWidth()<this.outerWidth()||o.small()||this.hasClass(t.mega_menu))&&o.adjust_pip(this,e,t,s),{left:s.left+e.outerWidth(),top:s.top}}},adjust_pip:function(e,t,s,o){var r,c,l,d,i=n.stylesheet,a=8;o.missRight===!0?a=e.outerWidth()-23:e.hasClass(s.mega_class)?a=o.left+t.outerWidth()/2-8:this.small()&&(a+=o.left-8),this.rule_idx=i.cssRules.length,r=".f-dropdown.open:before",c=".f-dropdown.open:after",l="left: "+a+"px;",d="left: "+(a-1)+"px;",o.triggeredRight===!0&&(r=".f-dropdown.open:before",c=".f-dropdown.open:after",l="left:-12px;",d="left:-14px;"),i.insertRule?(i.insertRule([r,"{",l,"}"].join(" "),this.rule_idx),i.insertRule([c,"{",d,"}"].join(" "),this.rule_idx+1)):(i.addRule(r,l,this.rule_idx),i.addRule(c,d,this.rule_idx+1))},clear_idx:function(){var e=n.stylesheet;"undefined"!=typeof this.rule_idx&&(e.deleteRule(this.rule_idx),e.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return window.matchMedia(n.media_queries.small).matches&&!window.matchMedia(n.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(window).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}};n.libs.dropdown=s}),function(e,t){if("function"==typeof define&&define.amd)define("lib/foundation/foundation.interchange",["jquery","./foundation"],t);else if("object"==typeof exports){var n=require("jquery"),s=require("./foundation");module.exports=t(n,s)}else t(e.jQuery||e.$,e.Foundation)}(this,function(e,t){"use strict";t.libs.interchange={name:"interchange",version:"5.5.2",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{default:"only screen",small:t.media_queries.small,"small-only":t.media_queries["small-only"],medium:t.media_queries.medium,"medium-only":t.media_queries["medium-only"],large:t.media_queries.large,"large-only":t.media_queries["large-only"],xlarge:t.media_queries.xlarge,"xlarge-only":t.media_queries["xlarge-only"],xxlarge:t.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(t,n,s){if(null!==t&&/IMG/.test(t[0].nodeName)){if(o=t[0].src,new RegExp(n,"i").test(o))return;return t.attr("src",n),s(t[0].src)}var o,i=t.data(this.data_attr+"-last-path"),a=this;if(i!=n)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(n)?(e(t).css("background-image","url("+n+")"),t.data("interchange-last-path",n),s(n)):e.get(n,function(e){t.html(e),t.data(a.data_attr+"-last-path",n),s()})}}},init:function(n,s,o){t.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),e.extend(!0,this.settings,s,o),this.bindings(s,o),this.reflow()},get_media_hash:function(){var t,e="";for(t in this.settings.named_queries)e+=matchMedia(this.settings.named_queries[t]).matches.toString();return e},events:function(){var n,t=this;return e(window).off(".interchange").on("resize.fndtn.interchange",t.throttle(function(){var e=t.get_media_hash();e!==n&&t.resize(),n=e},50)),this},resize:function(){var t,s,n=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout(e.proxy(this.resize,this),50);for(s in n)n.hasOwnProperty(s)&&(t=this.results(s,n[s]),t&&this.settings.directives[t.scenario[1]].call(this,t.el,t.scenario[0],function(e){if(arguments[0]instanceof Array)var t=arguments[0];else t=Array.prototype.slice.call(arguments,0);return function(){e.el.trigger(e.scenario[1],t)}}(t)))},results:function(e,t){var s,o,i,n=t.length;if(n>0)for(o=this.S("["+this.add_namespace("data-uuid")+'="'+e+'"]');n--;)if(s=t[n][2],i=matchMedia(this.settings.named_queries.hasOwnProperty(s)?this.settings.named_queries[s]:s),i.matches)return{el:o,scenario:t[n]};return!1},load:function(e,t){return("undefined"==typeof this["cached_"+e]||t)&&this["update_"+e](),this["cached_"+e]},update_images:function(){var o,e=this.S("img["+this.data_attr+"]"),n=e.length,t=n,s=0,i=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===n;t--;)(s++,e[t])&&(o=e[t].getAttribute(i)||"",o.length>0&&this.cached_images.push(e[t])),s===n&&(this.images_loaded=!0,this.enhance("images"));return this},update_nodes:function(){var o,e=this.S("["+this.data_attr+"]").not("img"),t=e.length,n=t,s=0,i=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===t;n--;)s++,o=e[n].getAttribute(i)||"",o.length>0&&this.cached_nodes.push(e[n]),s===t&&(this.nodes_loaded=!0,this.enhance("nodes"));return this},enhance:function(t){for(var n=this["cached_"+t].length;n--;)this.object(e(this["cached_"+t][n]));return e(window).trigger("resize.fndtn.interchange")},convert_directive:function(e){var t=this.trim(e);return t.length>0?t:"replace"},parse_scenario:function(e){if(t=e[0].match(/(.+),\s*(\w+)\s*$/),n=e[1].match(/(.*)\)/),t)s=t[1],o=t[2];else var t,n,i=e[0].split(/,\s*$/),s=i[0],o="";return[this.trim(s),this.convert_directive(o),this.trim(n[1])]},object:function(e){var n,i,s=this.parse_data_attr(e),o=[],t=s.length;if(t>0)for(;t--;)n=s[t].split(/,\s?\(/),n.length>1&&(i=this.parse_scenario(n),o.push(i));return this.store(e,o)},store:function(e,t){var n=this.random_str(),s=e.data(this.add_namespace("uuid",!0));return this.cache[s]?this.cache[s]:(e.attr(this.add_namespace("data-uuid"),n),this.cache[n]=t)},trim:function(t){return"string"==typeof t?e.trim(t):t},set_data_attr:function(e){return e?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(e){for(var t=e.attr(this.attr_name()).split(/\[(.*?)\]/),n=t.length,s=[];n--;)t[n].replace(/[\W\d]+/,"").length>4&&s.push(t[n]);return s},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}),function(e,t){if("function"==typeof define&&define.amd)define("lib/foundation/foundation.reveal",["jquery","./foundation"],t);else if("object"==typeof exports){var n=require("jquery"),s=require("./foundation");module.exports=t(n,s)}else t(e.jQuery||e.$,e.Foundation)}(this,function(e,t){"use strict";function n(e){var t=/fade/i.test(e),n=/pop/i.test(e);return{animate:t||n,pop:n,fade:t}}t.libs.reveal={name:"reveal",version:"5.5.2",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",multiple_opened:!1,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:e.noop,bg:e(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,n,s){e.extend(!0,this.settings,n,s),this.bindings(n,s)},events:function(){var t=this,n=t.S;return n(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(e){if(e.preventDefault(),!t.locked){var i,s=n(this),o=s.data(t.data_attr("reveal-ajax")),a=s.data(t.data_attr("reveal-replace-content"));t.locked=!0,"undefined"==typeof o?t.open.call(t,s):(i=o===!0?s.attr("href"):o,t.open.call(t,s,{url:i},{replaceContentSel:a}))}}),n(document).on("click.fndtn.reveal",this.close_targets(),function(e){if(e.preventDefault(),!t.locked){var s=n("["+t.attr_name()+"].open").data(t.attr_name(!0)+"-init")||t.settings,o=n(e.target)[0]===n("."+s.bg_class)[0];if(o){if(!s.close_on_background_click)return;e.stopPropagation()}t.locked=!0,t.close.call(t,o?n("["+t.attr_name()+"].open:not(.toback)"):n(this).closest("["+t.attr_name()+"]"))}}),n("["+t.attr_name()+"]",this.scope).length>0?n(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):n(this.scope).on("open.fndtn.reveal","["+t.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+t.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.close_video),!0},key_up_on:function(){var t=this;return t.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(e){var n=t.S("["+t.attr_name()+"].open"),s=n.data(t.attr_name(!0)+"-init")||t.settings;s&&27===e.which&&s.close_on_esc&&!t.locked&&t.close.call(t,n)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(t,n){var s,i,a,r,o=this;if(t?"undefined"!=typeof t.selector?s=o.S("#"+t.data(o.data_attr("reveal-id"))).first():(s=o.S(this.scope),n=t):s=o.S(this.scope),i=s.data(o.attr_name(!0)+"-init"),i=i||this.settings,s.hasClass("open")&&t.attr("data-reveal-id")==s.attr("id"))return o.close(s);s.hasClass("open")||(a=o.S("["+o.attr_name()+"].open"),"undefined"==typeof s.data("css-top")&&s.data("css-top",parseInt(s.css("top"),10)).data("offset",this.cache_offset(s)),s.attr("tabindex","0").attr("aria-hidden","false"),this.key_up_on(s),s.on("open.fndtn.reveal",function(e){"fndtn.reveal"!==e.namespace}),s.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),a.length<1&&this.toggle_bg(s,!0),"string"==typeof n&&(n={url:n}),"undefined"!=typeof n&&n.url?(r="undefined"!=typeof n.success?n.success:null,e.extend(n,{success:function(t,n,c){if(e.isFunction(r)){var l=r(t,n,c);"string"==typeof l&&(t=l)}"undefined"!=typeof options&&"undefined"!=typeof options.replaceContentSel?s.find(options.replaceContentSel).html(t):s.html(t),o.S(s).foundation("section","reflow"),o.S(s).children().foundation(),a.length>0&&(i.multiple_opened?o.to_back(a):o.hide(a,i.css.close)),o.show(s,i.css.open)}}),i.on_ajax_error!==e.noop&&e.extend(n,{error:i.on_ajax_error}),e.ajax(n)):(a.length>0&&(i.multiple_opened?o.to_back(a):o.hide(a,i.css.close)),this.show(s,i.css.open))),o.S(window).trigger("resize")},close:function(t){var t=t&&t.length?t:this.S(this.scope),o=this.S("["+this.attr_name()+"].open"),n=t.data(this.attr_name(!0)+"-init")||this.settings,s=this;o.length>0&&(t.removeAttr("tabindex","0").attr("aria-hidden","true"),this.locked=!0,this.key_up_off(t),t.trigger("close.fndtn.reveal"),(n.multiple_opened&&1===o.length||!n.multiple_opened||t.length>1)&&(s.toggle_bg(t,!1),s.to_front(t)),n.multiple_opened?(s.hide(t,n.css.close,n),s.to_front(e(e.makeArray(o).reverse()[1]))):s.hide(o,n.css.close,n))},close_targets:function(){var e="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?e+", ."+this.settings.bg_class:e},toggle_bg:function(t,n){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=e("<div />",{class:this.settings.bg_class}).appendTo("body").hide());var s=this.settings.bg.filter(":visible").length>0;n!=s&&((n==null?s:!n)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(t,s){if(s){var i,a,l,o=t.data(this.attr_name(!0)+"-init")||this.settings,r=o.root_element,c=this;return 0===t.parent(r).length&&(l=t.wrap('<div style="display: none;" />').parent(),t.on("closed.fndtn.reveal.wrapped",function(){t.detach().appendTo(l),t.unwrap().unbind("closed.fndtn.reveal.wrapped")}),t.detach().appendTo(r)),i=n(o.animation),i.animate||(this.locked=!1),i.pop?(s.top=e(window).scrollTop()-t.data("offset")+"px",a={top:e(window).scrollTop()+t.data("css-top")+"px",opacity:1},setTimeout(function(){return t.css(s).animate(a,o.animation_speed,"linear",function(){c.locked=!1,t.trigger("opened.fndtn.reveal")}).addClass("open")},o.animation_speed/2)):i.fade?(s.top=e(window).scrollTop()+t.data("css-top")+"px",a={opacity:1},setTimeout(function(){return t.css(s).animate(a,o.animation_speed,"linear",function(){c.locked=!1,t.trigger("opened.fndtn.reveal")}).addClass("open")},o.animation_speed/2)):t.css(s).show().css({opacity:1}).addClass("open").trigger("opened.fndtn.reveal")}return o=this.settings,n(o.animation).fade?t.fadeIn(o.animation_speed/2):(this.locked=!1,t.show())},to_back:function(e){e.addClass("toback")},to_front:function(e){e.removeClass("toback")},hide:function(t,s){if(s){var i,o=t.data(this.attr_name(!0)+"-init"),r=this,o=o||this.settings,a=n(o.animation);return a.animate||(this.locked=!1),a.pop?(i={top:-e(window).scrollTop()-t.data("offset")+"px",opacity:0},setTimeout(function(){return t.animate(i,o.animation_speed,"linear",function(){r.locked=!1,t.css(s).trigger("closed.fndtn.reveal")}).removeClass("open")},o.animation_speed/2)):a.fade?(i={opacity:0},setTimeout(function(){return t.animate(i,o.animation_speed,"linear",function(){r.locked=!1,t.css(s).trigger("closed.fndtn.reveal")}).removeClass("open")},o.animation_speed/2)):t.hide().css(s).removeClass("open").trigger("closed.fndtn.reveal")}return o=this.settings,n(o.animation).fade?t.fadeOut(o.animation_speed/2):t.hide()},close_video:function(t){var s=e(".flex-video",t.target),n=e("iframe",s);n.length>0&&(n.attr("data-src",n[0].src),n.attr("src",n.attr("src")),s.hide())},open_video:function(t){var o,i,s=e(".flex-video",t.target),n=s.find("iframe");n.length>0&&(o=n.attr("data-src"),"string"==typeof o?n[0].src=n.attr("data-src"):(i=n[0].src,n[0].src=0[0],n[0].src=i),s.show())},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},cache_offset:function(e){var t=e.show().height()+parseInt(e.css("top"),10)+e.scrollY;return e.hide(),t},off:function(){e(this.scope).off(".fndtn.reveal")},reflow:function(){}}}),define("module/foundation/Foundation5",["jquery","singleton/VideoUtils","lib/foundation/foundation","gawkerlib/foundation.kinja.dropdown","lib/foundation/foundation.interchange","lib/foundation/foundation.reveal"],function(e,t,n){"use strict";var s=n.libs.reveal;s.open_video=e.noop,s.close_video=e.noop,t.hideVideosOnModalOpen(),n.set_namespace=e.noop,e(document).foundation(),e(document.body).on("opened.fndtn.dropdown",".f-dropdown",function(){e(this).find("img[data-src]").each(function(){var t=e(this);t.attr("src",t.data("src")).removeData("src")})})}),define("lib/polyfills/json-null-old-android",[],function(){"use strict";window.navigator.userAgent.match(/Android [12]/)&&(JSON.originalParse=JSON.parse,JSON.parse=function(e){return e?JSON.originalParse(e):null})}),function(){"use strict";define("module/Main",["jquery","singleton/Feature","singleton/RavenConfig","singleton/Trackers","singleton/DeviceController","singleton/PerfTracker","module/ads/ads.controller","app/MarionetteApp","singleton/CurrentUser","singleton/CurrentBlog","lib/kriteo","module/foundation/Foundation5","lib/polyfills/json-null-old-android"],function(e,t,n,s,o,i,a,r){function c(){n.init(),t.isOn("no3rdparty")?s.loadDummy():(s.load(),o.setDevice(),a.startAds()),r.start(),t.isOn("frontendtiming")&&window.setTimeout(function(){i.start()},0)}return e.ajaxSetup({cache:!0}),{start:c}})}()