/*! 183-1-RELEASE 2015-11-15 */function __trcCopyProps(e,t,n){for(s in e)t[s]=e[s];if(n)for(var s in n)t[s]=n[s];return t}function __trcFromError(e){return TRC.Browser.ie?e.message+"["+e.number+": "+e.name+"]":e.message?e.message+(e.fileName?e.fileName+":"+e.lineNumber:""):e}function __trcClientTimestamp(){var e=new Date,t=e.getHours(),n=e.getMinutes(),s=e.getSeconds()+e.getMilliseconds()/1e3;return(10>t?"0":"")+t+":"+(10>n?"0":"")+n+":"+(10>s?"0":"")+s.toFixed(3)}function __trcLog(e,t){if(TRC.pConsole("page",TRC.modDebug.getType(e),t,t),"0"==e&&TRC.pConsole("errors",TRC.modDebug.getType(e),t,t),!(window.trc_debug_level<e)){var n=Array.prototype.slice.call(arguments,2);n.length>0&&(t+="("+n.join(",")+")"),"object"==typeof window.console&&console.log(t),(document.cookie.search("taboola-debug")>0||e<=window.trc_debug_level)&&TRC.modDebug.logMessageToServer(e,t)}}function __trcError(e,t){__trcLog(0,e+(t?": "+__trcFromError(t):"")),t&&t.stack&&"undefined"!=typeof window.console&&console.trace&&console.trace()}function __trcDebug(){var e=Array.prototype.slice.call(arguments);e.unshift(3),__trcLog.apply(null,e)}function __trcInfo(){var e=Array.prototype.slice.call(arguments);e.unshift(2),__trcLog.apply(null,e)}function __trcWarn(){var e=Array.prototype.slice.call(arguments);e.unshift(1),__trcLog.apply(null,e)}function __trcDOMWalker(e,t){for(t(e),e=e.firstChild;e;)arguments.callee(e,t),e=e.nextSibling}function __trcPurgeEventHandlers(e){try{__trcDOMWalker(e,function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=null)})}catch{}}function __trcJSONify(e){function t(e){return'"'+e.replace(/[\s\S]/g,function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case`
`:return`\\n`;case"\r":return"\\r"}return e})+'"'}function n(e){for(var n=[],t=0;t<e.length;t++)n[t]=__trcJSONify(e[t]);return n}function s(e){var n,s=[];for(n in e)e.hasOwnProperty(n)&&s.push(t(n)+":"+__trcJSONify(e[n]));return s}return e instanceof Array?"["+n(e).join(",")+"]":e instanceof Object?"{"+s(e).join(",")+"}":null===e?"null":"string"==typeof e?t(e):"undefined"==typeof e?"undefined":e.toString()}function __trcUnJSONify(e){try{return eval("("+String(e)+")")}catch{throw new Error("JSON parse error - invalid input!")}}function __trcGetMargins(e){var t=parseInt(document.trcGetCurrentStyle(e,"margin-bottom")),n=parseInt(document.trcGetCurrentStyle(e,"margin-top"));return(n!=n?0:n)+(t!=t?0:t)}function __trcAttachResize(e,t){e.attachEvent?e.attachEvent("onresize",t):("object"!=typeof e.resizeInt&&(e.resizeInt={}),e.resizeInt[t]=TRC.Interval.set(function(e){return"undefined"==typeof e.sourceWidth||"undefined"==typeof e.sourceHeight?(e.sourceWidth=e.clientWidth,void(e.sourceHeight=e.clientHeight)):e.sourceWidth!=e.clientWidth||e.sourceHeight!=e.clientHeight?(delete e.sourceWidth,delete e.clientWidth,void t.apply(e)):0[0]},250,e))}function __trcDetachResize(e,t){if(TRC.Browser.ie)e.detachEvent("onresize",t);else{"object"!=typeof e.resizeInt&&(e.resizeInt={});try{e.resizeInt[t]&&TRC.Interval.clear(e.resizeInt[t]),delete e.resizeInt[t]}catch{}}}function __trcTrim(e){return e.replace(/^\s+|\s+$/g,"")}function __trcGetElementsByClass(e,t,n){var s,o,i,a=[],r=new RegExp("(^|\\s)"+e+"(\\s|$)");for(n=n||document,t=t||"*",o=n.getElementsByTagName(t),i=o.length,s=0;i>s;s++)r.test(o[s].className)&&a.push(o[s]);return a}function __trcToArray(e,t){var n;for(n in e)e.hasOwnProperty(n)&&t.push([n,e[n]])}Gettext=function(){return{gettext:function(){return""},strargs:function(){return""}}},Gettext.strargs=function(){return""},function(e,t,n){"use strict";var f,s=t.createElement("div"),o=t.createElement("div"),m=function(e,t){return e.classList?e.classList.add(t):(n.dom.removeClass(e,t),void(e.className+=" "+t))},c=function(e){var t=e.which||e.keyCode;27===t&&a()},i=function(e){var t=e.target||e.srcElement;(t===o||"trc_close_modal"===t.id)&&(n.dom.stopEvent(e),a())},u=function(e){/http(s)?:\/\/www\.taboola\.com/.test(e.origin)&&e.data&&1025===+e.data&&a()},y=function(e){var t=[];return t.push("<a id=trc_close_modal class=trc_modal_close>&times;</a>"),t.push('<iframe class=trc_modal_frame scrolling=no frameborder=0 allowTransparency=true src="'),t.push(e),t.push('"></iframe>'),t.join("")},b=function(e,t){for(;e.tagName.toUpperCase()!==t.toUpperCase();)e=e.parentNode;return e},v=function(t){e.showModalDialog(t.href,"","dialogHeight: 550px; dialogWidth: 660px")},p=function(a){var r=b(a.target||a.srcElement,"A");return a&&n.dom.stopEvent(a),n.Browser.ieUpto(7)?v(r):(f||_(),s.innerHTML=y(r.href),n.dom.removeClass(o,"trc_modal_hidden"),n.dom.removeClass(s,"trc_modal_hidden"),n.dom.on(t,"keyup",c),n.dom.on(t,"click",i),n.dom.on(t.getElementById("trc_close_modal"),"click",i),void n.dom.on(e,"message",u))},a=function(){m(o,"trc_modal_hidden"),m(s,"trc_modal_hidden"),n.dom.off(t,"keyup",c),n.dom.off(t,"click",i),n.dom.off(t.getElementById("trc_close_modal"),"click",i),n.dom.off(e,"message",u)},r=function(e){var n=t.createElement("div");return n.id="tbl-aug-"+Math.floor(2147483648*Math.random()).toString(36),h+="#"+n.id+" ",e&&e.appendChild(n),n},g=function(e){var t=[];return t.push(e+'.trc_modal_dialog { width:660px; height:550px; box-shadow: black 0 0 18px 0;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; padding:12px;border:2px solid #417cc3;border-radius:10px;position:fixed;z-index:99999;background:#f7f9fc;top:50%;left:50%;margin-top:-250px;margin-left:-330px;-moz-box-sizing: content-box; -webkit-box-sizing: content-box;box-sizing: content-box;}'),t.push(e+".trc_modal_mask {z-index:1040;position:fixed;top:0;left:0;right:0;bottom:0;background:#000;opacity:0.5;filter: alpha(opacity=50);}"),t.push(e+".trc_modal_close {font-family:sans-serif!important;width:30px!important;height:30px!important;font-size: 30px!important;font-weight: bold!important;line-height: 28px!important;color: #fff!important;text-shadow: 0 1px 0 #000;opacity: 0.9;filter: alpha(opacity=90);background: #417cc3;padding: 0;cursor: pointer;border: 0;-webkit-appearance: none;text-align: center;border-radius: 15px!important;position:absolute!important;top: -13px;right: -13px;text-decoration: none!important;z-index: 9;}"),t.push(e+".trc_modal_close:hover {text-decoration: none!important;opacity: 1!important;filter: alpha(opacity=100)!important;}"),t.push(e+".trc_modal_hidden {display:none!important;}"),t.push(e+".trc_modal_frame {width: 100%!important;height: 550px!important;}"),t.join("")},h="",l=r(),j=r(l),d=r(j),_=function(){o.className="trc_modal_mask trc_modal_hidden",s.className="trc_modal_dialog trc_modal_hidden",d.appendChild(o),d.appendChild(s),t.body.appendChild(l),n.dom.injectStyle(g(h)),f=!0};n.aboutUs={open:p,close:a}}(window,document,TRC),function(){TRC.aspect={before:function(e,t,n,s){var o=e[t];e[t]=function(){return s&&(e[t]=o),n.apply(this,arguments),o.apply(this,arguments)}},after:function(e,t,n,s){var o=e[t];e[t]=function(){s&&(e[t]=o);var i=o.apply(this,arguments);return n.apply(this,arguments),i}}}}(window,document),function(e,t){var s=TRC.PROTOCOL,n=TRC.AutoPlaylistController=function(e,n,s,o,i,a,r){return this.animationDelay=25,this.videoData=i,this.rbox=e,this.publisher=n,this.lightbox=s,this.videoDoneHandler=null,this.autoPlayContainer=o,this.gt=this.rbox.trc.gt,this.listId=a,this.container=t.createElement("div"),this.countdownBox=null,this.counterBox=null,this.countdownTimer=null,this.playlistRecommendation=null,this.playlistItemBox=t.createElement("div"),this.autoplayTime="undefined"==typeof r?5:r,this.active=-1!=this.autoplayTime,this.isRender=!1,this.createPlayer(),this};n.prototype.videoDone=function(){"none"==this.countdownBox.style.display&&this.checkContainerVisibility()&&("block"==this.container.style.display||this.lightbox||(null==this.playlistItemBox.firstChild&&this.getPlaylistItem("n"),this.showNextUp()),function(e){if(0>=e)return this.log("playlist",{ri:this.reqId,sd:this.sesData,ui:this.userData,pi:this.videoData.id,pt:"video",li:this.listId}),void this.activateNextUp("n");for(var t=""+e--;t.length<2;)t="0"+t;this.counterBox.innerHTML=Gettext.strargs(this.gt.gettext("in %1 Seconds"),[t]),this.countdownTimer=TRC.Timeout.set(arguments.callee.trcBind(this,e),1e3)}.trcBind(this,this.autoplayTime)(),this.autoplayTime>0&&this.showCountdown())},n.prototype.getScreenPosition=function(){return Math.max(t.documentElement.scrollTop,t.body.scrollTop)},n.prototype.autoPlayerLinkTargetSupport=function(n){function s(){var s;return t.createEvent?(s=t.createEvent("MouseEvent"),s.initMouseEvent("click",!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,null)):(s=t.createEventObject(),s.button=1),s}"undefined"!=typeof n?this.playlistRecommendation.link.onclick(n,"playlist"):this.playlistRecommendation.link.onclick(s(this.playlistRecommendation),"playlist")},n.prototype.activateNextUp=function(e,t){this.countdownTimer&&(TRC.Timeout.clear(this.countdownTimer),this.countdownTimer=null),TRC.pageManager.storePublisherValue(this.publisher,"auto-play-intent",(new Date).getTime()+":"+this.playlistRecommendation.id+":"+e),this.videoData=this.playlistRecommendation,this.lightbox?(this.createPlayer(),this.getPlaylistItem(e)):this.autoPlayerLinkTargetSupport(t),"none"!=this.countdownBox.style.display&&this.hideCountdown(),this.hideNextUp(),this.playlistItemBox.removeChild(this.playlistItemBox.firstChild)},n.prototype.showNextUp=function(){this.container.style.display="block",this.container.style.opacity=1,this.log("visible",{ri:this.reqId,sd:this.sesData,ui:this.userData,pi:this.videoData.id,pt:"video",li:this.listId}),TRC.Browser.ie&&(this.container.style.marginLeft=(this.container.parentNode.offsetWidth-this.container.clientWidth)/2+"px")},n.prototype.hideNextUp=function(){this.container.style.display="none",this.container.style.opacity=0},n.prototype.animValueSet=function(e,t,n,s){switch(s){case"size":e[t]=n+"px";break;case"opacity":e.filter="alpha(opacity="+(n+100)+")",e[t]=n;break;default:e[t]=n}},n.prototype.animCall=function(e,t,n,s,o,i){"undefined"==typeof i&&(i="size");var r=parseInt(t/this.animationDelay),a=parseFloat(n[s]),c=(e-a)/r*5;this.animValueSet(n,s,a+c,i),t-this.animationDelay>0?TRC.Timeout.set(arguments.callee.trcBind(this,e,t-this.animationDelay,n,s),this.animationDelay):(this.animValueSet(n,s,e,i),"function"==typeof o&&o())},n.prototype.showCountdown=function(){var t,e=this.countdownBox.parentNode,n=Math.max(e.clientWidth,e.offsetWidth);this.countdownBox.style.display="inline",t=Math.max(e.clientWidth,e.offsetWidth),e.style.width=n+"px",this.animCall(t,750,e.style,"width")},n.prototype.hideCountdown=function(){this.countdownBox.style.display="none",this.countdownBox.parentNode.style.width="auto"},n.prototype.checkContainerVisibility=function(){return this.autoPlayContainer.playerbox.offsetTop>=this.getScreenPosition()},n.prototype.createPlayer=function(){if(this.lightbox){if("undefined"!=typeof this.autoPlayContainer.playerbox)for(;this.autoPlayContainer.playerbox.childNodes.length>0;)this.autoPlayContainer.playerbox.removeChild(this.autoPlayContainer.playerbox.firstChild);this.autoPlayContainer.createEmbedIframe(this.rbox,this.autoPlayContainer.playerbox,this.videoData),"function"==typeof this.autoPlayContainer.setTitle&&this.autoPlayContainer.setTitle(this.videoData.title)}},n.prototype.close=function(){this.videoDoneHandler&&this.videoDoneHandler.remove(),"function"==typeof this.videoData.lightboxClosed&&this.videoData.lightboxClosed()},n.prototype.render=function(e){if(this.active){this.isRender=!0,this.getPlaylistItem("s"),this.videoDoneHandler=TRC.listen("videoDone",this.videoDone.trcBind(this)),e.appendChild(this.container),this.container.className="trc_autoplaylist-box",this.container.style.display="none",this.container.appendChild(this.genHeader()),this.container.appendChild(this.playlistItemBox);var n=t.createElement("div");n.style.clear="both",this.container.appendChild(n),this.container.onmouseover=function(){this.log("explore",{ri:this.reqId,sd:this.sesData,ui:this.userData,pi:this.videoData.id,pt:"video",li:this.listId})}.trcBind(this),null!=this.playlistRecommendation&&this.showNextUp()}},n.prototype.genPlaylistURL=function(e,t){var o,n={};return n.autoplaylist={placement:"autoplaylist",origin:this.listId.replace(/^rbox-/,""),"list-size":1,"item-id":this.videoData.id},e&&(n.autoplaylist.intent=e),o=this.rbox.trc.formatTRCRequest(n,"video"),o.cb=this.rbox.trc.genCallback(t),s+"//"+this.rbox.domain+"/"+this.publisher+"/trc/3/json?tim="+encodeURIComponent(__trcClientTimestamp())+(this.rbox.trc.trcByPass?"&trc_skip_failover=yes&":"&")+encodeURIComponent(__trcJSONify(o))+TRC.pageManager.additionalDispatchParams()},n.prototype.getPlaylistItem=function(e){if(!this.lightbox)return void TRC.Timeout.set(this.getPlaylistItemFromRBox.trcBind(this),0);var t=this.genPlaylistURL(e,function(e){if(!(e&&e.trc&&e.trc.vl&&e.trc.vl.length&&e.trc.vl[0].v))return void this.hideNextUp();this.reqId=e.trc.vl[0].req,this.sesData=e.trc.sd,this.userData=e.trc.ui,TRC.pageManager.storePublisherValue(this.publisher,"session-data",this.sesData),TRC.pageManager.storeValue("user-id",this.userData);var t=e.trc.vl[0].v;this.playlistRecommendation=t.length?t[0]:t,this.playlistItemBox.appendChild(this.drawVideoBox(this.playlistRecommendation)),this.countdownBox&&this.showNextUp()}.trcBind(this));this.rbox.trc.loadExternal(t,"js",function(){this.playlistRecommendation||this.hideNextUp()})},n.prototype.getPlaylistItemFromRBox=function(){null!=this.playlistItemBox.firstChild&&this.playlistItemBox.removeChild(this.playlistItemBox.firstChild);for(var n=0,t=0;t<this.rbox.recommendationList.length-1;t++)if("video"==this.rbox.recommendationList[t].type&&this.rbox.recommendationList[t]!=this.playlistRecommendation){n=t;break}this.playlistRecommendation=this.rbox.recommendationList[n],this.playlistItemBox.appendChild(this.drawVideoBox(this.playlistRecommendation))},n.prototype.genBlock=function(e,n,s){var o=t.createElement(n||"div");for(p in e)if("string"==typeof e[p])o[p]=e[p];else if("object"==typeof e[p])for(p1 in e[p])o[p][p1]=e[p][p1];return"string"==typeof s&&o.appendChild(t.createTextNode(s)),o},n.prototype.drawVideoBox=function(e){var s,t=this.genBlock({className:"videobox nextup"}),n=this.genBlock({className:"thumbblock",style:{cssFloat:"left",styleFloat:"left",display:"block"}},"span");return t.appendChild(n),n.appendChild(this.genBlock({className:"thumbnail",style:{height:"29px",width:"39px",display:"block",backgroundImage:"url('"+e.thumbnail+"')"}},"span")),n.appendChild(this.genBlock({className:"thumbnail-overlay",style:{height:"29px",width:"39px",display:"block",marginTop:"-29px"}},"span")),s=this.genBlock({style:{display:"block"},className:"video-label-box"},"span"),t.appendChild(s),s.appendChild(this.genBlock({className:"video-label video-title"},"span",e.title)),t.onclick=function(e){this.log("click",{ri:this.reqId,sd:this.sesData,ui:this.userData,pi:this.videoData.id,pt:"video",li:this.listId}),this.activateNextUp("s",e)}.trcBind(this),t},n.prototype.genHeader=function(){var e=t.createElement("span");return e.className="trc-next-up-header",e.appendChild(t.createTextNode(this.gt.gettext("Next Up:")+" ")),this.countdownBox=t.createElement("span"),e.appendChild(this.countdownBox),this.countdownBox.className="trc-next-up-countdown",this.counterBox=t.createElement("span"),this.countdownBox.appendChild(this.counterBox),this.countdownBox.style.display="none",e},n.prototype.log=function(e,t){var o,a,r,i=e+":"+t.li+t.ii+t.ri;if(this.ev||(this.ev={}),this.ev[i])return void this.ev[i]++;this.ev[i]=1;try{o=s+"//"+this.rbox.domain+"/"+this.rbox.trc["normalize-log-param"]("publisher",this.publisher)+"/log/3/"+encodeURIComponent(e)+"?"+(Tthis.rbox.trc.trcByPass?"trc_skip_failover=yes&":"");for(name in t)a="_"==name.charAt(0)?name.substr(1):name,"undefined"!=typeof t[name]&&null!=t[name]&&(this.rbox.trc["normalize-log-param"](a,t[name]),o+=encodeURIComponent(a)+"="+encodeURIComponent(t[name])+"&");o+="id="+parseInt(1e4*Math.random()),r=new Image,r.src=o}catch(e){__trcError("Error in sending auto playlist event",e)}}}(window,document),function(e,t){var n=function(){if(this.dom=!!t.getElementById&&1,this.dom&&((t.importNode?0:1)||(this.dom=2),(t.normalizeDocument?0:1)||(this.dom=3)),s=this.opera=!!e.opera&&9,this.opera&&((navigator.geolocation?0:1)||(this.opera=10),(e.opera.version?0:1)||(this.opera=parseFloat(e.opera.version()))),this.ie=function(){return navigator.userAgent.match(/Trident/)&&/rv:11.0/i.test(navigator.userAgent)?11:"object"==typeof t.all&&!s&&("CSS1Compat"!=t.compatMode?6:e.XMLHttpRequest?Object.defineProperty?"object"!=typeof DOMImplementation||"function"!=typeof DOMImplementation.prototype.createDocument?8:e.msMatchMedia?10:9:7:6)}(),this.webkit=!!e.openDatabase&&!this.opera,this.chrome=!!(this.webkit&&e.chrome),this.safari=this.webkit&&!this.chrome,this.safari&&((t.compareDocumentPosition?0:1)||(this.safari=4),(navigator.registerContentHandler?0:1)||(this.safari=5),(e.matchMedia?0:1)||(this.safari=6)),this.firefox=!!navigator.userAgent.match(/firefox/i),this.firefox){try{"function"==typeof t.createElement("canvas").getContext&&(this.firefox=1.5)}catch{}"object"==typeof e.globalStorage&&(this.firefox=2),(t.elementFromPoint?0:1)||(this.firefox=3),(t.querySelector?0:1)||(this.firefox=3.5),(t.getElementsByTagName("head")[0].mozMatchesSelector?0:1)||(this.firefox=3.6),(e.Uint8Array?0:1)||(this.firefox=4),(Function.prototype.isGenerator?0:1)||(this.firefox=5),(e.matchMedia?0:1)||(this.firefox=6),(e.FileReader&&e.FileReader.prototype.readAsArrayBuffer?0:1)||(this.firefox=7),(t.head&&t.head.insertAdjacentHTML?0:1)||(this.firefox=8)}for(var s,o=["firefox","chrome","safari","webkit","khtml","ie","opera"],n=0;n<o.length;n++)!function(e,t){e[t+"Upto"]=function(e){return this[t]&&("number"!=typeof this[t]||this[t]<=e)},e[t+"Atleast"]=function(e){return this[t]&&("number"!=typeof this[t]||this[t]>=e)}}(this,o[n]);return this.compatibility={lineClamp:function(){return"undefined"!=typeof t.createElement("div").style.webkitLineClamp}(),cssTransforms:function(){for(var s=t.createElement("div"),n=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"],e=0;e<n.length;e++)if("undefined"!=typeof s.style[n[e]])return!0;return!1}()},this},s=function(){this.isTouchDevice="ontouchstart"in window,this.deviceType=function(){var e=navigator.userAgent.match(/iPhone|iPod|iPad/i);return e?e[0]:"other"}()};TRC.Browser=new n,TRC.Device=new s}(window,document),TRC.css=TRC.css||{},TRC.css.utils=function(e){function l(e,t){var n,o,a,r,i=e.indexOf("@media")>=0?e.split("{")[0]+"{":"";return e=i?e.substring(e.indexOf("{")+1):e,o=e.split("{"),n=o.length>1?o[0].split("."):e.split("."),r=n.length,2>r?i+e:(a=n[1],__trcTrim(a)===v?i+e:(t[__trcTrim(a)]?(s(1),n[0]="#"+t[__trcTrim(a)].cssDivsArr.join(" #")+" "+n[0]):(s(h),n[0]=f(n.join("."))+n[0]),o.length>1?(o[0]=n.join("."),i+o.join("{")):i+n.join(".")))}function c(e,t){var n,s=e.split(","),o=s.length,i="";if(a()>p&&(i=m,__trcDebug("Number of augmented css rules before Split : "+a()),d(0)),null===t)return g(2>o?e:s,i);if(2>o)return i+l(e,t);for(n=0;o>n&&(s[n]=l(s[n],t),!(s[n].indexOf("{")>=0&&o-1>n));n++);return i+s.join(",")}function g(e,t){var n,o=e.length;if("string"==typeof e)return s(1),t+e;for(n=0;o>n&&(s(1),!(e[n].indexOf("{")>=0&&o-1>n));n++);return t+e.join(",")}function u(e,t){var n,s=e.split("}"),o=s.length;if(2>o)return c(e,t);for(n=0;o>n;n++)s[n]=c(s[n],t);return s.join("}")}function s(e){i+=e}function d(e){i=e}function a(){return i}function f(e){return r(!1,!1).replace(new RegExp("{class}","gm"),e)}function r(e,n){var s,i;if("object"==typeof e){t="";for(s in e)"string"==typeof s&&""!==s&&(i="#"+e[s].cssDivsArr.join(" #")+" ",t=t+i+" "+o),h++;return t="#"+n.iframe.join(" #")+" "+o+"#"+n.topDiv.join(" #")+" "+o+t.slice(0,t.length-o.length)}return t}var n,p=4040,m=" style_split",o="{class},",i=0,h=0,t="",v="vidiscovery-note";return n={setStyleTextIdPrefix:function(e,t,n){t&&r(t,n);var s=u(e,t);return __trcDebug("Number of augmented css rules left : "+a()),d(0),s},setStyleElements:function(e){var t,n=e.split(m),s=n.length;s>1&&TRC.pConsole("page","debug","splitting css","");for(t=0;s>t;t++)TRC.dom.injectStyle(n[t])},setStyleToElements:function(e,t,n){try{var o,i,r,s=[],c=t.split(","),a=[];"Array"==__trcTypeOf(e)?s=e:s.push(e);for(o=0,r=s.length;r>o;o++){i=0;for(c.length;i<len;i++)"inline"===n&&(a=syles[i].split(":"),s[o].style[__trcTrim(a[0])]=__trcTrim(a[1]))}}catch(e){__trcError("Error in TRC.css.utils.setStyleToElements "+e.message)}},setStyleProperty:function(e,t,n,s){var o=e.style.cssText;o+=";"+t+":"+n+(s?"!important":""),e.style.cssText=o},generateCssRuleWithVendorPrefixes:function(e,t){for(var o=[" -webkit-","-moz-","-ms-","-o-"],a="{property}: {value};",i=a.replace("{property}",e).replace("{value}",t),n=[],s=0;s<o.length;s++)n.push(o[s]+i);return n.push(i),n.join(" ")},escape:function(){return window.CSS&&window.CSS.escape||function(e){o=function(e){this.message=e},o.prototype=new Error,o.prototype.name="InvalidCharacterError";for(var t,o,s=String(e),a=s.length,n=-1,i="",r=s.charCodeAt(0);++n<a;){if(t=s.charCodeAt(n),0==t)throw new o("Invalid character: the input contains U+0000.");i+=t>=1&&31>=t||127==t||0==n&&t>=48&&57>=t||1==n&&t>=48&&57>=t&&45==r?"\\"+t.toString(16)+" ":t>=128||45==t||95==t||t>=48&&57>=t||t>=65&&90>=t||t>=97&&122>=t?s.charAt(n):"\\"+s.charAt(n)}return i}}()},e._trcIsUTactive&&(n.classSplit=l,n.multiRuleSplit=c,n.ruleSplit=u,n.addRuleCounter=s,n.getCssIdsTemplate=r),n}(window),TRC.css.responsive=function(){function e(e,t){var n=TRC.Browser.ieUpto(7)?99:99.99;return(n-e*t)/e}function t(t,n,s,o,i){var a=e(t,s);i?o.push(TRC.css.utils.setStyleTextIdPrefix("."+n+" .videoCube{width: "+a+"%; position: relative; float: left; margin: 0 0 "+s+"% "+s+"%;}",TRC.modesCache,TRC.lightBoxCssReset)):o.push("."+n+" .videoCube{width: "+a+"%; position: relative; float: left; margin: 0 0 "+s+"% "+s+"%;}")}function n(e,t,n,o,i){var a=" .trc_rbox_div .videoCube {width: "+(1==e.cells?"100":"48")+"%;}",r=" .trc_header_left_column {width: "+(1==e.cells?"100":"48")+"%;}",c=" .trc_header_right_column {display: "+(1==e.cells?"none":"inline")+";}",l="."+t+" .trc_rbox_div div.videoCube:nth-of-type(-n+"+e.rows+"){float:left;clear:left;}",d="."+t+" .trc_rbox_div div.videoCube:nth-of-type(n+"+(e.rows+1)+"){float:none;clear:right;margin-left:auto;}";i?s(e,t,n,o):o?(n.push(TRC.css.utils.setStyleTextIdPrefix(d,TRC.modesCache,TRC.lightBoxCssReset)),n.push(TRC.css.utils.setStyleTextIdPrefix(l,TRC.modesCache,TRC.lightBoxCssReset))):(n.push(d),n.push(l)),o?(n.push(TRC.css.utils.setStyleTextIdPrefix("."+t+a,TRC.modesCache,TRC.lightBoxCssReset)),n.push(TRC.css.utils.setStyleTextIdPrefix("."+t+r,TRC.modesCache,TRC.lightBoxCssReset)),n.push(TRC.css.utils.setStyleTextIdPrefix("."+t+c,TRC.modesCache,TRC.lightBoxCssReset))):(n.push("."+t+a),n.push("."+t+r),n.push("."+t+c))}function s(e,t,n,s){var o,i,a,r=e.rows*e.cells-e.rows;for(o=1;o<=e.rows;o++)i="."+t+" .trc_rbox_div .videoCube_"+o+"_child{float:left;clear:left;}",s?n.push(TRC.css.utils.setStyleTextIdPrefix(i,TRC.modesCache,TRC.lightBoxCssReset)):n.push(i);for(o=e.rows+1;r>=o;o++)a="."+t+".trc_rbox_div  .videoCube_"+o+"_child{float:none;clear:right;margin-left:auto;}",s?n.push(TRC.css.utils.setStyleTextIdPrefix(a,TRC.modesCache,TRC.lightBoxCssReset)):n.push(a)}function o(e,t,n,s,o,i){var r=e.rows*e.cells,c="."+t+" div.videoCube:nth-of-type(-n+"+r+"){display:block;visibility:visible;}",l="."+t+" div.videoCube:nth-of-type(n+"+(r+1)+"){display:none;visibility:hidden;}";o?a(n,s,r,t,i):i?(n.push(TRC.css.utils.setStyleTextIdPrefix(c,TRC.modesCache,TRC.lightBoxCssReset)),n.push(TRC.css.utils.setStyleTextIdPrefix(l,TRC.modesCache,TRC.lightBoxCssReset))):(n.push(c),n.push(l))}function i(e,n,s,o,i){var a="."+n+" .trc_rbox_outer .videoCube .video-label-box {height:auto;}",c="."+n+" .trc_rbox_outer .videoCube {margin-bottom:10px;}",l="."+n+" .trc_rbox_outer{margin-left:-"+e.margin+"%;}",d=e.rows*e.cells;1==e.cells&&(o?r(s,n,i,d):i?(s.push(TRC.css.utils.setStyleTextIdPrefix(a,TRC.modesCache,TRC.lightBoxCssReset)),s.push(TRC.css.utils.setStyleTextIdPrefix(c,TRC.modesCache,TRC.lightBoxCssReset))):(s.push(a),s.push(c))),i?s.push(TRC.css.utils.setStyleTextIdPrefix(l,TRC.modesCache,TRC.lightBoxCssReset)):s.push(l),s.push("."+n+" .videoCube_aspect{padding-bottom:"+e.ratio+"%; width: 100%;}"),t(e.cells,n,e.margin,s,i)}function a(e,t,n,s,o){var i;for(i=1;n>=i;i++)o?e.push(TRC.css.utils.setStyleTextIdPrefix("."+s+" .videoCube_"+i+"_child{display:block;visibility:visible;}",TRC.modesCache,TRC.lightBoxCssReset)):e.push("."+s+" .videoCube_"+i+"_child{display:block;visibility:visible;}");for(i=n+1;t>=i;i++)o?e.push(TRC.css.utils.setStyleTextIdPrefix("."+s+" .videoCube_"+i+"_child{display:none;visibility:hidden;}",TRC.modesCache,TRC.lightBoxCssReset)):e.push("."+s+" .videoCube_"+i+"_child{display:none;visibility:hidden;}")}function r(e,t,n,s){for(var i,a,o=1;s>=o;o++)i="."+t+" .videoCube_"+o+"_child .video-label-box {height:auto;}",a="."+t+" .videoCube_"+o+"_child{margin-bottom:10px;}",n?(e.push(TRC.css.utils.setStyleTextIdPrefix(i,TRC.modesCache,TRC.lightBoxCssReset)),e.push(TRC.css.utils.setStyleTextIdPrefix(a,TRC.modesCache,TRC.lightBoxCssReset))):(e.push(i),e.push(a))}var c;return c={rulesToCssText:function(e,t,s,a,r){var c,u,h,m,l=[],d=TRC.Browser.ieUpto(8);for(u=0;c=t[u];u++)d||(h="undefined"!=typeof c.min||"undefined"!=typeof c.max,h&&l.push("@media screen and "),"undefined"!=typeof c.min&&(l.push("(min-width: "+c.min+"px) "),c.max&&l.push("and ")),"undefined"!=typeof c.max&&l.push("(max-width: "+c.max+"px) "),h&&l.push("{")),m=e+(d?"_rule"+u:""),r?n(c,m,l,a,d):i(c,m,l,d,a),o(c,m,l,s,d,a),!d&&h&&l.push("} ");return l.join("")},getRulePercentageWidth:e}}(),function(){TRC.DaisyChain=function(e,t){var n,s,o,c,r={},i="finish",h="active",l=0,d=0,u=TRC.text,a=h;this.renderInIframe=function(e,t){var n=e.contentWindow||e.contentDocument,s=t.trc.tag;return n.document&&(n=n.document),e.style.width=s.w||"0px",e.style.height=s.h||"0px",n.open(),n.write(this.normalizeTag(e,t)),n.close(),e},this.normalizeTag=function(t,n){var s=e.global["normalize-provider-tag"];return"function"==typeof s?s(n.trc.tag.js,n,t,u.htmlUnescape):u.htmlUnescape(n.trc.tag.js)},this.createIframe=function(){var e=document.createElement("iframe");return e.style.border=e.frameBorder=e.border="0",e.scrolling="no",t.container.appendChild(e),e},this.addToChain=function(e,t){var n=t||e.trc.tag.pr;r[n]=e,l++,TRC.pConsole("mediation","debug","pushing in daisy chain ",e,"object")},this.renderAd=function(e){var t,s;try{return o&&TRC.Timeout.clear(o),a==i?(TRC.pConsole("mediation","info","passback rejected - daisy chain finished"),__trcWarn("passback rejected - daisy chain finished- "+n),!1):(this.incrementPriority(),r[n]?(t=r[n],d++,t.trc.tag?this.renderScript(t):this.renderTaboola(t,e),!0):(l>d&&__trcError("Error in DaisyChain.renderAd - non continuous priority flaw - "+n),a=i,!1))}catch(e){return s=t&&t.trc.tag?t.trc.tag.jsid:n,__trcError("Error in DaisyChain.renderAd - "+s,e),c||(c=!0,this.renderAd()),!1}},this.incrementPriority=function(){n?n++:n=1},this.renderTaboola=function(n,s){TRC.pConsole("mediation","debug","rendering taboola"),this.removeIframe(),t.response=n,a=i,s?s.loadScriptCallback(t.response):e.internalDrawRBox(t)},this.renderScript=function(t){var n=t.trc.tag;o=this.setDeferredAvailableEvent(n.uip,n.ri,e.global["mediation-tag-timeout"]||1e3),TRC.pConsole("mediation","debug","rendering script : "+n.jsid,o,"string"),s?this.renderInIframe(s,t):(s=this.createIframe(),this.renderInIframe(s,t))},this.setDeferredAvailableEvent=function(t,n,s){return TRC.Timeout.set(function(){a=i,e.sendEvent("available",{ri:n,uip:t},null,!0),TRC.pConsole("mediation","debug","send available on placement : "+t)},s)},this.removeIframe=function(){s&&s.parentElement.removeChild(s)},TRC.pConsole("mediation","info","starting daisy chain on placement : "+t.placement)}}(),TRC.modDebug=function(e){function r(e){TRC.net.fireSimpleHttpRequest(e)}function o(e){switch(e){case 0:return"error";case 1:return"warn";case 2:return"info";case 3:return"debug";default:return}}function a(t,n,i){return s.timeStamp+escape(i)+"&"+s.type+escape(o(t))+"&"+s.message+escape(n)+(trc_debug_level>1?"&"+s.debugLevel+trc_debug_level:"")+"&"+s.id+Math.floor(1e4*Math.random())+(e.TRC.version?"&cv="+e.TRC.version:"")}var n,c=TRC.PROTOCOL,l=2,s={timeStamp:"tim=",type:"type=",message:"msg=",debugLevel:"llvl=",id:"id="},i=function(){var e={};return{setMessageCache:function(t){e[t]?e[t]+=1:e[t]=1},getMessageCount:function(t){return e[t]?e[t]:0}}}();return n={logMessageToServer:function(t,n){if(i.setMessageCache(n),i.getMessageCount(n)<=l){var s=e.TRCImpl&&TRCImpl.domain?TRCImpl.domain:"trc.taboola.com",o=e.TRCImpl?TRCImpl["normalize-log-param"]("publisher",TRC.publisherId):TRC.publisherId,d=c+"//"+s+"/"+o+"/log/2/debug?"+a(t,n,__trcClientTimestamp());r(d)}},getType:o},e._trcIsUTactive&&(n.getType=o,n.messageCache=i,n.getLogParams=a),n}(window,document),function(){TRC.DeepLinking={isAppStoreURL:function(e,t){var n=/^(market|itms-apps|ms-windows-store):\/\//,s=t&&new RegExp(t);return n.test(e)||!!t&&s.test(e)},openDeepLink:function(e){var t=document.createElement("iframe");return t.src=e,t.className="tbl-deep-link",t.height=0,t.width=0,document.body.appendChild(t),t}}}(window,document),function(e,t){function n(){try{if(s&&(TRC.Browser.ieUpto(10)?t.detachEvent("onreadystatechange",s):(t.removeEventListener("DOMContentLoaded",arguments.callee,!1),TRC.Interval.clear(s))),TRC.dom.isReady)return;TRC.dom.isReady=!0,TRC.dom.onReady=function(e){e()};for(var n=0;n<o.length;n++)o[n]()}catch(e){__trcError("Error in DOMReady processing",e)}}function a(){return e.pageXOffset||t.body.scrollLeft}var o=[],s=null,i=!1;TRC.dom={isReady:!1,onReady:function(e,t){return t?void TRC.Timeout.set(e,10):void o.push(e)},init:function(){if(!i){if(i=!0,t.readyState&&/loaded|complete/.test(t.readyState))return void n(!0);if(TRC.Browser.ieUpto(10)){var a,o=t.createElement("div");!function(){try{o.doScroll("left")}catch{return void(o.to=TRC.Timeout.set(arguments.callee,10))}n()}(),t.attachEvent("onreadystatechange",s=function(){/loaded|complete/.test(t.readyState)&&(TRC.Timeout.clear(o.to),n())})}else{if(/interactive/.test(t.readyState))return void n(!0);t.addEventListener("DOMContentLoaded",n,!1),s=TRC.Interval.set(function(){/loaded|complete|interactive/.test(t.readyState)&&n()},10)}a=e.onload,e.onload=function(){if(n(),a)try{a()}catch{}}}},on:function(){return e.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:e.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:void(el["on"+sType]=fn)}(),off:function(){return e.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:e.detachEvent?function(e,t,n){e.detachEvent("on"+t,n)}:void(el["on"+sType]=fn)}(),isAncestor:function(e,t,n){for(t=n?t:t.parentNode;t&&t!==e&&9!=t.nodeType;)t=t.parentNode;return e===t},injectStyle:function(e,n){var s=document.createElement("style"),n=n||t;s.type="text/css",n.head.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),this.injectStyleOverflowFix(e),TRC.styleInjected=!0},injectStyleOverflowFix:function(e){if(TRC.Browser.ie&&31==document.styleSheets.length&&(n=document.getElementById("trc_rbox_css_loaded"),n==null&&(n=document.createElement("div"),n.id="trc_rbox_css_loaded",t.body.appendChild(n)),"hidden"!=document.trcGetCurrentStyle(n,"overflow"))){var n,s,i,a=e.split("}"),o=null;try{for(s=0;s<document.styleSheets.length;s++)if(i=document.styleSheets[s],a.length+i.rules.length<=4096){o=i;break}o!=null&&(o.cssText+=e)}catch(e){__trcError("Error in injectStyleOverflowFix processing",e)}}},swapElements:function(e,t,n){return n&&TRC.dom.purgeEventHandlers(e),e.parentNode.replaceChild(t,e),t},iterateOnNode:function(e,t){for(t(e),e=e.firstChild;e;)arguments.callee(e,t),e=e.nextSibling},purgeEventHandlers:function(e){try{TRC.dom.iterateOnNode(e,function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=null)})}catch(e){__trcError("TRC.dom.purgeEventHandlers : ",e.message)}},clearInnerElements:function(e){for(var t;t=e.firstChild;)this.purgeEventHandlers(t),e.removeChild(t)},stopEvent:function(e){return e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1},addClass:function(e,t){e.className+=" "+t+" "},removeClass:function(e,t){var n;return e.classList?e.classList.remove(t):(n=new RegExp("s*"+t,"g"),void(e.className=e.className.replace(n,"")))},getWindowWidth:function(){return window.innerWidth?this.getWindowWidth=function(){return window.innerWidth}:0!=document.documentElement.clientWidth?this.getWindowWidth=function(){return document.documentElement.clientWidth}:this.getWindowWidth=function(){return document.body.clientWidth},this.getWindowWidth()},getWindowHeight:function(){return window.innerHeight?this.getWindowHeight=function(){return window.innerHeight}:0!=document.documentElement.clientHeight?this.getWindowHeight=function(){return document.documentElement.clientHeight}:this.getWindowHeight=function(){return document.body.clientHeight},this.getWindowHeight()},getPageVerticalScroll:function(){return e.pageYOffset||t.body.scrollTop},getViewportVerticalRange:function(){var e=this.getPageVerticalScroll(),t=e+this.getWindowHeight();return{min:e,max:t}},getViewportHorizontalRange:function(){var e=a(),t=e+this.getWindowWidth();return{min:e,max:t}},getElementRect:function(e){return e.getBoundingClientRect()},isInIframe:function(t){try{return e.top!==e.self}catch{return"boolean"==typeof t&&t}},createAugmentingContainers:function(e,t){for(var n,s=[],o=null,i=0;e>i;i++)n=this.createAugmentingContainer(o),o=n,s.push(n);return t&&s[e-1].appendChild(t),s},createAugmentingContainer:function(e){var n=t.createElement("div");return n.id="tbl-aug-"+Math.floor(2147483648*Math.random()).toString(36),e&&e.appendChild(n),n},generateAugmentationPrefix:function(e){for(var n="",t=0;t<e.length;t++)n+="#"+e[t].id+" ";return n},isHighDensity:function(){var e=window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3;return function(){return e}}(),isRetina:function(){var e=(window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)").matches)||window.devicePixelRatio&&window.devicePixelRatio>2)&&/(iPad|iPhone|iPod)/g.test(navigator.userAgent);return function(){return e}}(),isSmartPhone:function(){var e=window.matchMedia&&window.matchMedia(" only screen and (min-device-width : 320px) and (max-device-width : 480px)").matches||/(iPhone|iPod)/g.test(navigator.userAgent);return function(){return e}}(),isTablet:function(){var e=window.matchMedia&&window.matchMedia(" only screen and (min-device-width : 768px) and (max-device-width : 1024px)").matches||/(iPhone|iPod)/g.test(navigator.userAgent);return function(){return e}}(),isDesktop:function(){return!this.isTablet()&&!this.isSmartPhone()}}}(window,document),TRC.eventDelegator=function(e){function c(e,t){var s;n[e]&&(s=n[e]._all,a(s,t||""),t&&n[e][t.container.id]&&(s=n[e][t.container.id],a(s,t)))}function a(e,t){var n,s=e.length;for(n=0;s>n;n++)try{e[n]instanceof Function&&setTimeout(function(e,t){return function(){e(t)}}(e[n],t),0)}catch(e){__trcError("executeHandlers",e)}}function r(e,t){var n;if(!t)return void setTimeout(e,0);for(n in t)try{e instanceof Function&&setTimeout(function(e,t){return function(){e(t)}}(e,t[n]),0)}catch(e){__trcError("executeHandlers",e)}}function l(e){n[e]=[],n[e]._all=[]}function d(e,t){n[e][t]=[]}var i,n=[],s={},o={subscribe:function(e,t,o){n[e]||l(e),o?(n[e][o]||d(e,o),n[e][o].push(t),s[e]&&s[e][o]&&r(t,{mode:s[e][o]})):(n[e]._all.push(t),s[e]&&r(t,s[e]))},dispatch:function(e,t){s[e]=s[e]||{},t?s[e][t.container.id]=t:s[e]._all={},c(e,t||null)},resetEvents:function(){s={}}};if(e._trcIsUTactive&&(o.processDelegatorsStack=c,o.executeHandlers=a,o.executePreviousEvents=r,o.delegatorsStack=n,o.eventsStack=s),TRC.subscriptionRegister)for(;TRC.subscriptionRegister.length;)i=TRC.subscriptionRegister.shift(),o.subscribe(i.event,i.handler,i.container);return o}(window,document),function(e,t){function o(e){"undefined"==typeof n[e]&&(n[e]=[])}function a(e,t){o(e),n[e].forEach(function(s,o){return t==s.id?void n[e].splice(o,1):0[0]})}var s,i,n={},r=0;return TRC.listen=function(e,t){if("object"==typeof e&&e.length)return e.forEach(function(e){TRC.listen(e,t)}),null;o(e);var s={id:r++,handler:t,eventName:e,remove:function(){a(this.eventName,this.id)}};return n[e].push(s),s},TRC.dispatch=function(e,t){o(e);var a=s(e,t);n[e].forEach(function(e){i(function(){e.handler.call(this,a)}.trcBind(this))}.trcBind(this))},t.addEventListener&&t.dispatchEvent?(t.addEventListener("trcFakeEvents",function(e){e.cx()},!1),s=function(e,n){var s=t.createEvent("Event");return s.initEvent(e,!1,!1),"object"==typeof n?__trcCopyProps(n,s):s.data=n,s},void(i=function(e){var n=s("trcFakeEvents");n.cx=e,t.dispatchEvent(n)})):(t.documentElement.attachEvent("onpropertychange",function(e){"trcFakeEvents"==e.propertyName&&e.cx()}),s=function(e,n){var s;return n&&n.generator&&"ceo"===n.generator?(n.type=e,n):(s=t.createEventObject(),s.generator="ceo",s.type=e,"object"==typeof n?__trcCopyProps(n,s):s.data=n,s)},void(i=function(e){var n=s("trcFakeEvents");n.cx=e,n.propertyName="trcFakeEvents",t.documentElement.fireEvent("onpropertychange",n)}))}(window,document),function(e){var t=TRC.ExpandAnimationManager=function(t){this.rbox=t,this.container=t.container,this.trcContainer=this.container._trc_container,TRC.css.utils.setStyleElements(this.createCSS()),this.trcContainer.className+=" trc_expandable",this.throttledExpandScrollHandler=this.scrollHandler.trcBind(this).trcThrottle(10),TRC.dom.on(e,"scroll",this.throttledExpandScrollHandler)};t.prototype.scrollHandler=function(){this.rbox.isInViewPort(this.container,0)?this.trcContainer.wasOutOfViewPort&&(this.trcContainer.className+=" trc_show",TRC.dom.off(window,"scroll",this.throttledExpandScrollHandler)):this.trcContainer.wasOutOfViewPort=!0},t.prototype.createCSS=function(){for(var t=[],s="#"+TRC.css.utils.escape(this.container.id),o=this.rbox.trc.getProperty(this.rbox.mode_name,"expand-animation-duration"),i=this.rbox.trc.getProperty(this.rbox.mode_name,"expand-animation-max-height"),n=[s+" .trc_rbox_container.trc_expandable {"+TRC.css.utils.generateCssRuleWithVendorPrefixes("transition-duration",o+"ms")+"}",s+" .trc_rbox_container.trc_expandable.trc_show { max-height: "+i+"px;}"],e=0;e<n.length;e++)this.rbox.trc.cssReset?t.push(TRC.css.utils.setStyleTextIdPrefix(n[e],TRC.modesCache,TRC.lightBoxCssReset)):t.push(n[e]);return t.join("")}}(window),function(){TRC.clickFraudDetect=function(e,t){function n(){try{var e="&p4="+(new Date).getTime();t.loadScript(i+a+e,"js",null,null,!0)}catch(e){__trcError("reportClick: Error in click fraud detection",e)}}var s="136373f5436373f5230353",o="502",i="//flx502.lporirxe.com/flp/flcpmin.js?qid="+s+"&cid="+o,a="&p1="+e.pubId;return e.enabled?modObject.reportClick=n:modObject.reportClick=function(){},modObject}}(window,document),TRC.util=function(e,t){var n={};return n={isType:function(e,t){return t=t.charAt(0).toUpperCase()+t.substr(1),Object.prototype.toString.call(e)=="[object "+t+"]"},hasKeys:function(e){var t;if(this.isType(e,"object"))if(Object.keys&&!Object.propertyIsEnumerable("keys")){if(Object.keys(e).length>0)return!0}else for(t in e)if(e.hasOwnProperty(t))return!0;return!1},copyProperties:function(e,t,n){if(this.isType(n,"Array")){o=n.length;for(var o,s=0;o>s;s++)t[n[s]]=e[n[s]]?e[n[s]]:0[0];return!0}return!1},getRandomIds:function(e){for(var t=0;t<e.len;t++)e.arr[t]=e.prefix+Math.floor(Math.random()*10**e.strength+1)+e.suffix},getHtmlDecodeText:function(){var e=t.createElement("div");return function(t){return t&&"string"==typeof t?(e.innerHTML=encodeURI(t),t=e.textContent||e.innerText,e.innerHTML="",decodeURI(t)):""}}(),isEmptyString:function(e){return!e||/^\s*$/.test(e)},keys:function(){"use strict";var t=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=e.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))return[];var i,a,r=[];for(a in o)t.call(o,a)&&r.push(a);if(n)for(i=0;s>i;i++)t.call(o,e[i])&&r.push(e[i]);return r}}(),merge:function(e){"use strict";if(e==null||e.constructor!==Object)return null;for(i=TRC.util,n=1;n<arguments.length;n++)if(t=arguments[n],t!=null&&t.constructor===Object)for(var t,n,s,i,a=i.keys(t),o=0,r=a.length;r>o;o++)s=a[o],e[s]=t[s];return e}}}(window,document),"undefined"==typeof Array.prototype.push&&(Array.prototype.push=function(){for(var e=0;e<arguments.length;e++)this[this.length]=arguments[e]}),"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(e,t){"number"!=typeof t&&(t=0);for(var n=t;n<this.length;n++)if(this[n]==e)return n;return-1}),"undefined"==typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){if(n=this.length,"function"!=typeof e)throw new TypeError;for(var n,s=arguments[1],t=0;n>t;t++)t in this&&e.call(s,this[t],t,this)}),"undefined"==typeof document.getElementsByClassName&&(document.getElementsByClassName=function(e){n=[],elms=document.getElementsByTagName("*"),s=e.split(/ +/);a:for(t=0;t<elms.length;t++){for(var t,n,s,i=elms[t].className.split(/ +/),o=0;o<s.length;o++)if(i.indexOf(s[o])<0)continue a;n.push(elms[t])}return n}),"undefined"==typeof document.trcGetCurrentStyle&&(document.trcGetCurrentStyle=function(e,t,n){return"string"==typeof e&&(e=document.getElementById(e)),window.getComputedStyle?window.getComputedStyle(e,n).getPropertyValue(t):(t=t.replace(/-(\w)/,function(e,t){return t.toUpperCase()}),e.currentStyle[t])}),"undefined"==typeof document.trcGetParentByClassName&&(document.trcGetParentByClassName=function(e,t){return e?e.className.split(/\s+/).indexOf(t)>=0?e:document.trcGetParentByClassName(e.parentNode,t):null}),"undefined"==typeof document.trcGetChildByClassName&&(document.trcGetChildByClassName=function(e,t){return e?e.className.split(/\s+/).indexOf(t)>=0?e:document.trcGetChildByClassName(e.firstChild,t):null}),"undefined"==typeof Function.prototype.trcBind&&(Function.prototype.trcBind=function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){var s=n.concat(Array.prototype.slice.call(arguments,0));return t.apply(e,s)}}),"undefined"==typeof Function.prototype.trcThrottle&&(Function.prototype.trcThrottle=function(e){var t,n=this;return function(){var s=arguments;t&&clearTimeout(t),t=setTimeout(function(){n.apply(n,s)},e)}}),"undefined"==typeof document.head&&(document.head=document.getElementsByTagName("head")[0]),TRC.GoogleAds=function(){return"object"==typeof window.console&&console.log("TRC.GoogleAds is Deprecated"),{draw:function(){}}},TRC.math=TRC.math||function(){function n(e,t,n){return"undefined"==typeof n||0===+n?Math[e](t):(t=+t,n=+n,t!=t||"number"!=typeof n||n%1!==0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+n:n))))}return{roundByDecimal:function(e,t){var n=e/t,s=n.toFixed(0),o=n-s;return s*t+t*Math.round(o)},round10:function(e,t){return n("round",e,t)}}}(window,document),function(e,t){var n=TRC.LightBoxManager=function(e,n,s,o,i){if(this.animationLength=300,this.fps="number"==typeof i?i:TRC.Browser.firefoxUpto(3.5)?20:45,this.listId=s,this.direction="undefined"!=typeof o?o:"ltr",this.origCoords=[0,0],this.cover=null,this.cssResetTopElements={},this.lightbox_container=null,this.whitebox=null,this.whitebox_header=null,this.playerbox=null,this.playerContainer=null,this.animationLoop=null,this.animationEvents=[],this.whiteboxSizeHandler=null,this.position_fixed_works=!1,this.closeButton=null,this.player_width=0,this.player_height=0,this.scalingLock=!1,this.additionalElements={},this.displayTitle=e,this.elementsHaveBeenAdded=!1,n&&"number"==typeof n.clientX?this.origCoords=[n.clientX,n.clientY]:this.origCoords=[this.getScreenWidth()/2,100],TRC.Browser.ie){var a=this.GetZoomFactor();this.origCoords=[Math.round((this.origCoords[0]-t.documentElement.clientLeft)/a),Math.round((this.origCoords[1]-t.documentElement.clientTop)/a)]}return this.createLightbox(),this.lightbox_container.style.cursor="wait",this};n.prototype.GetZoomFactor=function(){if(!t.body.getBoundingClientRect)return 1;var e=t.body.getBoundingClientRect(),n=e.right-e.left,s=t.body.offsetWidth;return Math.round(n/s*100)/100},n.prototype.addElements=function(e){"object"!=typeof e&&(e={bottom:e});for(p in e)this.additionalElements[p]||(this.additionalElements[p]=[]),this.additionalElements[p].push(e[p])},n.prototype.createEmbedIframe=function(n,s,o){var i,r,c,l=TRC.baseDomain+"publisher."+n.trc.version+".js",a={};__trcCopyProps(o,a),delete a.link;try{i=t.createElement("iframe"),i.frameBorder=i.border="0",i.scrolling="no",i.id="_trcLightIframeObj",c=TRC.Browser.ie&&t.domain!=e.location.hostname,c&&(i.src=`javascript:"<script>window.onload=function(){document.write(\\"<script>document.domain='`+t.domain+`';<\\"+\\"/script>\\");document.close();};<\/script>"`),s.appendChild(i),r=i.contentDocument?i.contentDocument:i.contentWindow.document,r.write('<html><head><style>BODY,IFRAME{border:0;margin:0;padding:0;}</style><script type="text/javascript" src="'+l+'" charset="UTF-8"><\/script></head><body><script>'+(t.domain!=e.location.hostname?'document.domain="'+t.domain+'";':"")+"var recomendation = "+__trcJSONify(a)+';var embed_loaded = false;<\/script><div id="embed-code-container"></div><script>var MAX_RETRIES_BEFORE_NOTICE = 100, MAX_NOTIFICATIONS = 2, numRetries = 0, numNotifications = 0;var loadPlayer = function(){if(window.trc_properties && trc_properties.global["syndication-embed-code"]){var parent_iframe = window.parent.document.getElementById("_trcLightIframeObj");var cont = document.getElementById("embed-code-container");if(!window.embed_loaded){var affiliate = (typeof trc_properties.global["syndicator-affiliate-id"] != "undefined")?trc_properties.global["syndicator-affiliate-id"]:null;embed_code = trc_properties.global["syndication-embed-code"];if(typeof embed_code == "function"){embed_code(cont,recomendation,affiliate);window.embed_loaded = true;}}var obj = cont.getElementsByTagName("object")[0] ? cont.getElementsByTagName("object")[0] : (cont.getElementsByTagName("iframe")[0] ? cont.getElementsByTagName("iframe")[0] : cont.getElementsByTagName("video")[0]);if(parent_iframe!=null && obj!=null) {window.clearInterval(window.checkInt);parent_iframe.parentNode.style.width = parent_iframe.style.width =  Math.max(obj.offsetWidth, obj.width)+"px";parent_iframe.parentNode.style.height = parent_iframe.style.height = Math.max(obj.offsetHeight,obj.height)+"px";}else if (numNotifications < MAX_NOTIFICATIONS && numRetries >= MAX_RETRIES_BEFORE_NOTICE && typeof console != "undefined") {console.log("Notice: LightgBoxManager.createEmbedIframe - video object or parent iframe could not be located. Still trying");numNotifications++;numRetries = 0;}numRetries++;}};window.checkInt = window.setInterval(loadPlayer,100);	<\/script></body></html>'),TRC.Timeout.set(function(){try{r.close()}catch{}},TRC.Browser.ie?3e3:0)}catch{return}},n.prototype.renderElements=function(){function e(e,n){var s=t.createElement("div");switch(e){case"left":s.style.cssFloat=s.style.styleFloat="left";break;case"right":s.style.cssFloat=s.style.styleFloat="left"}"bottom"==e?this.playerbox.parentNode.appendChild(s):this.playerbox.parentNode.insertBefore(s,this.playerBox);try{"function"==typeof n?n(s):"function"==typeof n.render&&n.render(s)}catch(e){__trcError("Error in lightbox sub-element rendering",e)}}this.elementsHaveBeenAdded=!0,"top"in this.additionalElements&&this.additionalElements.top.forEach(e.trcBind(this,"top")),"left"in this.additionalElements&&this.additionalElements.left.forEach(e.trcBind(this,"left")),"right"in this.additionalElements&&this.additionalElements.right.forEach(e.trcBind(this,"right")),"bottom"in this.additionalElements&&this.additionalElements.bottom.forEach(e.trcBind(this,"bottom"))},n.prototype.createLightbox=function(){var inner_div,width=this.getScreenWidth();with(this.createCoverIframe(),this.lightbox_container=t.createElement("div"),this.lightbox_container.style.width=width+"px",this.lightbox_container.style.left="0px",this.lightbox_container.style.top="0px",this.lightbox_container.className="trc_lightbox_base trc_lightbox "+this.listId,this.lightbox_container.onclick=this.close.trcBind(this),inner_div=t.createElement("div"),inner_div.style.display="block",inner_div.className="trc_lightbox_overlay",inner_div.style.width=width+"px",inner_div.style.left="0px",inner_div.style.top="0px",this.lightbox_container.appendChild(inner_div),inner_div=t.createElement("div"),inner_div.style.display="block",inner_div.className="trc_lightbox_transparent",inner_div.style.width=width+"px",inner_div.style.left="0px",inner_div.style.top="0px",this.lightbox_container.appendChild(inner_div),TRCImpl.cssReset?this.setCssResetDivs(this.lightbox_container,"topDiv"):t.body.appendChild(this.lightbox_container),this.whitebox=t.createElement("div"),this.whitebox.className="trc_whitebox",this.whitebox.style.visibility="hidden",this.whitebox.onclick=function(t){t||(t=e.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},inner_div.appendChild(this.whitebox),this.playerbox=t.createElement("div"),this.playerbox.style.width="0px",this.playerContainer=t.createElement("div"),this.playerContainer.appendChild(this.playerbox),this.playerContainer.style)width="0px",height="0px",overflow="hidden";with(this.whitebox.appendChild(this.playerContainer),inner_div.style)marginTop="30px",position="fixed";this.position_fixed_works=30===inner_div.offsetTop,this.position_fixed_works||(inner_div.style.position="absolute"),this.lightbox_container.style.height=this.lightbox_container.firstChild.style.height=this.getScreenHeight()+"px"},n.prototype.createCoverIframe=function(){with(this.cover=t.createElement("iframe"),this.cover.style)width=this.getScreenWidth()+"px",height=this.getScreenHeight()+"px",border=0;this.cover.scrolling="no",this.cover.className="trc_cover_iframe",TRCImpl.cssReset?this.setCssResetDivs(this.cover,"iframe"):t.body.appendChild(this.cover)},n.prototype.setCssResetDivs=function(e,n){for(var s,o=e,a=TRC.lightBoxCssReset[n].length,i=a-1;i>=0;i--)s=t.createElement("div"),s.id=TRC.lightBoxCssReset[n][i],s.appendChild(o),o=s;t.body.appendChild(o),this.cssResetTopElements[n]=o},n.prototype.createHeader=function(e,n){var o,i,a,s=t.createElement("div");(s.id="trc_lightbox_header",s.style.display="none","undefined"!=typeof n&&""!=n)&&(o=t.createElement("div"),o.id="branding_div_lightbox",a=t.createElement("img"),a.id="branding_img_lightbox",a.src=n,o.style.styleFloat=o.style.cssFloat="ltr"==this.direction?"right":"left",a.style.display="none",o.appendChild(a),s.appendChild(o)),i=t.createElement("div"),this.displayTitle?i.innerHTML=e:(i.innerHTML="",i.style.height="22px"),s.appendChild(i),s.titlebox=i,this.whitebox_header=s,this.whitebox.insertBefore(s,this.whitebox.firstChild)},n.prototype.setTitle=function(e){this.displayTitle?this.whitebox_header.titlebox.innerHTML=e:this.whitebox_header.titlebox.innerHTML=" "},n.prototype.createLightboxCloseButton=function(){this.closeButton=t.createElement("div"),this.closeButton.className="trc_whiteboxCloseButton",this.closeButton.innerHTML="x",this.closeButton.onclick=this.close.trcBind(this),this.whitebox.insertBefore(this.closeButton,this.whitebox.firstChild)},n.prototype.startAnimate=function(e,t){var n=function(){for(var n=0;n<e.length;n++)if(!e[n].done)return;t()};e.forEach(function(e){e.elm=e[0],e.prop=e[1],e.cur=e[2],e.end=e[3],e.unit=e[4],e.dur=e[5],e.done=!1,e.steps=Math.ceil(this.fps*e.dur/1e3),e.stepSize=(e.end-e.cur)/e.steps,e.step=0,this.animationEvents.push((e.frameHandler=function(){switch(this.cur+=this.stepSize,this.stepSize*(this.cur-this.end)>0&&(this.cur=this.end),this.prop){case"opacity":this.elm[this.prop]=this.cur,this.elm.filter="alpha(opacity="+100*this.cur+")";break;default:this.elm[this.prop]=this.cur+this.unit}return++this.step>this.steps&&(this.done=!0,n(),!0)}).trcBind(e))},this)},n.prototype.animationMainLoop=function(){this.animationEvents.forEach(function(e,t,n){e!=null&&e()&&(n[t]=null)})},n.prototype.getScreenWidth=function(){return t.body.scrollWidth},n.prototype.getScreenHeight=function(){return Math.max(t.body.scrollHeight,t.documentElement.scrollHeight)},n.prototype.getLeftMargin=function(){return(this.getScreenWidth()-this.playerContainer.scrollWidth)/2},n.prototype.getScreenPosition=function(){return Math.max(t.documentElement.scrollTop,t.body.scrollTop)},n.prototype.fixSyndicatorLogo=function(){if(!this.scalingLock&&"none"!=this.whitebox_header.style.display){var branding_img=this.whitebox_header.getElementsByTagName("img");if(branding_img.length>0)with(branding_img[0].style)height=this.whitebox_header.titlebox.scrollHeight+"px",width="auto",display="block";this.whitebox_header.style.width=this.player_width+"px"}},n.prototype.animateOpening=function(){with(this.scalingLock=!0,this.playerContainer.style.visibility="hidden",this.whitebox.style)width="10px",height="10px",marginLeft=this.origCoords[0]-5+"px",marginTop=this.origCoords[1]-5+"px",visibility="visible";var playerW=this.playerContainer.scrollWidth,playerH=this.playerContainer.scrollHeight;this.startAnimate([[this.whitebox.style,"width",10,playerW,"px",this.animationLength],[this.whitebox.style,"height",10,playerH,"px",this.animationLength],[this.whitebox.style,"marginLeft",this.origCoords[0]-5,this.getLeftMargin(),"px",this.animationLength],[this.whitebox.style,"marginTop",this.origCoords[1]-5,30,"px",this.animationLength]],function(){this.createLightboxCloseButton(),this.whitebox_header.style.display="block",this.scalingLock=!1,this.player_width=playerW-.2,this.player_height=playerH-.2,this.playerContainer.style.visibility="visible";var e=document.body.scrollTop;TRC.Browser.webkit&&(document.body.scrollTop+=20),TRC.Timeout.set(function(){document.body.scrollTop=e},1e3)}.trcBind(this))},n.prototype.resizeWhitebox=function(){return this.scalingLock?0[0]:0==this.player_width?void this.animateOpening():0[0]},n.prototype.open=function(){TRC.pageManager.pushState(),this.lightbox_container.style.cursor="auto",this.animationLoop=TRC.Interval.set(this.animationMainLoop.trcBind(this),Math.floor(1e3/this.fps)),this.whiteboxSizeHandler=function(){return this.playerContainer.scrollHeight>0&&this.playerContainer.scrollWidth>0&&"0px"!=this.playerbox.style.width&&(this.lightbox_container.style.height=this.lightbox_container.firstChild.style.height=this.getScreenHeight()+"px",this.position_fixed_works||(this.whitebox.parentNode.style.top=this.getScreenPosition()+30+"px"),this.fixSyndicatorLogo(),this.resizeWhitebox(),!1)}.trcBind(this),this.animationEvents.push(this.whiteboxSizeHandler),this.position_fixed_works||(t.documentElement.addEventListener?t.documentElement.addEventListener("scroll",this.whiteboxSizeHandler,!1):t.documentElement.attachEvent("onscroll",this.whiteboxSizeHandler))},n.prototype.close=function(){this.lightbox_container.onclick=function(){},this.closeButton.onclick=function(){};for(var e in this.additionalElements)this.additionalElements[e].forEach(function(e){"object"==typeof e&&"function"==typeof e.close&&e.close()});TRC.Timeout.set(this.realClose.trcBind(this),500)},n.prototype.realClose=function(){for(var n,s,a=this.getLeftMargin(),o=this.playerContainer.getElementsByTagName("object"),i=0;o&&i<o.length;i++)n=o[i],s=t.body.appendChild(t.createElement("div")),s.style.display="none",n.style.display="none",n.parentNode.removeChild(n),s.appendChild(n),TRC.Timeout.set(function(){n.movie="//dummy",n.parentNode.removeChild(n),s.parentNode.removeChild(s)},250);this.whitebox.removeChild(this.playerContainer),this.whitebox.removeChild(this.whitebox_header),this.position_fixed_works||null==this.whiteboxSizeHandler||(t.documentElement.addEventListener?t.documentElement.addEventListener("scroll",this.whiteboxSizeHandler,!1):t.documentElement.attachEvent("onscroll",this.whiteboxSizeHandler)),this.startAnimate([[this.whitebox.style,"width",this.whitebox.clientWidth,0,"px",this.animationLength],[this.whitebox.style,"height",this.whitebox.clientHeight,0,"px",this.animationLength],[this.whitebox.style,"marginLeft",a,this.getScreenWidth()/2,"px",this.animationLength],[this.whitebox.style,"marginTop",30,this.whitebox.clientHeight/2,"px",this.animationLength],[this.whitebox.style,"opacity",1,0,"",this.animationLength]],function(){t.body.removeChild(TRCImpl.cssReset?this.cssResetTopElements.topDiv:this.lightbox_container),t.body.removeChild(TRCImpl.cssReset?this.cssResetTopElements.iframe:this.cover),TRC.Interval.clear(this.animationLoop),this.animationLoop=null,TRC.pageManager.popState()}.trcBind(this)),"function"==typeof e.trc_lightboxClose&&e.trc_lightboxClose()}}(window,document),function(){var i={source:"|v|h|c|t|s|p|video|home|category|text|search|photo|",target:"|v|p|t|m|video|photo|text|mix|"},s="v",o=function(e,t){return e=e.toLowerCase(),-1!==i[t].indexOf("|"+e+"|")?e.substr(0,1):(__trcError('illegal parameter "'+e+'" was passed to trc_ListOriginBuilder method: "set'+t.substr(0,1).toUpperCase()+t.substr(1)+`" 
Using "video" instead`),"v")},n=TRC.ListOriginBuilder=function(e,t){this.setSource(e||s),this.setTarget(t||"v")};n.prototype.setSource=function(e){s=o(e,"source")},n.prototype.getSource=function(){return s},n.prototype.setTarget=function(e){this.target=o(e,"target")},n.prototype.getTarget=function(){return this.target},n.prototype.toString=function(){return(s+"2"+this.target).replace(/v2v/,"blended")}}(window,document),TRC.net=function(e,t){var n={},s=[],o={loadScript:function(e,n,s,o,i){var r=t.getElementsByTagName("script")[0],a=null;if("js"==n)a=t.createElement("script"),a.type="text/javascript",a.src=e,a.charset="UTF-8",o?a.setAttribute("defer","defer"):i&&a.setAttribute("async","async");else{if("css"!=n)throw new Error("External reference loaded must be of type 'js' or 'css'!");a=t.createElement("link"),a.rel="stylesheet",a.type="text/css",a.href=e}return"function"==typeof s&&(a.addEventListener?(a.addEventListener("load",s,!1),a.addEventListener("error",s,!1)):a.onreadystatechange=function(){("loaded"==a.readyState||"complete"==a.readyState)&&s.apply(a)}),r.parentNode.insertBefore(a,r),a},checkLoadJsCssFile:function(e,t,s){var o=e.replace(new RegExp("^.*/([^/]+)$"),"$1");try{return"undefined"==typeof n[o]?(n[o]=TRC.net.loadScript(e,t,s),"css"==t&&(n.css=1)):"function"==typeof s&&TRC.Timeout.set(function(){s.apply(n[o])},0),n[o]}catch(t){__trcError("Error trying to load "+e,t)}},fireSimpleHttpRequest:function(e){var t=new Image;t.src=e,s.push(t)}};return o}(window,document),function(e){function o(t){if(e.DOMParser){var n=new DOMParser;return n.parseFromString(t,"text/xml")}if(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async=!1,xmlDoc.validateOnParse=!1,!xmlDoc.loadXML(t))throw"XMLParsing failed";return xmlDoc}function i(){function r(){var t,s,n=new Array;for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[n.length]=escape(t)+"="+escape(e[t]));s=new Date((new Date).getTime()+31536e6),document.cookie=i+"="+escape(n.join("|"))+";path=/;expires="+s.toUTCString()}for(var t,n,o,i="trc_cookie_storage",e=new Object,a=document.cookie.split(/;\s+/),s=0;s<a.length;s++){var t=TRC.text.lsplit(a[s],"=",2),c=unescape(t[0]),l=unescape(t[1]);if(c==i){for(o=l.split("|"),n=0;n<o.length;n++)t=o[n].split("="),e[unescape(t[0])]=unescape(t[1]);break}}return this.getValue=function(t){return e.hasOwnProperty(t)?e[t]:null},this.setValue=function(t,n){e[t]=n,r()},this.removeKey=function(t){var n=new Date((new Date).getTime()-31536e6);document.cookie=t+"=0;path=/;expires="+n.toUTCString(),delete e[t]},this}function a(){var e={};return this.getValue=function(t){return e[t]?e[t]:null},this.setValue=function(t,n){e[t]=n},this.removeKey=function(t){delete e[t]},this}function r(){return this.getValue=function(t){return e.localStorage.getItem(t)},this.setValue=function(t,n){try{e.localStorage.setItem(t,n)}catch{}},this.removeKey=function(t){try{e.localStorage.removeItem(t)}catch{}},this}e.TRC=e.TRC||{},getStorage=function(t){var n=e[t+"Storage"],o=(new Date).getTime()+"",s="_taboolaStorageDetection";try{if(n.setItem(s,o),n.getItem(s)==o)return n.removeItem(s),n}catch{}return null};var s,n=function(){return this.publisher_id=null,this.item_id=null,this.page_id=null,this.state={},this.stateStack=[],this.getLocalStorageImplementation=function(){if(null!=this.state.privateStorageImpl)return this.state.privateStorageImpl;var t=e.TRCImpl?e.TRCImpl.global:{},n=t["local-storage-usage"]?t["local-storage-usage"]:"prefer-w3c-storage";switch(n){case"prefer-w3c-storage":try{if(e.localStorage instanceof Storage&&TRC.useStorageDetection&&getStorage("local"))return this.state.privateStorageImpl=new r}catch{}case"prefer-cookies":try{if(document.cookie="trc;0",-1===document.cookie.indexOf("trc;0"))return this.state.privateStorageImpl=new i}catch{}default:return this.state.privateStorageImpl=new a}},this.trcParseParams=function(e){if(e&&!owner.item_id)for(var t,s=e.split("&"),n=0;n<s.length;n++)switch(t=TRC.text.lsplit(s[n],"=",2),unescape(t[0])){case"item_id":owner.item_id=unescape(t[1]);break;case"publisher_id":owner.publisher_id=unescape(t[1])}},this.trcGetPublisherParams=function(){for(var t,s,n=document.getElementsByTagName("script"),e=0;e<n.length;e++)t=n[e].src.split("taboola(syndication)?.com/libtrc/")[1],t&&n[e].src.search(/taboola(syndication)?.com.*page_management/)>=0&&(t=t.split("?")[0],s=t.split("/"),owner.page_id=s[0],s.length>2&&(owner.page_id+="/"+s[1]),owner.trcParseParams(n[e].src.split("?")[1]))},this.getPageData=function(){return e.taboola_view_id||(e.taboola_view_id=(new Date).getTime()),e.taboola_view_id},this.storeValue=function(e,t){this.storePublisherValue("taboola global",e,t)},this.removeKey=function(e){this.removePublisherKey("taboola global",e)},this.getValue=function(e){return this.getPublisherValue("taboola global",e)},this.storePublisherValue=function(e,t,n){n!=null&&this.getLocalStorageImplementation().setValue(e+":"+t,n)},this.getPublisherValue=function(e,t){return this.getLocalStorageImplementation().getValue(e+":"+t)},this.removePublisherKey=function(e,t){return this.getLocalStorageImplementation().removeKey(e+":"+t)},this.sortByLength=function(e,t){return e.domain.lenth-t.domain.length},this.setDomainConfiguration=function(e){try{if(n=o(e),"domains"!=n.documentElement.tagName||n.getElementsByTagName("domain").length<1)throw"Invalid configuration document: "+e;i=n.getElementsByTagName("domain"),this.state.m_publisherDomains={host:[],path:[],query:[]};for(s=0;s<i.length;s++){var n,s,i,t=i[s],a=this.state.m_publisherDomains[t.getAttribute("type")];if(!(a instanceof Array))throw"Invalid domain type in configuration: "+t.getAttribute("type");a.push({domain:t.text?t.text:t.textContent,keep:!!t.getAttribute("keep"),staging:!!t.getAttribute("staging")})}}catch{this.state.m_publisherDomains={}}},this.matchOn=function(e,t,n){if(!e||e.length<1)return[];if(e.matching)return e.matching.slice(0);e.matching=[];for(var s=0;s<e.length;s++)t(n,e[s].domain)&&e.matching.push(e[s]);return e.matching.slice(0)},this.getMatchingHosts=function(){return this.matchOn(this.state.m_publisherDomains.host,function(e,t){return e.slice(e.length-t.split(".").length).join(".")==t},e.location.host.split("."))},this.getMatchingPaths=function(){return this.matchOn(this.state.m_publisherDomains.path,function(e,t){return e.slice(0,t.split("/").length).join("/")==t},e.location.pathname.split("/"))},this.getMatchingQuery=function(){return this.matchOn(this.state.m_publisherDomains.query,function(e,t){for(s=t.split("&"),n=0;n<s.length;n++){for(var n,s,a,r=s[n].split("="),o=!1,i=0;i<e.length;i++)a=e[i].split("="),o=o||unescape(r[0])==unescape(a[0])&&unescape(r[1])==unescape(a[1]);if(!o)return!1}return!0},e.location.search.replace(/^\?/,"").split("&"))},this.isEmbeddedView=function(){return this.state.m_publisherDomains.host&&this.state.m_publisherDomains.host.length&&this.getMatchingHosts().length<=0&&e.location.host.search(/taboola\w*.com$/)<0},this.isStagingView=function(){return!this.isEmbeddedView()&&function(){for(var e=0;e<arguments.length;e++)if(function(e){for(;e.length>0;)if(e.shift().staging)return!0}(arguments[e]))return!0;return!1}(this.getMatchingHosts(),this.getMatchingPaths(),this.getMatchingQuery())},this.fixRecommendationURL=function(t){function u(e,t){for(var s,o=e.substring(1).split("/").reverse(),i=t.substring(1).split("/"),a="",n=0;n<i.length&&n<o.length;n++)for(s=0;s<o.length;s++){if(0>n-s){a="/"+i.slice(0,n+1).join("/");break}if(o[s]!=i[n-s])break}return t.substring(a.length)}function h(e){for(var n={},t=0;t<e.length;t++)kv=TRC.text.lsplit(e[t],"=",2),n[kv[0]]=kv[1];return n}try{o=new TRC.URL(t)}catch{return t}if(r=this.getMatchingHosts().sort(this.sortByLength),r.length<1)return t;for(;r.length>0&&!r[0].keep;)r.shift();r.length>0&&(o.host=e.location.host);for(i=this.getMatchingPaths().sort(this.sortByLength);i.length>0&&!i[0].keep;)i.shift();i.length>0&&(o.pathname=i[0].domain+u(i[0].domain,o.pathname));var n,o,i,a,r,c,l,d=this.getMatchingQuery(),s=o.search.replace(/^\?/,"").split("&");""==s[0]&&s.shift();for(n=0;n<d.length;n++){for(c=h(d[n].domain.split("&")),n=0;n<s.length;n++)a=TRC.text.lsplit(s[n],"=",2).shift(),l=c[a],"undefined"!=typeof l&&(s[n]=a+"="+l,delete c[a]);for(a in c)s.push(a+"="+c[a])}return o.search=s.length>0?"?"+s.join("&"):"",o.toString()},this.additionalDispatchParams=function(){return null==this.state.moreDispatchParams&&(this.state.moreDispatchParams=this.getCurrentURL().filtered),0==this.state.moreDispatchParams.length?"":"&"+this.state.moreDispatchParams.join("&")},this.getCurrentURL=function(){var s,t=new TRC.URL(e.location.href),n=[],o=[];return t.search.replace(/^\?/,"").split(/&/).forEach(function(e){e&&(0==e.search("trc_")||"taboola-debug"==e?o.push(e):n.push(e))}),t.search=n.length>0?"?"+n.join("&"):"",s=new String(t.toString()),s.filtered=o,s},this.initState=function(){"undefined"==typeof this.state&&(this.state={}),this.state.privateStorageImpl=null,this.state.m_publisherDomains={host:[],path:[],query:[]},this.state.moreDispatchParams=null},this.pushState=function(){this.stateStack.push(this.state),delete this.state,this.initState()},this.popState=function(){this.stateStack.length>0&&(this.state=this.stateStack.pop())},this.initState(),this};n.getPageData=function(){return s.getPageData()},n.storeValue=function(e,t){return s.storeValue(e,t)},n.storePublisherValue=function(e,t,n){return s.storePublisherValue(e,t,n)},n.getValue=function(e){return s.getValue(e)},n.getPublisherValue=function(e,t){return s.getPublisherValue(e,t)},n.setDomainConfiguration=function(e){return s.setDomainConfiguration(e)},n.isEmbeddedView=function(){return s.isEmbeddedView()},n.isStagingView=function(){return s.isStagingView()},n.fixRecommendationURL=function(e){return s.fixRecommendationURL(e)},n.additionalDispatchParams=function(){return s.additionalDispatchParams()},n.getCurrentURL=function(){return s.getCurrentURL()},n.pushState=function(){return s.pushState()},n.popState=function(){return s.popState()},TRC.pageManager=s=TRC.pageManager||new n,e.PageManager=e.PageManager||n}(window,document),function(e){var n;TRC.bcFlashPlayerBootstrap=function(){if("object"==typeof e.brightcove&&e.TRCImpl&&TRCImpl.modes)for(s in e.brightcove.instances)try{var s,o=e.brightcove.getExperience(s);if(!o.getModule(APIModules.EXPERIENCE).getReady()){"undefined"==typeof n&&(n="onTemplateLoaded",TRC.regsiterForTemplateLoaded(n));continue}if(brightcove.getExperience(s).getModule(APIModules.VIDEO_PLAYER))return void TRC.my_onTemplateLoaded(s)}catch{}TRC.Timeout.set(arguments.callee,500)},TRC.bcFlashPlayerExpHandler=function(t){function n(){if(!e.TRCImpl){var s,o=arguments;return void TRC.Timeout.set(function(){n.apply(e,o)},100)}s=modVP.getCurrentVideo(),s&&TRCImpl.playVideo({id:1==TRCImpl["brightcove-uses-reference"]?s.referenceId:s.id})}if(!(t in e.brightcove.instances))return!1;var s=e.brightcove.getExperience(t);return"object"==typeof s&&(modVP=s.getModule(APIModules.VIDEO_PLAYER),TRCImpl.getProperty(null,"read-paused-bcplayer")&&s.getModule(APIModules.EXPERIENCE).addEventListener(BCExperienceEvent.CONTENT_LOAD,n),modVP.addEventListener(BCVideoEvent.VIDEO_START,n),modVP.addEventListener(BCMediaEvent.COMPLETE,function(){TRC.dispatch("videoDone",{videoid:e.trc_video_id})}),(modVP.isPlaying()||TRCImpl.getProperty(null,"read-paused-bcplayer"))&&n(null),!0)}}(window,document),function(e){TRC.modVP=null;var i=!1,n=!1,c=100,o=0,l=100,s=!1,a=!1,r=!1;TRC.brightcove_support=function(){if(!n&&!i){if("undefined"!=typeof brightcove){if(r||(s=TRC.isBCSmartPlayer(),r=!0),s&&brightcove.api&&brightcove.api.modules.APIModules)a=!0;else if(s){if(c>o)return void TRC.Timeout.set(TRC.brightcove_support,l)}else if("undefined"==typeof APIModules)return void TRC.net.loadScript("//admin.brightcove.com/js/APIModules_all.js","js",function(){TRC.brightcove_support()})}else if(c>o)return void TRC.Timeout.set(TRC.brightcove_support,l);n||(s?TRC.bcSmartPlayerBootstrap():TRC.bcFlashPlayerBootstrap(),i=!0,o++)}},TRC.my_onTemplateLoaded=function(t){return n?0[0]:e.TRCImpl?void(n=a?TRC.bcSmartPlayerExpHandler(t):TRC.bcFlashPlayerExpHandler(t)):void TRC.Timeout.set(arguments.callee.trcBind(null,t),100)},TRC.brightcove_playVideo=function(e){var t=e.search(/video/)>=0?e.split("video")[1]:e;return modVP!=null&&(modVP.loadVideo(t,TRCImpl["brightcove-uses-reference"]?"referenceId":"id"),scroll(0,0),!0)},TRC.regsiterForTemplateLoaded=function(t){var n=null;"function"==typeof e[t]&&(n=e[t]),e[t]=function(e){TRC.my_onTemplateLoaded(e),n!=null&&n(e)}},TRC.brightcoveMedia={reset:function(){TRC.modVP=null,i=!1,n=!1,o=0,s=!1,a=!1,r=!1}}}(window,document),function(e){var n,s=!1;TRC.bcSmartPlayerBootstrap=function(){if(!s){if("object"==typeof e.brightcove&&e.TRCImpl&&TRCImpl.modes)for(t in e.brightcove.experienceObjects)try{var t,o=e.brightcove.api.getExperience(t);if(o)o.getModule(e.brightcove.api.modules.APIModules.EXPERIENCE).getReady(function(i){i&&o.getModule(e.brightcove.api.modules.APIModules.VIDEO_PLAYER)?(s=i,TRC.my_onTemplateLoaded(t)):"undefined"==typeof n&&(n=e.brightcove.experienceObjects[t].params.templateLoadHandler,TRC.regsiterForTemplateLoaded(n))});else if(TRC.bcFlashPlayerExpHandler(t))return}catch{}TRC.Timeout.set(TRC.bcSmartPlayerBootstrap,500)}},TRC.bcSmartPlayerExpHandler=function(t){var n,i=e.brightcove.api,a=i.modules.APIModules,s=i.events,r=function(e){e&&TRCImpl.playVideo({id:1==TRCImpl["brightcove-uses-reference"]?e.referenceId:e.id})},o=function(){if(!e.TRCImpl){var n=arguments;return void TRC.Timeout.set(function(){o.apply(e,n)},100)}modVP.getCurrentVideo(r)};return t in e.brightcove.experienceObjects&&(n=i.getExperience(t),"object"==typeof n&&(modVP=n.getModule(a.VIDEO_PLAYER),TRCImpl.getProperty(null,"read-paused-bcplayer")&&n.getModule(a.EXPERIENCE).addEventListener(s.ExperienceEvent.TEMPLATE_READY,function(){n.getModule(a.EXPERIENCE).removeEventListener(s.ExperienceEvent.TEMPLATE_READY,arguments.callee),modVP.getCurrentVideo(r)}),modVP.addEventListener(s.MediaEvent.BEGIN,o),modVP.addEventListener(s.MediaEvent.COMPLETE,function(){TRC.dispatch("videoDone",{videoid:e.trc_video_id})}),TRCImpl.getProperty(null,"read-paused-bcplayer")?o(null):modVP.getIsPlaying(function(e){e&&o(null)}),!0))},TRC.isBCSmartPlayer=function(){if(brightcove&&brightcove.api&&brightcove.api.modules.APIModules)return!0;for(var e,t,n,o,i=document.getElementsByClassName("BrightcoveExperience"),s=0;s<i.length;s++){if(t=i[s],t.data&&-1!=t.data.toLowerCase().indexOf("includeapi=true"))return!0;for(o=t.getElementsByTagName("param"),n=0;n<o.length;n++)if(e=o[n],e.name&&e.value&&"includeapi"==e.name.toLowerCase()&&"true"==e.value.toLowerCase())return!0}return!1}}(window,document),function(e,t){function o(e,t,n){return"object"!=typeof n&&(n={data:n}),n.player_id=e,TRC.dispatch("kaltura_"+t,n),n}function i(t,n,s){var i,a,r,c="playerPaused playerUpdateNewAsset playerProgress hasOpenedFullScreen hasCloseFullScreen captureThumbnailSuccess captureThumbnailFailed endEntrySession".split(" ");if(e.trc_video_id){trc_video_id=null;try{delete e.trc_video_id}catch{}}a=s+t+"playerPlayed",e[a]=function(e){r=!0,e=o(t,"playerPlayed",e);var s=__trcCopyProps(e,{});s.id=n.evaluate("{entry.id}")||n.evaluate("{mediaProxy.entry.id}"),TRCImpl.playVideo(s)},n.addJsListener("playerPlayed",a),i=s+t+"playerPlayEnd",e[i]=function(e){e=o(t,"playerPlayEnd",e),e.videoid=trc_video_id,TRC.dispatch("videoDone",e)},n.addJsListener("playerPlayEnd",i),i=s+t+"playerUpdatePlayhead",e[i]=function(n){r||e[a](n),o(t,"playerUpdatePlayhead",n)},n.addJsListener("playerPlayEnd",i),c.forEach(function(i){var c=s+t+i;e[c]=o.trcBind(this,t,i),n.addJsListener(i,c)})}var a,r="onKalturaPlayerReady",c=500,n=0,l=function(){return Math.floor(2147483648*Math.random()).toString(36)},s=function(e){return e=e.replace(/\s|\r|\n/g,""),e.substr(0,15)+e.length+e.substr(e.length-15)};TRC.kaltura_support=function(){var o,d,u,h,m,f,p,g,v;if(!TRC.kaltura_API&&!a){if(m="undefined"!=typeof TRCImpl.global["player-global-reference"]?TRCImpl.global["player-global-reference"]:TRCImpl.video_player_reference,f="trc_cb_"+l()+"handleKalturaEvent",m){if(d=e[m],d&&"string"==typeof d&&(d=t.getElementById(d)),!d||!d.addJsListener)return n+=1,void(c>n?setTimeout(TRC.kaltura_support.trcBind(TRC),20):__trcError("TRC.kaltura_support: can not find a player. reference: '"+m+"', retry: "+n+" times."));TRC.kaltura_API=d,i(d.id,TRC.kaltura_API,f)}else window.KWidget?KWidget.addReadyCallback(function(e){TRC.kaltura_API||(TRC.kaltura_API=t.getElementById(e),i(e,TRC.kaltura_API,f))}):!function(t){playerCallbackRescan=TRCImpl.global["player-callback-rescan"],u=TRCImpl.video_player_callback||r,o=e[u],p=o?s(o.toString()):null,v=s(t.toString()),e[u]=t,!o&&playerCallbackRescan&&(h=setTimeout(function(){var i=e[u];n+=1,i&&s(i.toString())!==v?(o=i,p=s(i.toString()),e[u]=t):100>n&&(h=setTimeout(arguments.callee.trcBind(this,t),20))},20))}(function(e){if(!g){if(h&&(clearTimeout(h),h=null),g=!0,o&&s(o.toString())==p){try{o(e)}catch{}o=null}g=!1,TRC.kaltura_API||(TRC.kaltura_API=t.getElementById(e),i(e,TRC.kaltura_API,f))}});a=!0}},TRC.kaltura_playVideo=function(e){return!!TRC.kaltura_API&&(TRC.kaltura_API.insertMedia?TRC.kaltura_API.insertMedia("-1",e,"true"):TRC.kaltura_API.sendNotification&&TRC.kaltura_API.sendNotification("changeMedia",{entryId:e}),scroll(0,0),!0)}}(window,document),function(e){var n=TRC.ooyala_API=null;TRC.ooyala_support=function(){if(!TRC.ooyala_API){if(t=function(e){for(var n,t=0;t<e.length;t++)if(e[t].src&&(n=e[t].src.match(new RegExp("ooyala\\.com/player\\.js.*callback=([^&]+)")),n&&n.length>1))return n[1];return!1}(document.getElementsByTagName("script")),0==t&&e.OOYALA_PLAYER_JS&&(t=e.OOYALA_PLAYER_JS.customerCallbackName),0==t)return void __trcWarn("Ooyala link_target set, but no Ooyala player with JS API found!");if(o=null,TRC.ooyala_API=n=function(){if(o!=null)return o;var e=document.getElementsByClassName("OoyalaVideoPlayer");return e!=null&&e.length>0?o=e[0]:0[0]},e.trc_video_id){trc_video_id=null;try{delete e.trc_video_id}catch{}}for(var o,i,r,c=!1,l=function(e,t,n){"object"!=typeof n&&(n={data:n}),n.player_id=e,c||(c=!0),TRC.dispatch("ooyala_"+t,n)},a=t.split("."),t=a.pop(),s=e;a.length&&s;)i=a.shift(),s="object"!=typeof s[i]?s[i]={}:s[i];r="function"==typeof s[t]?s[t]:null,s[t]=function(){try{l.apply(e,arguments)}catch{}r!=null&&r.apply(e,arguments)},s[t].trc=!0,TRC.listen(["ooyala_startContentDownload","ooyala_stateChanged"],function(e){if(null!=n()&&("ooyala_stateChanged"!=e.type||"playing"==e.state)){var t=__trcCopyProps(e,{});t.id=n().getCurrentItem().embedCode,TRCImpl.playVideo(t)}}),TRC.listen(["ooyala_currentItemEmbedCodeChanged","ooyala_embedCodeChanged"],function(t){if(e.trc_video_id){var n=__trcCopyProps(t,{});n.id=t.embedCode,TRCImpl.playVideo(n)}}),TRC.listen("ooyala_playComplete",function(e){TRC.dispatch("videoDone",{videoid:trc_video_id,player_id:e.player_id})})}},TRC.ooyala_playVideo=function(e){return!!n&&(n().setQueryStringParameters({embedCode:e,autoplay:1}),scroll(0,0),!0)}}(window,document),function(){var n=TRC.PostRenderQueue=function(){return this.backend=[],this};n.prototype.pushBack=function(e,t){__trcDebug("postRenderQueue.pushBack("+e+")"),this.backend.push({name:e,func:t})},n.prototype.pushFront=function(e,t){__trcDebug("postRenderQueue.pushFront("+e+")"),this.backend.unshift({name:e,func:t})},n.prototype.popFront=function(){if(0==this.backend.length)return null;var e=this.backend.shift();return"function"==typeof e?{name:"unknown",func:e}:e}}(window,document),!function(e,t){function u(e,t,n){n=n||"en";var s={caption:e&&e.caption||t&&t.caption||o[n]&&decodeURIComponent(o[n])||"Read More",boxSelector:e&&e.boxSelector||t&&t.boxSelector||null,threshold:e&&e.threshold||t&&t.threshold||800,backgroundColor:e&&e.backgroundColor||t&&t.backgroundColor||"#fff",minimizedSize:e&&e.minimizedSize||t&&t.minimizedSize||800,scrollSize:e&&e.scrollSize||t&&t.scrollSize||800,buttonTop:e&&e.buttonTop||t&&t.buttonTop||48,buttonBottom:e&&e.buttonBottom||t&&t.buttonBottom||28,divTop:e&&e.divTop||t&&t.divTop||38,gradient:e&&e.gradient||t&&t.gradient||40};return s}function f(e){var t=e.backgroundColor;return"."+n+" {max-height:inherit}."+n+".tbl-forkorts-article-active  {max-height:"+e.minimizedSize+"px;overflow: hidden;position: relative;}.tbl-read-more-btn {display: inline-block!important;margin: "+e.buttonTop+"px 0 "+e.buttonBottom+"px !important;line-height: 38px!important;text-align: center!important;white-space: nowrap!important;vertical-align: middle!important;-ms-touch-action: manipulation;touch-action: manipulation;cursor: pointer!important;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;background-image: none!important;border: 1px solid #93abbc!important;color: #326891!important;background-color: #edf2f5!important;border-color: #2e6da4;height: 38px!important;width: 250px!important;font-size: 15px!important;font-weight: bold!important;border-radius: 3px!important;font-family: sans-serif!important;}.tbl-read-more-btn:hover {background-color: #bed0dc!important;border-color: #7399b3!important;color: #326891!important;}.tbl-read-more-box {position: absolute;z-index: 4;left: 0;right:0;bottom: 0;display: none;text-align: center;padding: "+e.divTop+"px 12px 12px;background: -moz-linear-gradient(top,  rgba(255,255,255,0) 0%,  "+t+"  "+e.gradient+"%,  "+t+"  100%);background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,0)), color-stop(50%, "+t+" ), color-stop(100%, "+t+" ));background: -webkit-linear-gradient(top,  rgba(255,255,255,0) 0%, "+t+"  "+e.gradient+"%, "+t+"  100%);background: -o-linear-gradient(top,  rgba(255,255,255,0) 0%, "+t+"  "+e.gradient+"%, "+t+"  100%);background: -ms-linear-gradient(top,  rgba(255,255,255,0) 0%, "+t+"  "+e.gradient+"%, "+t+"  100%);background: linear-gradient(to bottom,  rgba(255,255,255,0) 0%, "+t+"  "+e.gradient+"%, "+t+"  100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='"+t+"',GradientType=0 );}."+n+"-active .tbl-read-more-box{display:block;}"}function m(){return e.pageYOffset||t.documentElement.scrollTop||t.body.scrollTop}function a(e){var s=t.querySelector("."+n);e.preventDefault(),e.stopPropagation(),s.classList.remove(n+"-active"),this.sendEvent("readmore",{},null,!0)}function r(e,n){var s=t.createElement("div");return s.className="tbl-read-more-box",s.innerHTML="<a id ='"+i+"_"+n+"' class='tbl-read-more-btn' href='#'>"+e.caption+"</a>",s}function s(t,n){var s=e.trc_debug_level;e.trc_debug_level=3,__trcDebug("Read More : "+t+" - "+n),e.trc_debug_level=s}function c(n,s){var o=n.context||s.context;"parent"===o&&(e=e.parent,t=e.parent.document),"top"===o&&(e=e.top,t=e.top.document)}function l(e,n){var o=n||"kortWidgetCssStyle",s=t.querySelector("#"+o);s&&s.parentNode.removeChild(s),s=t.createElement("div"),s.id=o,s.innerHTML=["&shy;","<style>",e,"</style>"].join(""),t.documentElement.appendChild(s)}function d(o){try{var d,p=u(o.readMorePageConfig,o.readMoreConfig,o.trc.language),g=o.isReadMoreDebug;c(o.readMorePageConfig,o.readMoreConfig),e.matchMedia&&p.boxSelector?(d=t.querySelector(p.boxSelector),d?t.querySelector("."+n)!==d?d.offsetHeight>=p.threshold&&m()<p.scrollSize?(l(f(p)),d.className+=h,d.appendChild(r(p,o.id)),t.querySelector("#"+i+"_"+o.id).addEventListener("click",a.trcBind(o),!1)):g&&s("dimensions exception",o.mode_name):g&&s("box content already in use",o.mode_name):g&&s("box content not detected",o.mode_name)):g&&s("no box selector defined",o.mode_name)}catch(e){__trcError("Error read more init",e)}}var n="tbl-forkorts-article",h=" "+n+" "+n+"-active",i="tbl-read-more-box-btn",o={de:"Weiterlesen",el:"%CE%94%CE%B9%CE%B1%CE%B2%CE%AC%CF%83%CF%84%CE%B5%20%CE%A0%CE%B5%CF%81%CE%B9%CF%83%CF%83%CF%8C%CF%84%CE%B5%CF%81%CE%B1",en:"Read%20More",es:"Leer%20M%C3%A1s",fr:"Lire%20La%20Suite",he:"%D7%A7%D7%A8%D7%90%20%D7%A2%D7%95%D7%93",hi:"%E0%A4%94%E0%A4%B0%20%E0%A4%AA%E0%A4%A2%E0%A4%BC%E0%A5%87%E0%A4%82",it:"Per%20saperne%20di%20pi%C3%B9",jp:"%E7%B6%9A%E3%81%8D%E3%82%92%E8%AA%AD%E3%82%80",ko:"%EC%9E%90%EC%84%B8%ED%9E%88%EB%B3%B4%EA%B8%B0",nl:"Lees%20Meer",pt:"Leia%20Mais",ru:"%D1%87%D0%B8%D1%82%D0%B0%D1%82%D1%8C%20%D0%B4%D0%B0%D0%BB%D0%B5%D0%B5",ta:"%E0%AE%AE%E0%AF%87%E0%AE%B2%E0%AF%81%E0%AE%AE%E0%AF%8D%20%E0%AE%AA%E0%AE%9F%E0%AE%BF%E0%AE%95%E0%AF%8D%E0%AE%95",th:"%E0%B8%AD%E0%B9%88%E0%B8%B2%E0%B8%99%E0%B9%80%E0%B8%9E%E0%B8%B4%E0%B9%88%E0%B8%A1%E0%B9%80%E0%B8%95%E0%B8%B4%E0%B8%A1"};TRC.setReadMore=d}(window,document),function(e,t){var i="trc_slider",d=i+"_animate",s="vertical",a="horizontal",r="top",c="bottom",u="left",l="right",o=44,n=TRC.SliderManager=function(n){var h,m=t.createElement("div"),f=TRC.dom.createAugmentingContainers(3,m),p=TRC.dom.generateAugmentationPrefix(f);switch(this.rbox=n,this.sliderContainer=m,this.accumulatedScroll=0,this.scrollRefElement=n.trc.getFunction(n.mode_name,"slider-scroll-ref-element"),this.slideFrom=n.trc.getProperty(n.mode_name,"slider-slide-from"),this.minEffectiveScrollSize=n.trc.getProperty(n.mode_name,"slider-min-effective-scroll-size"),this.transitionDuration=n.trc.getProperty(n.mode_name,"slider-transition-duration"),this.transitionDelay=n.trc.getProperty(n.mode_name,"slider-transition-delay"),this.backgroundColor=n.trc.getProperty(n.mode_name,"slider-background-color"),this.closeBtnFontSize=n.trc.getProperty(n.mode_name,"slider-close-btn-font-size"),this.closeBtnSize=n.trc.getProperty(n.mode_name,"slider-close-btn-size"),this.closeBtnColor=n.trc.getProperty(n.mode_name,"slider-close-btn-color"),this.sliderZIndex=parseInt(n.trc.getProperty(n.mode_name,"slider-z-index"),10),this.lastScrollTop=this.getScrollTop(),this.closeBtnNeedsTouchPadding=TRC.Device.isTouchDevice&&parseInt(this.closeBtnSize,10)<o,this.slideFrom){case r:case c:this.slideDirection=s;break;case u:case l:this.slideDirection=a}TRC.dom.injectStyle(this.createCSS(p)),TRC.dom.addClass(this.sliderContainer,i),this.createCloseBtn(),this.sliderContainer.appendChild(this.closeBtn),this.closeBtnNeedsTouchPadding?(this.sliderContainer.appendChild(this.closeBtnTouchPadding),h=this.closeBtnTouchPadding):h=this.closeBtn,this.sliderContainer.appendChild(n.outermostContainer),t.body.appendChild(f[0]),TRC.eventDelegator.subscribe("onrender",function(){this.slideOut(),TRC.dom.on(this.scrollRefElement,"scroll",this.sliderScrollHandler.trcBind(this).trcThrottle(10)),(/(iPad|iPhone|iPod touch);.*CPU.*OS (4|5|6|7)_\d/.test(navigator.userAgent)||/CriOS/.test(navigator.userAgent))&&(TRC.dom.on(e,"touchstart",this.sliderScrollHandler.trcBind(this)),TRC.dom.on(e,"touchend",this.sliderScrollHandler.trcBind(this)),TRC.dom.on(e,"touchmove",this.sliderScrollHandler.trcBind(this))),setTimeout(function(){TRC.dom.addClass(this.sliderContainer,d)}.trcBind(this),0)}.trcBind(this),n.container.id),TRC.dom.on(h,"click",this.closeClickHandler.trcBind(this))};n.prototype.sliderScrollHandler=function(){var n,i,s=this.getScrollTop(),a="up",o="down",r=t.body.scrollHeight-(e.innerHeight||t.documentElement.clientHeight),c=function(){var t=10;return TRC.Device.isTouchDevice&&Math.abs(Math.round(this.sliderContainer.clientWidth)-Math.round(e.innerWidth))>t};return c.trcBind(this)()?(this.slideOut(),!0):(s>this.lastScrollTop?n=o:s<this.lastScrollTop&&(n=a),0[0])},n.prototype.getScrollTop=function(){return this.scrollRefElement===e?TRC.dom.getPageVerticalScroll()||document.documentElement.scrollTop:this.scrollRefElement.scrollTop},n.prototype.closeClickHandler=function(){TRC.dom.addClass(this.sliderContainer,"trc_user_closed"),this.rbox.sendEvent("close",{},null,!0)},n.prototype.createCSS=function(e){var t=[],n=TRC.css.utils.generateCssRuleWithVendorPrefixes,i=this.slideDirection==s?"translateY":"translateX",a=-1!=[c,l].indexOf(this.slideFrom)?"100%":"-100%";return t.push(e+".trc_slider {position: fixed; z-index: "+this.sliderZIndex+";}"),t.push(e+".trc_slider .trc_related_container {padding: 5px 5px 0; }"),t.push(e+".trc_slider.trc_user_closed {display: none;}"),t.push(e+".trc_slider_close_btn { font-family: Arial, helvetica, sans-serif; float: right; font-size: "+this.closeBtnFontSize+"; font-weight: bold; height: "+this.closeBtnSize+"; width: "+this.closeBtnSize+"; line-height: "+this.closeBtnSize+"; vertical-align: baseline; text-align: center; color: "+this.closeBtnColor+"; background-color: "+this.backgroundColor+"; }"),this.slideFrom==r&&t.push(e+".trc_slider_close_btn {position: absolute; right: 0; top: 0; z-index: "+(this.sliderZIndex+1)+"; }"),this.closeBtnNeedsTouchPadding&&t.push(e+".trc_slider_close_touch_padding {position: absolute; right: 0; top: 0; height: "+o+"px; width: "+o+"px; z-index: "+(this.sliderZIndex+2)+"; }"),TRC.Browser.compatibility.cssTransforms&&(t.push(e+".trc_slider {"+this.slideFrom+": 0;"+n("transform",i+"("+a+")")+"}"),t.push(e+".trc_slider.trc_slide_in {"+n("transform",i+"(0)")+"}"),t.push(e+".trc_slider.trc_slider_animate { "+n("transition-duration",this.transitionDuration+"ms")+n("transition-delay",this.transitionDelay+"ms")+n("transition-property","transform")+"}"),t.push("@media only screen and (max-device-width: 600px) and (orientation: landscape) {"+e+".trc_slider.trc_slide_in {"+n("transform",i+"("+a+")")+"}}")),this.slideDirection==s?t.push(e+".trc_slider {width: 100%; left: 50%; margin-left: -50%; }"):t.push(e+".trc_slider { bottom: 0; }"),t.push(e+".trc_slider .trc_related_container {background-color: "+this.backgroundColor+"; }"),t.join("")},n.prototype.createCloseBtn=function(){this.closeBtn=t.createElement("div"),this.closeBtn.innerHTML="&times;",TRC.dom.addClass(this.closeBtn,"trc_slider_close_btn"),this.closeBtnNeedsTouchPadding&&(this.closeBtnTouchPadding=t.createElement("div"),TRC.dom.addClass(this.closeBtnTouchPadding,"trc_slider_close_touch_padding"))},n.prototype.slideIn=function(){TRC.Browser.compatibility.cssTransforms?/trc_slide_in/.test(this.sliderContainer.className)||TRC.dom.addClass(this.sliderContainer,"trc_slide_in"):this.sliderContainer.style[this.slideFrom]="0px",this.sliderShown=!0},n.prototype.slideOut=function(){var e=this.slideDirection==a?"clientWidth":"clientHeight";TRC.Browser.compatibility.cssTransforms?TRC.dom.removeClass(this.sliderContainer,"trc_slide_in"):this.sliderContainer.style[this.slideFrom]="-"+this.sliderContainer[e]+"px",this.sliderShown=!1}}(window,document),function(){TRC.text={replaceAll:function(e,t,n,s){var o;return"undefined"!=typeof t&&"undefined"!=typeof n&&t!==n?(o=new RegExp(t,"gi"),e.replace(o,"function"==typeof n&&"object"==typeof s?n.trcBind(s):n)):e},lsplit:function(e,t,n){var s=e.split(t);return s.slice(0,n-1).concat(s.length>=n?s.slice(n-1).join(t):[])},parseCSV:function(e){for(var t,n=e.split(","),s=[];n.length;)if(t=n.shift(),'"'==t[0]){do{if('"'==t.slice(1).replace(/""/g,"").slice(-1))break;t+=","+n.shift()}while(n.length)s.push(t.slice(1,t.length-1).replace(/""/g,'"'))}else s.push(t);return s},toStringList:function(e){if(!e)return[];if(!(e instanceof Array))return[""+e];var t=[];return e.forEach(function(e){e&&t.push(""+e)}),t},htmlUnescape:function(e){return String(e).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&#34;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},encodeHTML:function(e){return"string"==typeof e&&e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}}}(window,document),function(){TRC.TRCParser={parseABModeName:function(e,t){var n=this.parseTestVariant(t);return null===n?null:"ab_"+e+"_"+n},parseTestVariant:function(e){var t;return"object"!=typeof e?null:(t=e["video-list"],e.uvpw&&"object"==typeof t&&t["test-variant"]?t["test-variant"]:"undefined"==typeof e["test-variant"]?null:e["test-variant"])},hasVariantMismatch:function(e){var t=e["test-variant"],n=e["video-list"]["test-variant"];return!!(t&&n)&&t!==n}}}(window,document),function(e,t){var n=TRC.Manager=function(n,o){var i=500;return this.numOfResetCssDivs=3,this.eventLogger=[],this.eventCounter={},this.reset=function(){this.reset=!0;for(var n in TRC.callbacks)TRC.callbacks.hasOwnProperty(n)&&n.search("recommendations")>=0&&(TRC.callbacks[n]=function(){});this.preloadRequestLoader&&(TRC.Timeout.clear(this.preloadRequestLoader.timeout),this.preloadRequestLoader.parentNode.removeChild(this.preloadRequestLoader),this.preloadRequestLoader=null);try{delete e.trc_video_id,delete e.trc_article_id,delete e.trc_item_url,delete e.trc_testmode,delete e.trc_adPlayer}catch{e.trc_video_id=null,e.trc_article_id=null,e.trc_item_url=null,e.trc_testmode=null,e.trc_adPlayer=null}for(var t in this.boxes)if(this.boxes.hasOwnProperty(t)){if(this.boxes[t].container)for(this.boxes[t].container.className=this.boxes[t].container.className.replace(" trc_related_container",""),delete this.boxes[t].container._trc_container,delete this.boxes[t].container._trc_anonbox;this.boxes[t].container.hasChildNodes();)this.boxes[t].container.removeChild(this.boxes[t].container.lastChild);TRC.Timeout.reset(),TRC.Interval.reset(),delete this.boxes[t]}},this.renderRBox=function(e,t){var n=document.trcGetParentByClassName(e.getContainer(),"trc_rbox_container");n.style.display="block",e.load(function(){n.style.display="none"},t)},this.getConfig=function(t,n){return"undefined"!=typeof t[n]?t[n]:"undefined"!=typeof e["trc_"+n]&&null!=e["trc_"+n]?t[n]=e["trc_"+n]:"undefined"!=typeof this[n]&&null!=this[n]?t[n]=this[n]:t[n]=this[n]},this.getItemId=function(){var t=this.itemid;return e.trc_video_id||""==e.trc_video_id?t=e.trc_video_id:(e.trc_article_id||""==e.trc_article_id)&&(t=e.trc_article_id),""==t&&(t=this.getAutoItemMeta("item-id",null,this.urlPreNormalizer,this["normalize-item-id"])),this.itemid=t},this.getReferrer=function(){var e="";if(this.referrer)return this.referrer;this.referrer=function(){for(var t=document.head.getElementsByTagName("link"),e=0;e<t.length;e++)if("referrer"==t[e].rel)return t[e].href;return null}();try{e=decodeURI(top.window.document.referrer)}catch{e="",__trcWarn("TRC.Manager.getReferrer : rendering in cross domain iframe")}return this.referrer=this.referrer?this.referrer:e&&!/https?:\/\/(\w+)\.taboola(syndication)?\.com/.test(e)?e.substr(0,400):e.split("?")[0]},this.getListSize=function(e){return e.visible?this.calculateAutoListSize(e):0},this.getExtraResponsiveRecom=function(e){var t=this.getProperty(e.mode_name,"responsive-extra-columns"),n=this.getProperty(e.mode_name,"rows");return t?t*(n||1):0},this.getResponsiveRecommendations=function(t){for(var n,i,r,s=0,c="function"==typeof e.matchMedia,o=this.getMatchMediaRuleMaxWidth(t,c),a=0,l=t.length;l>a;a++)n=t[a],i=n.cells*n.rows,r=c&&(e.matchMedia("(min-width: "+n.minWidth+"px)"+(isNaN(n.maxWidth)?"":" and (max-width: "+n.maxWidth+"px)")).matches||e.matchMedia("screen and (min-height: "+n.minWidth+"px)"+(isNaN(n.maxWidth)?"":" and (max-height: "+n.maxWidth+"px)")+" and (orientation: portrait)").matches),(o!=o||n.minWidth<=o||0>o||r)&&i>s&&(s=i);return{listSize:s,rule:s?n:null}},this.getMatchMediaRuleMaxWidth=function(t,n){if(!n)return screen.width;for(var s,i,o=0,a=t.length;a>o;o++)if(s=t[o],i=e.matchMedia("screen and (min-device-width: "+s.minWidth+"px)"+(isNaN(s.maxWidth)?"":" and (max-device-width: "+s.maxWidth+"px)")),i.matches)return s.maxWidth},this.calculateAutoListSize=function(e){var t,n,s,i,c=this.getProperty(e.mode_name,"list-size"),o=0,a=this.getProperty(e.mode_name,"responsive-rules"),r=null;if(this.getProperty(e.mode_name,"mode-is-responsive")){if(a&&a.length)return r=this.getResponsiveRecommendations(a),e.matched_rule=r.rule,r.listSize;o=this.getExtraResponsiveRecom(e)}if(i=c+o,e.autoSize=this.getProperty(e.mode_name,"auto-size"),!e.autoSize)return e.autoSize=!1,i;if(s=Math.floor(e.container.clientWidth>0?e.container.clientWidth:e.container.offsetWidth),0==s)return e.autoSize=!1,i;for(n=this.getProperty(e.mode_name,"auto-size-rules"),t=0;t<n.length;t++)parseInt(n[t].minWc)<=s&&s<=parseInt(n[t].maxWc)&&(e.AutoSizeRule=n[t]);return e.AutoSizeRule?(e.rows=this.getProperty(e.mode_name,"rows"),e.rows<=1?this.modes[e.mode_name]["list-size"]=e.AutoSizeRule.n+o:this.modes[e.mode_name]["list-size"]=e.AutoSizeRule.n*e.rows+o):0},this.calculateAutoSizeParameters=function(e){if(this.calculateAutoListSize(e),e.AutoSizeRule)for(var t,s,o=Math.floor(e.container.clientWidth>0?e.container.clientWidth:e.container.offsetWidth),n=e.AutoSizeRule.minWsRange;n<=e.AutoSizeRule.maxWsRange;n++)if(t=(o-(e.AutoSizeRule.n-1)*n)/e.AutoSizeRule.n,s=parseInt(t),s==t){e.AutoSizeRule.Wi=t,e.AutoSizeRule.Ws=n;break}},this.getItemUrl=function(){var t=this.itemurl;return(e.trc_item_url||null==this.itemurl)&&(t=this.getAutoItemMeta("item-url",null,this.urlPreNormalizer,this["normalize-item-url"])),this.itemurl=t},this.urlPreNormalizer=function(t,n){if(i=this["prenormalize-"+t],!i)return n;(i["truncate-at"]||[]).forEach(function(e){var t=n.search(e);t>=0&&(n=n.substr(0,t))}),o=new e.TRC.URL(n);for(a in i)if(i.hasOwnProperty(a)){if(!i[a])continue;switch(a){case"host":delete o.host;break;case"trailing-dirsep":for(;"/"==o.pathname.substr(o.pathname.length-1);)o.pathname=o.pathname.substr(0,o.pathname.length-1);break;case"query":var s,o,i,a,r,l,c=[],d=o.search.replace(/^\?/,"").split("&");s=i[a],"string"==typeof s&&(s=new RegExp(s)),l=function(){return s instanceof Array?function(e){for(var t=0;t<s.length;t++)if(e==s[t])return!0;return!1}:s instanceof RegExp?s.test.trcBind(s):function(){return!1}}(),d.forEach(function(e){l(decodeURIComponent(e.split("=")[0]))&&c.push(e)}),o.search=(c.length?"?":"")+c.join("&");break;case"fragment":r=o.hash.replace(/^#/,""),s=i[a],"string"==typeof s&&(s=new RegExp(s)),o.hash="",s instanceof RegExp&&s.test(r)?o.hash="#"+r:s instanceof Array&&s.forEach(function(e){r.search(e)>=0&&(o.hash="#"+r)})}}return o.pathname||(o.pathname="/"),"item-id"==t?o.toString().toLowerCase():o.toString()},this.genCallback=function(e){var t="recommendations_"+(TRC.callbacks.auto_gen_callback_seq=TRC.callbacks.auto_gen_callback_seq+1||1);return TRC.callbacks[t]=e,"TRC.callbacks."+t},this.formatTRCRequest=function(t,n){function f(e){switch(e){case"user":return"u";case"uploader":return"U";case"content-rating":return"c";case"publish-date":return"t";case"duration":return"d";case"category":return"x";case"v":case"r":default:return e}}var s,i,a,r,c,l,d,h,m,u=[],o={ii:this.getItemId(),it:this.getItemType(),sd:TRC.pageManager.getPublisherValue(TRC.publisherId,"session-data"),ui:TRC.pageManager.getValue("user-id"),vi:TRC.pageManager.getPageData(),cv:this.version,uiv:this.getPublisherVersion(),id:parseInt(1e3*Math.random())};TRC.pageManager.getValue("past-exclusions")&&(o.px=TRC.pageManager.getValue("past-exclusions")),n&&(o.it=n),this.excludedItems&&(o.ex=TRC.text.toStringList(this.excludedItems)),c=this.getItemUrl();for(a in t)if(t.hasOwnProperty(a)){if(s=t[a],!s.placement)continue;s.item_id&&(o.ii=s.item_id),0==s.origin.toString().indexOf("h2")&&(o.ii="_homepage_"),s.item_type&&(o.it=s.item_type),"undefined"!=typeof s.item_url&&(c=s.item_url),i={li:s.list_id||"rbox-"+(s.visible?s.origin.toString():"tracking"),s:this.getListSize(s),uim:this.computeUIM(t[a]),uip:s.placement,orig_uip:s.placement},s.dfp&&s.dfp.campaign_id&&(i.nvcid=s.dfp.campaign_id),s.category&&(i.ac=s.category),s.article?(i.sii=s.article,i.sit="text"):s.video&&(i.sii=s.video,i.sit="video"),s.exclude&&(i.ex=TRC.text.toStringList(s.exclude)),d=this.getProperty(s.mode_name,"required-attributes"),"string"==typeof d&&"none"!=d&&(i.ra=d),"string"==typeof s.container&&(s.container=document.getElementById(s.container)),i=this["normalize-request-param"](i,s.mode_name),u.push(i)}(e.trc_testmode&&(o.y=!0),this.trc_url_auto_detection==o.ii)&&(h=this.getProperty(u[0].uim,"remove-url-playvideo-behavior"),h&&(c=null)),c!=null&&(o.u=c),this.getReferrer()&&(o.e=this.referrer),l={},this.tags&&this.tags.length&&(l.k=this.tags.join(","));for(a in this.metadata)this.metadata.hasOwnProperty(a)&&this.metadata[a]&&(l[f(a)]=this.metadata[a]);if(function(){for(a in l)return!0;return!1}()&&(o.m=l),o.r=u,o=this["normalize-request-param"](o,null),this.preloadRequest)for(r=0,m=o.r.length;m>r;r++)this.preloadRequest[o.r[r].uip]||(this.preloadRequest[o.r[r].uip]=this.preloadRequest[o.r[r].orig_uip],this.preloadRequest[o.r[r].orig_uip]=this.preloadRequest[o.r[r].uip],this.preloadRequest[o.r[r].orig_uip].new_uip=o.r[r].uip);return TRC.pConsole("recommendations","info","formatted request",o,"object"),o},this.computeUIM=function(e){var t=e.mode_name,n=this.global["disable-network-uim"]||"undefined"==typeof TRC.networkId?"":":pub="+TRC.networkId,s=TRC.blocker.blockedState>-2&&this.global["use-abp-uim"]?":abp="+TRC.blocker.blockedState:"",o=this.global["use-calibration-uim"]&&this.getProperty(t,"mode-is-responsive")?this.computeCalbUIM(e):"";return t+n+s+o},this.computeCalbUIM=function(e){if(!e.matched_rule)return"";var s=TRC.implClasses.TRCRBox,o=this.modes[e.mode_name],n=e.matched_rule,t="none"!=o["thumbnail-position"]&&o["thumbnail-position"]||0[0],i=t?TRC.math.round10(s.prototype.getRuleAspectRatio(n,"ratio")||s.prototype.getThumbAspectRatio(o,"ratio")||s.prototype.DEFAULT_THUMB_RATIO,-1):0[0],a=t?this.caclculateThumbnailWidth(e.container,n):0[0];return":type=responsive,rows="+n.rows+",cells="+n.cells+",thumb-pos="+t+(t&&"none"!=t?",thumb-ratio="+i+",thumb-width="+a:"")},this.caclculateThumbnailWidth=function(e,t){var n,s=TRC.css.responsive.getRulePercentageWidth(t.cells,t.margin.h)/100,o=50;return e&&s?(n=parseInt(e.clientWidth>0?e.clientWidth:e.offsetWidth,10),TRC.math.roundByDecimal(n*s,o)):null},this.dispatchLoadRequest=function(t){if(!(TRC.isKilled&&TRC.isKilled()||(this.preloadRequest=t,function(e){for(var t in e)return!1;return!0}(t)))){if(null==this.getItemId())return void(this.delayedDispatchLoadRequest=this.dispatchLoadRequest.trcBind(this,t));this.delayedDispatchLoadRequest=null;var n,o,i=this.getProperty(null,"timeout")||8e3;try{n=this.formatTRCRequest(this.preloadRequest),n.cb=this.genCallback(this.handleLoadResponse.trcBind(this)),o=s+"//"+this.domain+"/"+escape(TRC.publisherId)+"/trc/3/json?tim="+escape(__trcClientTimestamp())+(this.trcByPass?"&trc_skip_failover=yes&":"&")+"data="+encodeURIComponent(__trcJSONify(n))+this.getOptOut()+TRC.pageManager.additionalDispatchParams(),e.trc_debug_level>1&&(o+="&llvl="+e.trc_debug_level),TRC.utm.push((new Date).getTime()-TRC.utm.start),this.preloadRequestLoader=this.loadExternal(o,"js",this.handleLoadResponseFailure.trcBind(this),!0),this.preloadRequestLoader.timeout=TRC.Timeout.set(this.abortLoadRequest.trcBind(this,!0),i),TRC.pConsole("","time","dispatch recommendation request","")}catch(e){__trcError("TRC.dispatchLoadRequest: Error in request processing",e)}}},this.abortLoadRequest=function(e){this.preloadRequestLoader&&(this.preloadRequestLoader.parentNode.removeChild(this.preloadRequestLoader),this.preloadRequestLoader=null);for(t in this.preloadRequest)if(this.preloadRequest.hasOwnProperty(t)){if(t.search("rbox-tracking")>=0)continue;e&&(e=!1,__trcWarn("TRC.abortLoadRequest: pv3 timeout"));var t,n=this.preloadRequest[t];delete this.preloadRequest[t],n.loadRBoxRequestFailed=!0,this.internalDrawRBox(n)}},this.getOptOut=function(){return this.userOptOut?"&user.opt_out=true":""},this.handleLoadResponseFailure=function(){null!=this.preloadRequestLoader&&(TRC.Timeout.clear(this.preloadRequestLoader.timeout),__trcError("Server did not respond to loadRBox"),this.abortLoadRequest())},this.isActivePlacementData=function(e,t){return!e.new_uip||t===e.new_uip},this.handleLoadResponse=function(e){try{if(TRC.pConsole("recommendations","info","recommendations response",e,e.trc.verbose?"verbose":"object"),TRC.pConsole("","time","recommendations loaded",""),TRC.utm.push((new Date).getTime()-TRC.utm.start),this.preloadRequestLoader&&TRC.Timeout.clear(this.preloadRequestLoader.timeout),e&&e.trc&&e.trc.ui&&(this.watchedItem=e.trc.wi,this.globaleRequestId=e.trc.vl&&e.trc.vl.length?e.trc.vl[0].ri:null,TRC.eventDelegator.dispatch("user_id_ready")),!(e&&e.trc&&e.trc.vl&&e.trc.vl.length))return __trcError("Invalid response from server: "+e),void this.abortLoadRequest();e.trc.tc&&TRC.Manager.prototype.loadExternal("http://c2.taboola.com/console/console_loader.js","js"),s="1"==e.trc.sl,TRC.pageManager.storePublisherValue(TRC.publisherId,"session-data",e.trc.sd),e.trc.DNT&&"TRUE"===e.trc.DNT.toUpperCase()?TRC.pageManager.removeKey("user-id"):TRC.pageManager.storeValue("user-id",e.trc.ui),this.parseResponse(e,s);for(n in this.preloadRequest)if(this.preloadRequest.hasOwnProperty(n)){if(t=this.preloadRequest[n],1!=t.pv2&&null==t.response&&!t.dc&&n.search("rbox-tracking")<0){__trcWarn("Server did not provide response for '"+n+'"!');var t,n,s,o=t;delete this.preloadRequest[n],__trcDebug("Recovering internalDrawRBox("+n+")"),this.internalDrawRBox(o)}this.isActivePlacementData(t,n)&&1!=t.pv2&&t.dc&&t.dc.renderAd()}this.preloadRequestLoader&&(this.preloadRequestLoader.parentNode.removeChild(this.preloadRequestLoader),this.preloadRequestLoader=null),s&&!TRC.Device.isTouchDevice&&(TRC.backstageDomainPrefix=e.trc.bdp,this.loadSpotlight())}catch(e){__trcError("Error in TRC.handleLoadResponse : ",e)}},this.parseResponse=function(e,t){var n,s,o,i,a,r;for(o=0;o<e.trc.vl.length;o++)s=e.trc.vl[o],i=s.dc?s.dc:s.uip,i.search("rbox-tracking")>=0||(n=this.preloadRequest[i],"undefined"!=typeof n?(r=this.formatPlacementRecommendations(e,o),s.dc&&("tbl"!==s.typ||1!=s.pr||!s.v||s.v.length<1)?(n.dc||(n.dc=new TRC.DaisyChain(this,n),this.daisyChains.push(n.dc)),n.dc.addToChain(r,s.pr)):n.response=r,t&&(a=e.trc.pi,n.spotlight=!0,n["spotlight-publisher-id"]=a,__trcDebug("Detected Spotlight Administrator("+a+")")),n.response&&(n.dc&&delete n.dc,n.pv2||"undefined"==typeof n.container||this.internalDrawRBox(n))):__trcWarn("Invalid placement in server response",i))},this.formatPlacementRecommendations=function(e,t){var n=e.trc.vl[t],s={trc:{req:n.ri,"session-id":e.trc.si,"session-data":e.trc.sd,"user-id":e.trc.ui,"watched-item":e.trc.wi,"country-code":e.trc.cc,"test-variant":e.trc.t,uvpw:e.trc.uvpw,DNT:e.trc.DNT,cpb:e.trc.cpb,ppb:n.ppb}};return n.dc&&"tbl"!==n.typ?s.trc.tag=n:s.trc["video-list"]={video:n.v,"test-variant":n.t},s},this.loadSpotlight=function(){document.querySelectorAll&&(this.spotlightLoaded?TRC.dispatch("trc_afterRboxDraw"):(this.spotlightLoaded=TRC.URL.prototype.switchProtocol.call(TRC.getBackstageUrl()+"resources/js/1.1.0/spotlight.js",s),this.loadExternal(this.spotlightLoaded,"js")))},this.setCssDivsIds=function(e,t){var n,s=4;for(n in e)e.hasOwnProperty(n)&&(e[n].cssDivsArr=[],n&&TRC.util.getRandomIds({arr:e[n].cssDivsArr,len:t,strength:s,prefix:"t",suffix:"_r"}))},this.setLBCssDivsIds=function(e,t){var n=4;TRC.util.getRandomIds({arr:e.iframe,len:t,strength:n,prefix:"t",suffix:"_r"}),TRC.util.getRandomIds({arr:e.topDiv,len:t,strength:n,prefix:"t",suffix:"_r"})},this.getModesCache=function(){if(TRC.modesCache)return TRC.modesCache;TRC.modesCache={};for(var e in this.modes)this.modes.hasOwnProperty(e)&&(TRC.modesCache[e]={});return TRC.modesCache},this.init=function(t){var n,s=TRC.URL.prototype.getParameter.call(location.href,"trc_css-isolation")||TRC.pageManager.getValue("trc_css-isolation"),o=TRC.URL.prototype.getParameter.call(location.href,"trc_abp");__trcCopyProps(t,this),this.boxes={},this.daisyChains=[],this.unique_placement_count={},this.tags=[],this.metadata={},this.cssReset="yes"===s||"no"!==s&&this.global["css-isolation"]!==!1,this.trcRequestDelay=this.global["trc-request-delay"]||i,this.trcByPass=this["trc-skip-failover"]===!0,s&&TRC.pageManager.storeValue("trc_css-isolation",s),this.configForPostEvent={available:this.global["send-avail-as-post"],visible:this.global["send-event-as-post"],explore:this.global["send-explore-as-post"]},this.configForGetEvent={available:this.global["send-avail-as-get"],visible:this.global["send-visible-as-get"],explore:this.global["send-explore-as-get"]},TRC.getBackstageUrl=function(){var e=TRC.backstageDomainPrefix||"backstage";return this["backstage-domain-url"]||"https://"+e+".taboola.com/backstage/"}.trcBind(this),o?this.setABPEmulation(o):this.global["abp-detection-enabled"]?TRC.blocker.blockedState=TRC.blocker.getBlockedState(this.global["abp-detection-class-names"]||["banner_ad","sponsored_ad"]):TRC.blocker.blockedState=TRC.blocker.states.ABP_DETECTION_DISABLED,n=this.defaults.style+this.global.style,TRC.blocker.blockedState>0&&this.global["switch-abp-class"]&&(n=TRC.text.replaceAll(n,"\\."+TRC.SYNDICATED_CLASS_NAME+"|\\."+TRC.SPONSORED_CONTAINER_CLASS_NAME,function(e){return"."+this[e.slice(1)]},this.global["switch-abp-class"])),TRC.styleInjected||(this.cssReset?(this.setLBCssDivsIds(TRC.lightBoxCssReset={iframe:[],topDiv:[]},this.numOfResetCssDivs),this.setCssDivsIds(this.getModesCache(),this.numOfResetCssDivs),TRC.css.utils.setStyleElements(TRC.css.utils.setStyleTextIdPrefix(n,TRC.modesCache,TRC.lightBoxCssReset)),__trcInfo("CSS Isolation is active")):this.global["css-ie-split"]&&TRC.Browser.ieUpto(9)?TRC.css.utils.setStyleElements(TRC.css.utils.setStyleTextIdPrefix(n,null,TRC.lightBoxCssReset)):TRC.dom.injectStyle(n)),TRC.pageManager.setDomainConfiguration(this.global["publisher-domains"]),this.domain=this.global["requests-domain"]?this.global["requests-domain"]:"trc.taboola.com",this.origin instanceof Array||(this.origin=[this.origin]),null!=this.userMetadata?this.metadata.user=__trcJSONify(this.userMetadata):"undefined"==typeof e.trc_user_id?this.metadata.user=this["get-user"]():this.metadata.user=e.trc_user_id,TRC.util.hasKeys(this["trc-network-mapping"])&&(TRC.networkId=TRC.publisherId,this.shiftPublisherId(this["trc-network-mapping"])),this.clickFraud=new TRC.clickFraudDetect({enabled:this.global["enable-clkfraud-detection"],pubId:TRC.publisherId},TRC.net);try{TRC.pConsole("page","debug","Hook : publisher_start",this["publisher-start"].toString()),this["publisher-start"]()}catch(e){__trcError("Error running publisher-start",e)}this.metadata.uploader=this["get-creator"](),this.tags=this["get-tags"]();try{this.metadata.v=this["get-views"](),this.metadata.r=this["get-rating"](),this.metafields.split(",").forEach(function(e){e&&(this.metadata[e]=this["get-"+e]?this["get-"+e]():this.readMetaTag(e))}.trcBind(this))}catch{}this.gt=new Gettext({domain:"rbox",locale_data:this.global.locale}),e.trc_testmode=!!e.trc_testmode||TRC.pageManager.isStagingView(),setTimeout(this.setupOVP.trcBind(this),0),this.init=function(){},TRC.isInteractive=!1,TRC.isPageLoaded=!1,this.setInteractiveHandlers(),this.setPageOnloadHandlers()},this.setABPEmulation=function(e){TRC.blocker.blockedState=e,this.global["abp-detection-enabled"]=!0,this.global["use-abp-uim"]=!0,TRC.pConsole("page","warn","emulating Ad Blocker Plus detection.")},this.setInteractiveHandlers=function(){var n,a=TRC.EVENT_PAGE_INTERACTIVE,s=["resize","scroll"],o=["scroll","mousedown","keydown","touchstart"],i=function(n){var r;if(n=n||window.event,!TRC.Browser.ie||"resize"!==n.type||null!=n.srcElement){for(r=0;r<s.length;r++)TRC.dom.off(e,s[r],i);for(r=0;r<o.length;r++)TRC.dom.off(t,o[r],i);TRC.isInteractive=!0,TRC.dispatch(a)}};for(n=0;n<s.length;n++)TRC.dom.on(e,s[n],i);for(n=0;n<o.length;n++)TRC.dom.on(t,o[n],i)},this.setPageOnloadHandlers=function(){var n=TRC.EVENT_PAGE_LOAD,t=function(){TRC.dom.off(e,"load",t),TRC.isPageLoaded=!0,TRC.dispatch(n)};TRC.dom.on(e,"load",t)},this.pollTillContainerAvailable=function(e,t){var o=1e3,i=40,n=this,a=e.container,s=function(){n.internalDrawRBox(e)};if(t="undefined"==typeof t?o:t,TRC.pConsole("page","debug","in pollTillContainerAvailable : retry coutn = "+t),e.player||e.slider===!0||TRC.dom.isReady)return TRC.pConsole("page","debug","in pollTillContainerAvailable : player - calling 'TRC.dom.onReady'"),TRC.dom.onReady(s);try{e.container=this.ensureValidContainer(e.container,!0)}catch{}return e.container?this.internalDrawRBox(e):(e.container=a,t--?(t=TRC.dom.isReady?Math.min(t,1):t,TRC.Timeout.set(function(){n.pollTillContainerAvailable.call(n,e,t)},i),null):(TRC.pConsole("page","debug","in pollTillContainerAvailable : container - "+e.container+" not found, no more retries"),TRC.dom.onReady(s)))},this.countTrcContainerMissingError=0,this.ensureValidContainer=function(e,t){if(n="trc_related_container",a=TRC.dom.isInIframe(!0)?" trc_in_iframe":"","string"==typeof e&&(e=document.getElementById(e),t&&!e))return null;if("object"!=typeof e&&(e=null),e!=null){if(e.className.match(n))return e;for(;e.hasChildNodes();)e.removeChild(e.firstChild);return e.className+=" "+n+" trc_spotlight_widget"+a,e}if(null!=(e=document.getElementById(n)))return e.className.search(n)<=0&&(e.className+=" "+n+" trc_spotlight_widget"+a),e;if(!document.body)return null;for(var n,i,a,s=null,r=document.body.getElementsByTagName("script"),o=0;o<r.length;o++)if(!r[o].src&&/TRC\.drawRBox\(/.test(r[o].innerHTML)){s=r[o];break}return!s||!s.parentNode?(this.countTrcContainerMissingError<2&&(this.countTrcContainerMissingError+=1,__trcError("Didn't manage to find TRC container for R-Box ("+this.countTrcContainerMissingError+") "+(TRC.dom.isReady?"(Document is Ready)":"")+"!")),null):(i=document.createElement("div"),i.id=i.className=n+" trc_spotlight_widget"+a,s.parentNode.insertBefore(i,s),i)},this.getPublisherVersion=function(){try{if(TRC.baseDomain.search(TRC.publisherId)>=0){var e=TRC.baseDomain.split("/");if(""==e[e.length-1]&&e.pop(),e[e.length-1]!=TRC.publisherId)return e[e.length-1]}}catch{}return"default"},this.getItemType=function(){switch(TRC.listOrigin.getSource()){case"h":return"home";case"c":return"category";case"t":return"text";case"s":return"search";case"p":return"photo";case"v":default:return"video"}},this.playVideo=function(t){var n,s,o,i,r,a=!1;try{TRC.dispatch("videoPlaying",t)}catch(e){__trcError("Problem in playVideo:videoPlaying",e)}if("undefined"!=typeof t.id&&e.trc_video_id!=t.id&&(r=TRC.listOrigin.getSource(),"undefined"==typeof t.url&&(e.trc_video_id||"v"!=r?t.url=null:(t.url=this.getAutoItemMeta("item-url",null,this.urlPreNormalizer,this["normalize-item-url"]),this.trc_url_auto_detection=t.id)),e.trc_video_id=t.id,e.trc_item_url=t.url,null!=this.delayedDispatchLoadRequest&&(this.delayedDispatchLoadRequest(),a=!0),0!=e.TRC.trc_drawRBox)){s=0;for(o in this.boxes)if(this.boxes.hasOwnProperty(o)){if(!/(rbox-blended|rplayer|rbox-v2)/.test(this.boxes[o].getListId()))continue;this.boxes[o].updateRecommendations("video")&&s++}1>s&&!a&&(i={},n=this.computeRBoxOptions({mode:"rbox-tracking",item_id:t.id,item_url:t.url,item_type:"video",visible:!1}),delete n.container,i[n.placement]=n,this.dispatchLoadRequest(i))}},this.setUser=function(e){this.userMetadata=e,TRC.pConsole("page","info","user meta data ",e,"object")},this.getUIInstance=function(t){var n=this.getProperty(t,"impl-class");return n&&n in e.TRC.implClasses?e.TRC.implClasses[n]:TRC.implClasses.TRCRBox},this.calculatePlacement=function(e){if(e.mode_name.search("rbox-tracking")>=0)return e.mode_name;var t=e.mode_name+(e.category?"!"+e.category:"");return"undefined"!=typeof this.unique_placement_count[t]&&(t+="#"+ ++this.unique_placement_count[t]),t},this.computeRBoxOptions=function(t){return"string"==typeof t&&(t={mode_name:t}),t.pubOpts?t:(t.pubOpts=__trcCopyProps(t,{}),e.trc_testmode=!!e.trc_testmode||!!t.testmode,t.tracking=(this.tracking?this.tracking:"")+(t.tracking?t.tracking:""),t.target_type=t.target_type||this.target_type||this.getProperty(t.mode_name,"target_type")||"video",t.origin=new TRC.ListOriginBuilder(TRC.listOrigin.getSource(),t.target_type),t.mode_name=!!t.mode&&t.mode||!!t.mode_name&&t.mode_name||!!e.trc_mode_name&&e.trc_mode_name||"rbox-"+t.origin.toString(),t.mode_name=t.mode_name.replace(/\s+/g,""),t.category=!!t.category&&t.category,t.link_target=t.link_target||this.link_target||this.getProperty(t.mode_name,"link-target")||"normal","undefined"==typeof t.placement&&(t.placement=this.calculatePlacement(t)),this.unique_placement_count[t.placement]=0,t.visible="boolean"==typeof t.visible?t.visible:!this.invisible,"string"==typeof t.autoplaybox&&(t.autoplaybox=document.getElementById(t.autoplaybox)),!t.player&&t.slider!==!0&&t.visible&&(t.original_container=t.container,t.container=this.ensureValidContainer(t.container)),this.setupOVP(t),t.response=null,t.computed=!0,t)},this.listenToPlayer=function(e,t){var s="trc_related_container",n=TRC.listen("videoPlaying",function(o){var i,a=document.getElementById(o.player_id);return a?void(TRC.dom.isAncestor(t,a,!0)?(n.remove(),TRC.listen("videoPlaying",function(e){e.player_id===t.player_id?i.style.left="-999999em":__trcError("TRC.listenToPlayer: wrong player_id was used for videoPlaying")}),t.player_id=o.player_id,e.container&&("string"==typeof e.container&&(e.container=document.getElementById(e.container)),i=e.container),i||(e.container=i=document.createElement("div")),i.className=s+" trc-inplayer-rbox",i.style.left="-999999em",i.style.width=a.offsetWidth+"px",i.style.marginTop="-"+a.offsetHeight+"px",TRC.Browser.ieUpto(6)&&(t.style.position="absolute"),t.appendChild(i),TRC.kaltura_API&&TRC.Browser.firefox&&(delete TRC.kaltura_API,TRC.kaltura_support()),e.getListId=function(){return"rplayer-after"},e.list_id=e.getListId(),e.loaded=!0,this.internalDrawRBox(e)):__trcError("TRC.listenToPlayer: object with player_id wasn't found in playerContainer that was passed")):void __trcError("TRC.listenToPlayer: wrong player_id was passed")}.trcBind(this));TRC.listen("videoDone",function(n){var s=e.container;return s?void(n.player_id===t.player_id?s.style.left="0":__trcError("TRC.listenToPlayer: wrong player_id was used for videoDone")):void __trcError("TRC.listenToPlayer:videoDone mainContainer wasn't found")}),TRC.ooyala_API&&(TRC.listen("ooyala_stateChanged",function(n){var s=e.container;s&&(n.player_id===t.player_id?s.style.left="-999999em":__trcError("TRC.listenToPlayer: wrong player_id was used for ooyala_stateChanged"))}),TRC.listen("ooyala_activePanelChanged",function(n){var s=e.container;s&&(n.player_id===t.player_id?s.style.left="more"===n.activePanel||"info"===n.activePanel?"0":"-999999em":__trcError("TRC.listenToPlayer: wrong player_id was used for ooyala_activePanelChanged"))}))},this.internalDrawRBox=function(n){if(n=this.computeRBoxOptions(n),n.player){var s,o,i,a=n.player;return delete n.player,void this.listenToPlayer(n,document.getElementById(a))}if(n.slider===!0&&(n.container=document.createElement("div"),n.container.id="trc_rbox_slider_"+Math.floor(2147483648*Math.random()).toString(36),n.container.className="trc_related_container",this.cssReset&&t.body.appendChild(n.container)),s=n.container){if(n.visible||(s.style.display="none"),n.spotlight&&s.setAttribute("data-spotlight-publisher-id",n["spotlight-publisher-id"]),null==n.response&&this.loadCalled&&"undefined"!=typeof this.preloadRequest[n.placement]&&(n.response=this.preloadRequest[n.placement].response,__trcCopyProps(n,this.preloadRequest[n.placement]),null==n.response))return void(this.preloadRequest[n.placement].container=n.container);o=new(this.getUIInstance(n.mode_name))(n.origin.toString(),n,this),this.boxes[o.id]=o,s._trc_container||(s._trc_container=document.createElement("div"),s._trc_container.className="trc_rbox_container",s._trc_anonbox=document.createElement("div"),s._trc_container.appendChild(s._trc_anonbox),s.appendChild(s._trc_container),this.cssReset&&"rbox-tracking"!==o.mode_name?(i=t.createElement("div"),TRC.dom.swapElements(s,i,!1),o.outermostContainer=this.createCssResetContainers(s,o.mode_name),TRC.dom.swapElements(i,o.outermostContainer,!1),TRC.pConsole("page","info","CSS reset is enabled on all widgets")):o.outermostContainer=s),o.render(s._trc_anonbox),this.renderRBox(o,n),e.TRC.trc_drawRBox=!0}},this.createCssResetContainers=function(e,t){for(var n,i=TRC.modesCache[t]?TRC.modesCache[t].cssDivsArr:[],a=i.length,s=e,o=a-1;o>=0;o--)n=document.createElement("div"),n.id=i[o],n.className="trc_isolation",n.appendChild(s),s=n;return s},this.daisyChainReset=function(){var e,t=this.daisyChains.length;for(e=0;t>e;e++)this.daisyChains[e].removeIframe()},this.loadRBox=function(){var e,n,t=Array.prototype.slice.call(arguments),s={},o=40;if(!(t.length<1))try{if(this.loadCalled)throw new Error("loadRBox() may only be called once!");t[0]instanceof Array&&(t=t[0]),this.till_request_count=0;for(n=0;n<t.length;n++)t[n].player||t[n].slider===!0||this.till_request_count++;for(;t.length;)if(e=this.computeRBoxOptions(__trcCopyProps(t.shift(),{})),e.player||e.slider===!0)s[e.placement]=e,this.internalDrawRBox(e);else{if(s[e.placement])throw new Error("Placement '"+e.placement+"' is not unique in loadRBox()!");s[e.placement]=e,function(e,t,n){if(e.container&&1===e.container.nodeType)this.till_request_count--;else{if(!TRC.dom.isReady)return!e.player&&e.slider!==!0&&e.visible&&(e.container=this.ensureValidContainer(e.original_container)),void TRC.Timeout.set(arguments.callee.trcBind(this,e,t,n),t);this.error("Invalid container provided for request "+e.placement+" ("+e.container+")!"),delete n[e.placement],this.till_request_count--}this.till_request_count<=0&&(this.loadCalled=!0,this.dispatchLoadRequest(n))}.trcBind(this,e,o,s)()}}catch(e){throw __trcError("Error in loadRBox()",e),e}},this.parseLoaderParams(o),TRC.dom.init(),this.init(n),this},s=TRC.PROTOCOL;n.prototype["list-size"]=0,n.prototype.MAX_RETRY=2,n.prototype.drawInterface=!1,n.prototype.delayedDispatchLoadRequest=null,n.prototype.invisible=!1,n.prototype.excludedItems=null,n.prototype.boxes={},n.prototype.itemid=null,n.prototype.itemurl=null,n.prototype.tags=[],n.prototype.metadata={},n.prototype.gt={},n.prototype.userMetadata=null,n.prototype.loadCalled=!1,n.prototype.unique_placement_count={},n.prototype.trc_url_auto_detection=null,n.prototype.shiftPublisherId=function(t){var n,o,i,r,c,h,d=TRC.URL.prototype.getParameter.call(location.href,"taboola_sim_domain")||TRC.URL.prototype.getParameter.call(location.href,"fakeurl"),l=e.trc_item_url?new TRC.URL(e.trc_item_url):null,a=(d||(l?l.host:null)||location.host).toLowerCase(),u=(d||(l?l.href:null)||location.href).toLowerCase(),s=t[a],f="/",m=["m","mobile","www2","www3"];if(!s){for(__trcToArray(t,o=[]),o.sort(function(e,t){return e[0].length>t[0].length?-1:e[0].length<t[0].length?1:0}),n=0,r=o.length;r>n;n++)if(i=o[n][0].toLowerCase(),i.indexOf(f)>0){{if(u.match(i)){s=o[n][1];break}if(i.indexOf("www.")>-1&&u.match(i.replace("www.",""))){s=o[n][1];break}}}else if(a.match(i)){s=o[n][1];break}if(!s&&a.indexOf("www.")<0){for(n=0,r=m.length;r>n&&(h=new RegExp("(https://|http://|^)"+m[n]+"."),c=a.replace(h,"www."),!(s=t[c]));n++);s||(c="www."+a,s=t[c])}}TRC.publisherId=s||"unknown-site-on-"+TRC.publisherId,TRC.pConsole("page","info","in 'Network-Solution' : publisher-id was set to - "+TRC.publisherId,"")},n.prototype.getProperty=function(e,t){return"undefined"==typeof this.modes||"undefined"==typeof this.modes[e]||"undefined"==typeof this.modes[e][t]?this[t]:this.modes[e][t]},n.prototype.getFunction=function(e,t){var s=Array.prototype.slice.call(arguments,2),n=this.getProperty(e,t);return"function"==typeof n?(TRC.pConsole(e,"debug","Hook : "+t,n.toString(),"function"),n.apply(this,s)):0[0]},n.prototype.readMetaTag=function(e){for(var n=document.head.getElementsByTagName("meta"),s=null,t=0;t<n.length;t++)if(n[t].name){if(n[t].name.toLowerCase()=="item-"+e.toLowerCase())return n[t].content;n[t].name.toLowerCase()==e.toLowerCase()&&(s=n[t].content)}return s},n.prototype.get_intent=function(){var t,s=e.location.href,n=TRC.pageManager.getPublisherValue(TRC.publisherId,"auto-play-intent");return n!=null&&(t=n.split(":"),parseInt(t[0])>(new Date).getTime()-3e4&&t[1]==this.getItemId())?"undefined"!=typeof t[2]?t[2]:"n":s.search(this.getItemId())>=0?"s":"u"},n.prototype["get-creator"]=function(){return this.readMetaTag("uploader")||this.readMetaTag("creator")},n.prototype["get-tags"]=function(){for(var t=null,e=t?t.split(","):[];e.length>0&&!e[0];)e.shift();return e},TRC.implClasses=TRC.implClasses||{},n.prototype.logTrcEvent=function(t,n,s,o){var i=!1;if(n.tim=__trcClientTimestamp(),n.id=parseInt(1e4*Math.random()),n.llvl=e.trc_debug_level,this.global["tmp-disable-cv"]||(n.cv=this.version),!TRC.isKilled||!TRC.isKilled()){if(this.configForPostEvent[t])try{this.logPostTrcEvent(t,this.global["send-full-list"]&&s?__trcCopyProps(n,{},s):n)}catch(e){i=!0,__trcError("Error in sending post event",e)}(i||this.configForGetEvent[t]!==!1||this.configForPostEvent[t]!==!0)&&((this.configForGetEvent[t]===!1||i)&&(n.fbe=1),this.logGetTrcEvent(t,n,o))}},n.prototype.logGetTrcEvent=function(e,t,n){var o,i,a,r,c,l;for(i in t)t.hasOwnProperty(i)&&(t[i]=this["normalize-log-param"](i,t[i]));c=this["normalize-log-param"]("publisher",TRC.publisherId),e=this["normalize-log-param"]("type",e);try{r=s+"//"+this.domain+"/"+c+"/log/3/"+escape(e)+"?",r+=this.trcByPass?"trc_skip_failover=yes&":"";for(o in t)t.hasOwnProperty(o)&&(l="_"==o.charAt(0)?o.substr(1):o,"undefined"!=typeof t[o]&&null!=t[o]&&(r+=0==o.indexOf("unescape-")?o.replace("unescape-","")+"="+t[o]+"&":escape(l)+"="+escape(t[o])+"&"));a=new Image,this.eventLogger.push(a),n&&(a.onload=a.onerror=function(){if("function"==typeof n)try{n()}catch(e){__trcError("Error in event callback",e)}return!0}),a.src=r}catch(e){__trcError("Error in sending event",e)}},n.prototype.logPostTrcEvent=function(e,n){var o,i,r,d=this["normalize-log-param"]("publisher",TRC.publisherId),e=this["normalize-log-param"]("type",e),l="tb-trc-transportFrame-"+n.id,c=this.getTransportForm(l),a=document.getElementById(l);for(o in n)n.hasOwnProperty(o)&&(i=t.createElement("input"),i.name=("_"==o.charAt(0)?o.substr(1):o).replace(/unescape-/g,""),i.type="hidden",i.value=this["normalize-log-param"](o,n[o]),c.appendChild(i));if(!a)throw new Error("post iframe can be created");TRC.Browser.ie&&(r=a.contentDocument?a.contentDocument:a.contentWindow.document,r.write(""),r.close()),c.action=s+"//"+this.domain+"/"+d+"/log/3/"+escape(e)+(this.trcByPass?"?trc_skip_failover=yes":""),c.submit()},n.prototype.getTransportForm=function(e){var n,s;return n=t.createElement("form"),n.className="trc-hidden",n.target=e,n.style.display="none",n.method="post",t.body.appendChild(n),s=t.createElement("span"),s.innerHTML='<iframe class="trc-hidden" id="'+e+'" name="'+e+'" width="0" height="0" style="display:none"></iframe>',t.body.appendChild(s),n},n.prototype.log1=function(e,t,n,s){var o=e+":"+(s||t.li+t.ii)+t.ri;return t.ii&&t.it&&(o=e+":"+t.li+t.ii+t.ri),this.eventCounter[o]?void this.eventCounter[o]++:(this.logTrcEvent(e,t,n),void(this.eventCounter[o]=1))},n.prototype.loadExternal=function(){return TRC.net.loadScript.apply(null,arguments)},n.prototype.parseLoaderParams=function(t){for(s in t)if(t.hasOwnProperty(s)){var s,n=t[s];if("unknown"==n)continue;switch("auto"==n&&(n=""),s){case"visible":this.invisible=!("boolean"==typeof n?n:"false"!=n);break;case"video":e.trc_video_id=n,TRC.listOrigin.setSource("v");break;case"url":e.trc_item_url=n;break;case"article":e.trc_article_id=n,TRC.listOrigin.setSource("t");break;case"category":e.trc_article_id=n,TRC.listOrigin.setSource("c");break;case"home":e.trc_article_id=n,TRC.listOrigin.setSource("h");break;case"search":e.trc_article_id=n,TRC.listOrigin.setSource("s");break;case"photo":e.trc_article_id=n,TRC.listOrigin.setSource("p");break;case"link_target":this.link_target=n;break;case"video_source":this.video_source=n;break;case"callback":this.video_player_callback=n;break;case"player_reference":this.video_player_reference=n;break;case"target_type":TRC.listOrigin.setTarget(this.target_type=n);break;case"exclude":this.excludedItems=n instanceof Array?n:[n];break;case"tracking":this.tracking=n;break;case"referrer":this.referrer=n;break;case"user_opt_out":n&&"false"!=n&&"0"!=n?this.userOptOut=!0:this.userOptOut=!1}}},n.prototype.setupOVP=function(e){switch(e=e||{},this.getConfig(e,"video_source")||this.getConfig(e,"link_target")){case"brightcove":TRC.brightcove_support();break;case"ooyala":TRC.ooyala_support();break;case"kaltura":TRC.kaltura_support()}},n.prototype.getItemByMetaValue=function(e){for(var n=document.head.getElementsByTagName("meta"),t=0;t<n.length;t++)if(n[t].name==e)return n[t].content;return null},n.prototype.getItemByCanonicalValue=function(e,t){for(var s=document.head.getElementsByTagName("link"),n=0;n<s.length;n++)if("canonical"==s[n].rel)return t.call(this,e,s[n].href);return null},n.prototype.getItemByOgValue=function(e,t){for(var s=document.head.getElementsByTagName("meta"),n=0;n<s.length;n++)if("og:url"==s[n].getAttribute("property")&&s[n].content.length>5)return t.call(this,e,s[n].content);return null},n.prototype.getItemByLocationValue=function(e,t){return t.call(this,e,TRC.pageManager.getCurrentURL().toString())},n.prototype.getItemByParamUrl=function(t,n){return!e.trc_item_url||"item-id"!=t&&"item-url"!=t?null:n.call(this,t,e.trc_item_url)},n.prototype.getAutoItemMeta=function(t,n,s,o){var r,c,l,d=["paramUrl","meta","canonical","og","location"],u={paramUrl:"getItemByParamUrl",meta:"getItemByMetaValue",canonical:"getItemByCanonicalValue",og:"getItemByOgValue",location:"getItemByLocationValue"},i=this.global["url-extract-order"]?this.global["url-extract-order"]:d,a=0;for(i.push("location"),n=n?s.call(this,t,n):null;a<i.length&&TRC.util.isEmptyString(n);){c=i[a],r=this[u[i[a]]];try{n=r?r.call(this,t,s):null}catch(e){if(!this.global["tmp-catch-item-url-err"])throw new Error(e.message);n=""}a++}return"item-url"==t&&"getItemByParamUrl"==c?n:(l="getItemByLocationValue"!=c,n=o?o.call(this,n,e.trc_video_id?"video":"text",l):n)},n.prototype.sendEvent=function(e,t,n,s,o,i){var c=!1,a={ri:this.globaleRequestId,sd:TRC.pageManager.getPublisherValue(TRC.publisherId,"session-data"),ui:TRC.pageManager.getValue("user-id"),pi:this.getItemId(),wi:this.watchedItem?this.watchedItem:null,pt:this.getItemType(),vi:TRC.pageManager.getPageData()},r=function(){c||(c=!0,o&&o())};__trcCopyProps(t,a),s?(this.log1(e,a,n,r,this.placement),TRC.pConsole("page","info","event type : "+e+" - this event will be sent only once for the widget",a,"object")):(this.logTrcEvent(e,a,n,r),TRC.pConsole("page","info","sending event type : "+e,a,"object")),"number"==typeof i&&TRC.Timeout.set(r,i)},n.prototype.log=__trcLog,n.prototype.error=__trcError,n.prototype.warn=__trcWarn,n.prototype.info=__trcInfo,n.prototype.debug=__trcDebug,TRC.EVENT_PAGE_INTERACTIVE="trcPageInteractive",TRC.EVENT_PAGE_LOAD="trcPageLoad"}(window,document),function(t,n){TRC.implClasses=TRC.implClasses||{};var s=TRC.implClasses.TRCRBox=function(e,t,n){return this.fixHeight=t.height,this.domain=n.domain,this.origin=e,this.header=!1,this.id="trc_"+Math.floor(1e5*Math.random()),this.response=this.request=null,__trcCopyProps(t,this),this.loaded=!!this.loaded&&this.loaded,this.element=null,this.listContainer=null,this.retryCount=0,this.drawList=!1,this.forceItemType=!1,this.trc=n,this.util=TRC.util,this.timeoutId=null,this.errorHandler="",this.boxes=[],this.visible_boxes={},this.synd_visible_boxes={},this.network_visible_boxes={},this.native_visible_boxes={},this.recommendationList=null,this.autoPlayer=null,this.use_cdn=this.trc.getProperty(this.mode_name,"use-cdn-recommendations")===!0,this.postRenderQueue=new TRC.PostRenderQueue,this.pager=null,this.src=null,this.fullEventItemsHash={},this.isCssImportant=this.trc.getProperty(this.mode_name,"use-css-important"),this.publisher=TRC.publisherId,this.auto_scroll_interval=null,this.auto_scroll=null,this.smallIOSDevice=this.trc["small-ios-device"]||"iPhone|iPod",this.isSmallIOS=this.smallIOSDevice.indexOf(TRC.Device.deviceType)>=0,this.iosLinkTarget=this.trc.getProperty(this.mode_name,"ios-sc-link-target-mode")||this.trc.global["ios-sc-link-target"],this.defaultLinkTarget=this.trc.global["link-target-conf"]||{NAV:"_self",NT:"_blank",SP:"_blank"},this.linkTargetConf=this.isSmallIOS&&this.iosLinkTarget?this.iosLinkTarget:this.trc["link-target-conf"],this.ntHandlerEnabled=this.trc.global["publisher-onclick-nt-enabled"],this.organicRedirParam=this.trc.global["organic-redirect-param"],this.shiftRedirOnclick=this.trc.global["shift-redir-onclick"],this.useRedirect=this.trc.global["enable-organic-redirect"],this.useRedirectOnLink=this.trc.global["use-redirect-on-link"],this.adcItemTypes=this.trc.global["adchoice-item-types"]||{"is-organic":!1,"is-in-network":!1,"is-syndicated":!0,"is-native":!0},this.sendClickPiggyBack=this.trc.global["send-pb-in-click"],this.sendModeDebugData=this.trc.global["send-debug-mode"],this.lazyImageLoadMethdos={PAGE_LOAD:"regLazyImageLoadOnPageLoad",PAGE_INTERACTIVE:"regLazyImageLoadOnPageInteractive",RBOX_VISIBLE:"regLazyImageLoadOnRboxVisibile"},this.reqParams={"item-type":this.trc.getItemType(),"item-id":this.trc.getItemId()},this},i="data-img-src",a="https://images.taboola.com/taboola/image/fetch/f_jpg%2Cq_80%2Ch_{h}%2Cw_{w}%2Cc_fill%2Cg_faces%2Ce_sharpen/",o=TRC.PROTOCOL;s.prototype.DEFAULT_THUMB_RATIO=.8,s.prototype.genRBoxURL=function(){if(t.trc_testmode)return this.getRetryUrl("static-preview");var e,n={};return n[this.placement]=this,e=this.trc.formatTRCRequest(n,this.forceItemType),e.cb=this.trc.genCallback(this.loadScriptCallback.trcBind(this)),o+"//"+this.domain+"/"+escape(TRC.publisherId)+"/trc/3/json?tim="+escape(__trcClientTimestamp())+(this.trc.trcByPass?"&trc_skip_failover=yes&":"&")+"data="+encodeURIComponent(__trcJSONify(e))+TRC.pageManager.additionalDispatchParams()+(t.trc_debug_level>1?"&llvl="+t.trc_debug_level:"")},s.prototype.getListId=function(){return this.visible?"rbox-"+this.origin:"rbox-tracking"},s.prototype.getItemType=function(){return this.forceItemType?this.forceItemType:this.trc.getItemType()},s.prototype.generateRDiv=function(){var e=document.createElement("div");return e.id=this.getListId(),e.className="trc_rbox_div trc_rbox_border_elm","none"!=this.element.style.display&&(e.style.display="none"),e.style.overflowX="hidden",e.style.overflowY="hidden",e},s.prototype.generateHeader=function(e){var t=document.createElement("div"),n=document.createElement("span"),s=this.trc.getProperty(this.mode_name,"header"),o=this.trc.getProperty(this.mode_name,"header-right"),i="No Header"!=o;return t.id=this.id.replace("trc_","trc_header_"),t.className="trc_rbox_header trc_rbox_border_elm",n.className="trc_rbox_header_span",t.ext=document.createElement("div"),t.ext.className="trc_header_ext",t.appendChild(t.ext),i?(this.generateHeaderPart(n,s,"trc_header_left_column trc_header_left_part"),this.generateHeaderPart(n,o,"trc_header_right_column trc_header_right_part")):n.innerHTML="No Header"!=s?s:"",t.titleBox=n,t.appendChild(n),e&&e.appendChild(t),t},s.prototype.generateHeaderPart=function(e,t,n){var s=document.createElement("span");s.className="trc_inner_header "+(n||""),s.innerHTML=t,e.appendChild(s)},s.prototype.render=function(e){var t=this.trc.getProperty(this.mode_name,"auto-scroll");this.element=document.createElement("div"),this.element.id=this.id.replace("trc_","trc_wrapper_"),this.element.className="trc_rbox "+this.mode_name,this.element.style.overflow="hidden","undefined"!=typeof t&&"none"!=t&&(this.element.onmouseover=function(){null!=this.auto_scroll_interval&&TRC.Interval.clear(this.auto_scroll_interval)},this.element.onmouseout=function(){"function"==typeof this.auto_scroll&&(null!=this.auto_scroll_interval&&TRC.Interval.clear(this.auto_scroll_interval),this.auto_scroll_interval=TRC.Interval.set(this.auto_scroll,parseInt(t)))}),e.appendChild(this.element),this.element.style.display="none",this.trc.getProperty(this.mode_name,"has-expand-animation")===!0&&new TRC.ExpandAnimationManager(this)},s.prototype.generateVisibleParts=function(){if(null==this.listContainer){this.header=this.generateHeader(),"object"==typeof this.header&&this.element.appendChild(this.header);var e=document.createElement("div");e.id=this.id.replace("trc_","outer_"),e.className="trc_rbox_outer",e.style.overflow="hidden",this.listContainer=this.generateRDiv(),e.appendChild(this.listContainer),this.element.appendChild(e),this.element.style.display="block",this.trc.global["disclosure-enabled"]===!0?this.addTaboolaLogo():this.addTaboolaLogoNoDisclosure()}},s.prototype.getRetryUrl=function(e){var t=o+"//cdn.taboola.com/libtrc/"+TRC.publisherId+"/";return"preview"==e?t+"trc-"+e+".js":t+"trc-"+this.getListId()+"-"+e+".js"},s.prototype.check_preview_size_error=function(e,t){var n=t.trc["video-list"].video;return n instanceof Array||(n=[n]),e!=this.getRetryUrl("preview")&&n.length<10&&(this.src=this.getRetryUrl("preview"),!0)},s.prototype.setTargetItemsList=function(e,t,n){for(var s=0,o=t.length;o>s;s++)e[t[s]["item-id"]]={tii:t[s]["item-id"],tipt:this.getProviderType(t[s]),tit:t[s].type,tids:n}},s.prototype.getJsonTargetItemsList=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return{fil:__trcJSONify(n)}},s.prototype.getProviderType=function(e){return e["is-syndicated"]?"SP":e["is-in-network"]?"NT":e["is-native"]?"NAV":"RC"},s.prototype.isReadMoreDevice=function(e){for(var n=e.split("|"),s={smart_phone:TRC.dom.isSmartPhone(),tablet:TRC.dom.isTablet(),desktop:TRC.dom.isDesktop()},t=0;t<n.length;t++){if("all"===n[t])return!0;if(s[n[t]])return!0}return!1},s.prototype.getReadMoreConfig=function(){var e=this.trc.getProperty(this.mode_name,"read-more-config")||{};return e.boxSelector=this.trc.getProperty(this.mode_name,"read-more-box-selector"),e},s.prototype.loadScriptCallback=function(e){var i,a,r,l,d,u,h,o="TRCRBox.loadScriptCallback(retry="+this.retryCount+")",n=e.trc,m=this.response&&this.response.trc.DNT&&"TRUE"===this.response.trc.DNT.toUpperCase(),f=this.trc.global["has-userx"],c=TRC.TRCParser,p=TRC.Device.isTouchDevice,s=null;if(this.sendModeDebugData&&(s=this.getModeDebugData("object")),__trcDebug("Enter "+o),this.abortRequest(),this.utm=this.requestTime&&[this.requestTime,(new Date).getTime()-TRC.utm.start],r=!!t.trc_testmode,n.vl&&n.vl.length)return TRC.pConsole("recommendations","info","recommendations response",e,e.trc.verbose?"verbose":"object"),this.timeoutId&&(TRC.Timeout.clear(this.timeoutId),this.timeoutId=null),this.trc.parseResponse(e),void(this.trc.preloadRequest[this.placement].dc?this.trc.preloadRequest[this.placement].dc.renderAd(this):this.loadScriptCallback(this.trc.preloadRequest[this.placement].response));if(!n||!n["video-list"]||!n["video-list"].video)return __trcError("Exit "+o+": pv2 format error"),this.use_cdn||r?(this.src=this.getRetryUrl(r?"preview":"error"),this.getData()):this.abortRendering(),void this.sendEvent("available",this.createUtmParam(),s,!0);if(r&&this.check_preview_size_error(this.src,e))return __trcDebug("Exit "+o+": preview with not enough items"),this.getData(),void this.sendEvent("available",this.createUtmParam(),s,!0);if(TRC.pageManager.storePublisherValue(TRC.publisherId,"session-data",n["session-data"]),e.trc.DNT&&"TRUE"===e.trc.DNT.toUpperCase()?TRC.pageManager.removeKey("user-id"):TRC.pageManager.storeValue("user-id",n["user-id"]),"rbox-tracking"!=this.getListId()&&"undefined"==typeof this.trc.modes[this.mode_name])return __trcError("TRCRBox.loadScriptCallback: Mode name '"+this.mode_name+"' doesn't exist in configuration file "),void this.sendEvent("available",this.createUtmParam(),s,!0);if(this.drawList)return __trcWarn("Exit "+o+": got another response after already drawing"),void this.sendEvent("available",this.createUtmParam(),s,!0);if(this.response=e,this.setTargetItemsList(this.fullEventItemsHash,n["video-list"].video,"a"),this.sendEvent("available",this.createUtmParam(),this.util.merge(this.getJsonTargetItemsList(this.fullEventItemsHash),s),!0),n["video-list"].video.length<1)return __trcWarn("Exit "+o+": no items in response"),void this.abortRendering();if(this.recommendationList=n["video-list"].video,this.itemsTypes=this.getItemsTypesList(this.recommendationList),this.hasSyndicatedContent=this.hasSyndicated(this.itemsTypes),this.privacyId=this.getPrivacyId(this.recommendationList),this.orig_name=this.mode_name,this.orig_placement=this.placement,a=c.parseTestVariant(n),null!==a&&(i=c.parseABModeName(this.mode_name,n),TRC.pConsole(this.mode_name,"info","test variant = "+a,i),"undefined"!=typeof this.trc.modes[i]?(this.trc.cssReset&&this.switchCSSResetDivIds(this.mode_name,i),this.mode_name=i,this.element.className="trc_rbox "+this.mode_name):this.trc.global["send-variant-warning"]&&__trcWarn("variant -  "+a+" : has no configuration. using fallback - "+this.mode_name),c.hasVariantMismatch(n)&&this.trc.global["send-variant-warning"]&&__trcWarn("UI variant mismatch detected for publisher={pub}, page type={page}, UI mode={mode}, pacement={placement}. Using header variant resulted with variant={header}, Using per widget variant resulted with variant={widget}.".replace("{pub}",TRC.publisherId).replace("{page}",this.trc.getItemType()).replace("{mode}",this.mode_name).replace("{placement}",this.placement).replace("{header}",e&&e["test-variant"]||"").replace("{widget}",e&&e["video-list"]&&e["video-list"]["test-variant"]||""))),u=this.trc.getProperty(this.mode_name,"auto-size"),d="none"!=this.trc.getProperty(this.mode_name,"thumbnail-position"),l=this.trc.getProperty(this.mode_name,"mode-has-userx"),this.useNativeLineClamp=TRC.Browser.compatibility.lineClamp&&!this.trc.getProperty(this.mode_name,"details-inline-with-title")&&this.trc.getProperty(this.mode_name,"use-browser-line-clamp"),this.isWCTextLinks="autowidget-template-text-links"==this.trc.getProperty(this.mode_name,"widget-creator-layout"),this.isResponsive=this.trc.getProperty(this.mode_name,"mode-is-responsive"),TRC.pConsole(this.mode_name,"info","has user X = "+l,""),__trcDebug("Exit "+o+": success"),this.drawList=!0,this.hasReadMore=this.trc.global["enable-read-more"]!==!1&&this.trc.getProperty(this.mode_name,"enable-read-more"),this.isReadMoreDebug=this.trc.global["read-more-debug"]||this.trc["read-more-debug"],this.readMorePageConfig=this.read_more||{},this.readMoreConfig=this.getReadMoreConfig(),this.hasReadMore&&this.isReadMoreDevice(this.trc["read-more-devices"])&&TRC.setReadMore(this),this.isResponsive&&!this.isWCTextLinks?(this.generateResponsiveOuters(this.element),this.drawResponsiveList(n)):(u&&this.container&&0==this.container.clientWidth&&(this.container.style.width="100%"),this.generateVisibleParts(),this.drawListBody(n)),"1"!=this.response.trc.sl||TRC.Device.isTouchDevice){if(l&&f&&d&&!m&&!TRC.Browser.ieUpto(8)&&!p&&(!this.trc.preloadRequest||!this.placement||!this.trc.preloadRequest[this.placement]||!this.trc.preloadRequest[this.placement].spotlight)){if(!TRC.userX.isInitialized)try{TRC.userX.init(this.trc.language)}catch{__trcDebug("failed to init Taboola Choice")}try{TRC.userX.initForMode(this)}catch{__trcDebug("failed to init Taboola Choice for mode "+this.mode_name)}}}else h=document.trcGetParentByClassName(this.getContainer(),"trc_related_container"),__trcDebug("Detected Spotlight Administrator("+this.response.trc.pi+")"),h.setAttribute("data-spotlight-publisher-id",this.response.trc.pi),TRC.backstageDomainPrefix=this.response.trc.bdp,this.trc.loadSpotlight();(this.slider===!0||this.trc.getProperty(this.mode_name,"slider")===!0)&&new TRC.SliderManager(this)},s.prototype.switchCSSResetDivIds=function(e,t){var s,o=TRC.modesCache[e]?TRC.modesCache[e].cssDivsArr:[],i=TRC.modesCache[t]?TRC.modesCache[t].cssDivsArr:[],a=o.length;try{for(s=0;a>s;s++)n.getElementById(o[s]).id=i[s]}catch(e){__trcError("TRCRBox.prototype.switchCSSResetDivs : ",e.message)}},s.prototype.loadFailureHandler=function(){TRC.pConsole(this.mode_name,"debug","handleing TRC request failure","");var e="TRCRBox.loadFailureHandler(retry="+this.retryCount+")";if(__trcDebug("Enter "+e),!this.request)return void __trcDebug("Exit "+e+": request was aborted");if("object"==typeof window.trc_json_response)return __trcWarn("Exit "+e+": old style response"),this.loadScriptCallback(window.trc_json_response),void delete window.trc_json_response;if(this.abortRequest(),this.response||this.dc)return void __trcDebug("Exit "+e+": response already received");if(t.trc_testmode)this.src=this.getRetryUrl("preview"),__trcDebug("Exit "+e+": preview");else{if(!this.use_cdn)return __trcError("Aborting on error due to use-cdn=false",null),void this.abortRendering();this.src=this.getRetryUrl("error"),__trcWarn("Exit "+e+": retrying with "+this.src.split("/")[2].split(".")[0].toUpperCase())}this.getData()},s.prototype.abortRequest=function(){this.timeoutId&&(TRC.Timeout.clear(this.timeoutId),this.timeoutId=null),this.request&&(this.request.parentNode.removeChild(this.request),this.request=null)},s.prototype.sendRequest=function(){var t,e="TRCRBox.sendRequest(retry="+this.retryCount+")";if(__trcDebug("Enter "+e),this.response)return __trcDebug("Exit "+e+": already have response"),void this.loadScriptCallback(this.response);if(this.loadRBoxRequestFailed){if(!this.use_cdn)return __trcError("loadRBox failed and not using CDN, aborting."),void this.abortRendering();this.retryCount++,this.src=this.getRetryUrl("error")}t=this.trc.getProperty(this.mode_name,"timeout")||8e3,this.timeoutId=TRC.Timeout.set(function(){return this.timeoutHappened=this.timeoutHappened+1||1,this.use_cdn?(this.abortRequest(),this.src=this.getRetryUrl("timeout"),__trcWarn("Called TRCRBox.sendRequest.timeout("+this.timeoutHappened+"): retrying with "+this.src.split("/")[2].split(".")[0].toUpperCase()),void this.getData()):void __trcError("Timedout waiting for server but not aborting")}.trcBind(this),t),this.response=null;try{this.requestTime=(new Date).getTime()-TRC.utm.start,this.request=this.trc.loadExternal(this.src,"js",this.loadFailureHandler.trcBind(this),!0)}catch(t){return void __trcError("Exit "+e+": error in loadExternal",t)}__trcDebug("Exit "+e+": success")},s.prototype.abortRendering=function(){var e="TRCRBox.abortRendering(retry="+this.retryCount+")";switch(__trcDebug("Called "+e),this.drawList=!0,typeof this.errorHandler){case"string":return 0[0];case"function":return void this.errorHandler()}},s.prototype.getData=function(){this.loaded=!0,this.retryCount++;var e="TRCRBox.getData(retry="+this.retryCount+")";return __trcDebug("Enter "+e),this.cdnEventHandler||(this.cdnEventHandler=TRC.listen("staticRecommendationsReceived",function(e){this.response||this.loadScriptCallback(e.response)}.trcBind(this))),this.retryCount>this.trc.MAX_RETRY?(__trcError("Exit "+e+": max retry - last call was to "+this.src.split("/")[2].split(".")[0].toUpperCase()),void this.abortRendering()):(TRC.dom.onReady(this.sendRequest.trcBind(this),!TRC.Browser.ie),void __trcDebug("Exit "+e+": success"))},s.prototype.getContainer=function(){return this.element.parentNode},s.prototype.sendEvent=function(e,t,n,s,o,i){var c=!1,a={ri:this.response?this.response.trc.req:null,sd:TRC.pageManager.getPublisherValue(TRC.publisherId,"session-data"),ui:TRC.pageManager.getValue("user-id"),pi:this.trc.getItemId(),wi:this.response?this.response.trc["watched-item"]:null,pt:this.getItemType(),vi:TRC.pageManager.getPageData(),li:this.getListId()},r=function(){c||(c=!0,o&&o())};(this.trc.global["tmp-use-pb-params"]&&this.trc.configForPostEvent[e]||"click"===e&&this.sendClickPiggyBack)&&(this.response.trc&&this.response.trc.ppb&&(t.ppb=this.response.trc.ppb),this.response.trc&&this.response.trc.cpb&&(t.cpb=this.response.trc.cpb)),"click"==e&&"nt"==t.prt&&(a={}),__trcCopyProps(t,a),s?(this.trc.log1(e,a,n,r,this.placement),TRC.pConsole(this.mode_name,"info","event type : "+e+" - this event will be sent only once for the widget",a,"object")):(this.trc.logTrcEvent(e,a,n,r),TRC.pConsole(this.mode_name,"info","sending event type : "+e,a,"object")),"number"==typeof i&&TRC.Timeout.set(r,i)},s.prototype.load=function(e,t){if(!this.loaded){this.trc.preloadRequest=this.trc.preloadRequest||{},"object"==typeof t&&"undefined"==typeof this.trc.preloadRequest[t.placement]&&(t.pv2=!0,this.trc.preloadRequest[t.placement]=t);var n=this.trc.getItemId(),s="undefined"!=typeof n&&n!=null&&0!=n.length;s?(this.src=this.genRBoxURL(),this.errorHandler=e,this.getData()):this.loaded=!0}},s.prototype.updateRecommendations=function(e){return this.retryCount=0,this.drawList=!1,this.loadRBoxRequestFailed=!1,this.response=null,this.forceItemType=e,this.reqParams={"item-type":this.trc.getItemType(),"item-id":this.trc.getItemId()},this.timeoutId&&(TRC.Timeout.clear(this.timeoutId),this.timeoutId=null),this.loaded=!1,this.trc.renderRBox(this),!0},s.prototype.isVisible=function(e){function o(e,t){return!(!e.parentNode||e.parentNode==document.documentElement&&e!=t)&&(e==t||o(e.parentNode,t))}e=e||this.container;var t=e.getBoundingClientRect(),n=t.left+Math.round((t.right-t.left)/2),s=t.top+Math.round((t.bottom-t.top)/2),a="CSS1Compat"===document.compatMode&&document.documentElement.clientWidth||document.body.clientWidth,r="CSS1Compat"===document.compatMode&&document.documentElement.clientHeight||document.body.clientHeight,i=TRC.Browser.operaUpto(10.1)||TRC.Browser.safariUpto(4)?document.elementFromPoint(n+document.body.scrollLeft,s+document.body.scrollTop):document.elementFromPoint(n,s);return n>0&&a>n&&s>0&&r>s&&i&&o(i,e)},s.prototype.visible_items_collection=function(){var e,t,n,s=0;for(t=0;t<this.boxes.length;t++)e=this.boxes[t].video_data,n=this.fullEventItemsHash[e["item-id"]],this.isVisible(this.boxes[t])?(e["is-syndicated"]?this.synd_visible_boxes[e["item-id"]]={id:e["item-id"],type:e.type,publisher:e.publisher}:e["is-in-network"]?this.network_visible_boxes[e["item-id"]]={id:e["item-id"],type:e.type,publisher:e.publisher}:e["is-native"]?this.native_visible_boxes[e["item-id"]]={id:e["item-id"],type:e.type,publisher:e.publisher}:this.visible_boxes[e["item-id"]]={id:e["item-id"],type:e.type},n.tids="vp",s++):"vp"!=n.tids&&(n.tids="nvp");return s},s.prototype.clearChilds=function(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild)},s.prototype.hasSyndicated=function(e){for(var t,n=0;t=e[n];n++)if(t["is-syndicated"]||t["is-in-network"]||t["is-native"])return!0;return!1},s.prototype.rePositionDurationElement=function(e,t,n){TRC.Browser.ieUpto(6)?(e.style.marginLeft=t/2-3+"px",e.style.top=n/2-15+"px"):7===TRC.Browser.ie?(e.style.left=t-3+"px",e.style.top=n-15+"px"):(e.style.marginLeft=t-3+"px",e.style.top=n-15+"px")},s.prototype.getFirstVideoItem=function(e){var t,n=e.boxes,s=null;for(t=0;t<n.length;t++)if(!n[t].isSyndicated){s=n[t].video_data;break}return s},s.prototype.hasDuration=function(){for(var e,n=this.trc.getProperty(this.mode_name,"detail-order").split(","),t=0;e=n[t];t++)if("duration"==e)return!0;return!1},s.prototype.cleanStyleDimensions=function(e){var t=null;try{__trcDOMWalker(e,function(e){e.style.cssText&&(e.style.width="",e.style.height=""),-1!==(e.className+"").indexOf("video-duration")&&(t=e)})}catch{}return t},s.prototype.createBillboard=function(){var e,t=__trcGetElementsByClass("trc_rbox_outer","div",this.element)[0];return t?(e=document.createElement("div"),this.billboard=e,e.className="trc_billboard",e.style.width="auto",t.parentNode.insertBefore(e,t),t.style.clear="both",e):null},s.prototype.checkForBlocking=function(){var e,n,s,o,i,l,d,u,t="",a=[],r=[],c=[];for(s=0;e=this.boxes[s];s++){try{o=e.video_data["is-in-network"]||e.video_data["is-native"],o||(l=e.video_data["is-syndicated"])}catch{}n=o?r:l?c:a,e&&1===e.nodeType&&e.childNodes.length?(i=document.trcGetCurrentStyle(e,"-moz-binding"),u=document.trcGetCurrentStyle(e,"orphans"),d=document.trcGetCurrentStyle(e,"visibility"),"hidden"!=d&&("none"==document.trcGetCurrentStyle(e,"display")?("4321"==document.trcGetCurrentStyle(e,"orphans")&&(t=t||"adblockplus"),n.push(1)):i&&"none"!=i&&(t=t||"adblockplus",n.push(1)))):n.push(1)}(a.length||c.length||r.length)&&__trcWarn("blocked:"+a.length+"-"+r.length+"-"+c.length+"-"+(t||"unknown"))},s.prototype.createEmbedThumb=function(e){var n,i,r,s=this["player-container-id"]&&document.getElementById(this["player-container-id"]),d=this.trc.getProperty(this.mode_name,"player-detail-order"),a=document.createElement("DIV"),o=this.trc.getProperty(this.mode_name,"render-player-info"),u=this,c=this.trc.getProperty(this.mode_name,"player-thumbnail-height")||300,l=this.trc.getProperty(this.mode_name,"player-thumbnail-width")||400;return(e=e||this.getFirstVideoItem(this))?(s=s||this.createBillboard())?(s.innerHTML="",s.className+=" "+this.mode_name,s.hasDuration=this.hasDuration(),a.style.height="100%",a.style.cssFloat="left",a.className="playerCube",s.appendChild(a),n=this.drawVideoBox(e,s.hasDuration,d,"top"),a.appendChild(n),i=n.getElementsByTagName("A"),o?n.fixTextOverflow():i[1]&&i[1].parentNode.removeChild(i[1]),0[0]):void __trcError("Can't find container element for createEmbedThumb!"):void __trcError("outerbox.js: video item was not found")},s.prototype.setImageLoad=function(e,t,n,s,i,a){var r=null,c=!1;if(this.imageOptimizePrefix||(this.imageOptimizePrefix=this.getImageOptimizationUrl()))if(c=this.isHiddenItem(t),r=this.getContainerDim(i,t,c))n=this.getImageOptimizePrefix(n,this.imageOptimizePrefix,r)+(this.trc.global["tmp-image-utf8-encode"]?encodeURIComponent(n):escape(n));else if(s)return void TRC.Timeout.set(this.setImageLoad.trcBind(this,e,t,n,s--,i,a),50);t.img_src=n=TRC.URL.prototype.switchProtocol.call(n,o),a?this.setLazyImageLoad(e,n):e.src=n},s.prototype.getImageOptimizationUrl=function(){var t,e=this.trc.getProperty(this.mode_name,"image-url-prefix")||this.trc.global["image-url-prefix"]||a,n=this.trc.global["images-host"],s=this.trc.getProperty(this.mode_name,"images-radius");return n&&n.length>2&&(t=new TRC.URL(e),t.host=n,e=t.toString()),this.trc.getProperty(this.mode_name,"use-dpr-images")&&TRC.dom.isHighDensity()&&(e=e.replace(/fetch\//,"fetch/dpr_2.0%2C")),s&&"0"!=s&&(e=e.replace(/f_jpg(%2C)?/,""),e=e.replace(/fetch\//,"fetch/f_png%2Cr_"+s+"%2C")),e},s.prototype.isHiddenItem=function(e){return"none"===n.trcGetCurrentStyle(e,"display",null)},s.prototype.getContainerDim=function(e,t,n){var s,o,i=100;if(n){if(this.cachedImageDim)return this.cachedImageDim}else if(s=TRC.dom.getElementRect(e),o=Math.ceil(s.right-s.left))return i=Math.ceil(s.bottom-s.top||this.getAspectHeight(t)||o*this.getThumbAspectRatio(this.trc.modes[this.mode_name],"ratio")||i),this.cachedImageDim={width:o,height:i};return null},s.prototype.getAspectHeight=function(e){var t;return e.thumbnail_aspect?(t=TRC.dom.getElementRect(e.thumbnail_aspect),t.bottom-t.top):0},s.prototype.getImageOptimizePrefix=function(e,t,n){var c=this.trc.getProperty(this.mode_name,"image-size-factor")||1,l=this.trc.getProperty(this.mode_name,"image-min-width")||110,o=this.trc.getProperty(this.mode_name,"image-size-round")||10,d=this.trc.getProperty(this.mode_name,"image-max-ratio")||5,s=Math.ceil(Math.max(n.width*c,l)/o)*o,i=n.height/n.width,a=Math.ceil(s*n.height/n.width),r=this.isInNormalDimension(s)?s:Math.min(this.trc.getProperty(this.mode_name,"image-max-dimension"),Math.ceil(this.trc.getProperty(this.mode_name,"image-max-dimension")*i)),u=this.isInNormalDimension(a)?a:Math.ceil(r*Math.min(i,d));return t=t.replace("{w}",Math.ceil(r).toString()).replace("{h}",Math.ceil(u).toString())},s.prototype.isInNormalDimension=function(e){var t=this.trc.getProperty(this.mode_name,"image-min-dimension")||100,n=this.trc.getProperty(this.mode_name,"image-max-dimension")||600;return e>t-1&&n+1>e},s.prototype.setLazyImageLoad=function(e,t){e.setAttribute(i,t)},s.prototype.setLazyImageLoadMethod=function(){var e,t=this.trc.global["thumb-lazy-load-method"]?this.trc.global["thumb-lazy-load-method"].split(","):[],n=0,s=t.length;for(e=0;s>e;e++)this.lazyImageLoadMethdos[t[e]]&&(n=1,this[this.lazyImageLoadMethdos[t[e]]]());if(!n)for(e in this.lazyImageLoadMethdos)this.lazyImageLoadMethdos.hasOwnProperty(e)&&this[this.lazyImageLoadMethdos[e]]()},s.prototype.regLazyImageLoadOnPageInteractive=function(){var e=TRC.EVENT_PAGE_INTERACTIVE;TRC.listen(e,this.lazyImageLoader.trcBind(this)),TRC.isInteractive&&TRC.dispatch(e,0[0])},s.prototype.regLazyImageLoadOnPageLoad=function(){var e=TRC.EVENT_PAGE_LOAD;TRC.listen(e,this.lazyImageLoader.trcBind(this)),TRC.isPageLoaded&&TRC.dispatch(e,0[0])},s.prototype.regLazyImageLoadOnRboxVisibile=function(){var e=this.trc.global["thumb-lazy-load-space"]||100;this.isInViewPort(this.container,e)&&this.lazyImageLoader.trcBind(this)},s.prototype.isInViewPort=function(e,t){var n=this.getMinViewPortOffsets(this.container);return!(0>n&&(n<0?-n:n)>t)},s.prototype.lazyImageLoader=function(){var e,t,n=this.thumbnailImageStack||this.container.getElementsByTagName("img"),s=n.length;if(this.imagesLazyLoaded)this.imagesLazyLoaded=!0;else for(e=0;s>e;e++)t=n[e].getAttribute(i),t&&(n[e].src=t)},s.prototype.createUtmParam=function(){return{utm:TRC.utm.join(",")+(this.utm?","+this.utm.join(","):"")}},s.prototype.getMinViewPortOffsets=function(e){var t=TRC.visibility.getViewPortOffsets(e);return t.verticalOffset<0&&t.horizontalOffset<0?Math.max(t.verticalOffset,t.horizontalOffset):Math.min(t.verticalOffset,t.horizontalOffset)},s.prototype.drawListBody=function(e){function S(elm){var p,newVal,oldVal=parseInt(document.trcGetCurrentStyle(elm,"height"));if(oldVal!=oldVal)return!0;with(p=document.createElement("span"),p.style)display="block",height="10px",width="10px";return elm.appendChild(p),newVal=parseInt(document.trcGetCurrentStyle(elm,"height")),elm.removeChild(p),newVal!=oldVal}function A(e,t){e.style.height=t+"px";for(var n=0;e.clientHeight>t;)e.style.height=t-++n+"px"}if("object"==typeof e){if(this.element.offsetTop<=0&&this.element.offsetWidth<=0)return void TRC.Timeout.set(this.drawListBody.trcBind(this,e),1e3);t._tblConsole=t._tblConsole||[],TRC.pConsole(this.mode_name,"debug","start drawing widget",""),o=this.listContainer,this.boxes=[],x=0,l=this.trc,(this.navigationType=l.getProperty(this.mode_name,"navigation-type"),this.trc.calculateAutoSizeParameters(this),this.element.className+=this.autoSize?" trc-auto-size":"",this.isWCTextLinks&&(this.isClassFilter=TRC.Browser.ieUpto(8),this.isClassFilter?TRC.listen("IE_ClassShift",this.fixWCTextLinksVideoBoxes.trcBind(this)):TRC.dom.on(t,"resize",this.fixWCTextLinksVideoBoxes.trcBind(this).trcThrottle(500)),TRC.listen("videoCubeChange",this.fixWCTextLinksVideoBoxes.trcBind(this)),this.isResponsive))&&(g="trc_tl_responsive",k=n.trcGetParentByClassName(this.getContainer(),"trc_related_container"),TRC.dom.addClass(k,g+" "+g+"_"+this.id),this.setResponsiveRules(g+"_"+this.id,this.recommendationList.length));for(var s,o,i,a,r,c,l,d,u,h,m,g,v,b,j,_,w,O,x,C,k,E=!1,f=this.trc.getProperty(this.mode_name,"detail-order"),p=this.orientation=this.trc.getProperty(this.mode_name,"orientation"),f=f.split(","),y=0;y<f.length;y++)"duration"==f[y]&&(E=!0);h=0,this.exploreTimeoutId=null,"undefined"!=typeof this.trc.global&&(h=this.trc.global["explore-delay"]?this.trc.global["explore-delay"]:h),r=this,this.container.onmouseover=function(e){var n=null;t.event?n=t.event.srcElement:e&&(n=e.target),n!=this.container&&null!=this.exploreTimeoutId||n==this.container&&null!=this.exploreTimeoutId||(this.exploreTimeoutId=TRC.Timeout.set(function(){this.exploreTimeoutId&&(TRC.Timeout.clear(this.exploreTimeoutId),this.exploreTimeoutId=null),this.sendEvent("explore",{},null,!0,null,null)}.trcBind(this),h))}.trcBind(this),0!=h&&(this.container.onmouseout=function(e){e=e||t.event;var n=this.container.getBoundingClientRect();e.clientX>=n.left&&e.clientX<n.right&&e.clientY>=n.top&&e.clientY<n.bottom||this.exploreTimeoutId&&(TRC.Timeout.clear(this.exploreTimeoutId),this.exploreTimeoutId=null)}.trcBind(this)),i=document.createElement("div");for(i.id="internal_"+this.id;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(i),("none"==o.style.display||"none"==o.parentNode.style.display)&&(this.listContainer.style.display="block",this.listContainer.parentNode.style.display="block"),b={},__trcCopyProps(e,b),delete b["video-list"],i.meta=b,this.firstVideo=null,j=this.isResponsive?this.recommendationList.length:l.getProperty(this.mode_name,"list-size"),j=Math.min(j,this.recommendationList.length),"horizontal"==p?(o.style.overflowY="hidden",o.style.overflowX="auto",i.style.width="5000px"):(o.style.overflowX="hidden",o.style.overflowY="auto");for(a=0;j>a;a++){d=this.recommendationList[a],d.itemIndex=a,null==this.firstVideo&&"video"==d.type&&(this.firstVideo=d);try{this.trc.getFunction(this.mode_name,"item-data-filter",d),s=this.drawVideoBox(d,E),(a>=this.recommendationList.length/2&&this.isWCTextLinks&&!this.isResponsive&&(s.className+=" trc_tl_right_col"),"vertical"==p)&&(_=document.createElement("div"),_.style.clear="both",s.appendChild(_)),i.appendChild(s),"scrolling"!=this.navigationType?(w=this.trc.getProperty(this.mode_name,"thumbnail-position"),(this.rows>1&&this.autoSize&&("top"==w||"bottom"==w)&&(this.itemMaxHeight=this.itemMaxHeight?this.itemMaxHeight<s.clientHeight?s.clientHeight:this.itemMaxHeight:s.clientHeight),s.offsetHeight>o.offsetHeight)&&(C=s.offsetHeight-o.offsetHeight,s.style.height=parseInt(document.trcGetCurrentStyle(s,"height"))-C+"px"),i.removeChild(s)):(s.fixTextOverflow(),"undefined"==typeof s.image_div?s.thumb.appendChild(s.img):(s.thumb.appendChild(s.image_div),s.image_div.appendChild(s.img)),this.trc.global["use-delay-image-load"]?TRC.Timeout.set(this.setImageLoad.trcBind(this,s.img,s,s.img_src,100,s.thumb,this.trc.global["thumb-lazy-load-switch"]),10):this.setImageLoad(s.img,s,s.img_src,100,s.thumb,this.trc.global["thumb-lazy-load-switch"]),O=parseInt(document.trcGetCurrentStyle(s,"margin-right")),x=s.clientWidth+s.offsetLeft+(O!=O?0:O),"horizontal"==p&&S(s)&&A(s,o.offsetHeight)),this.boxes.push(s)}catch(e){__trcError("Error in drawVideoBox",e)}}"scrolling"!=l.getProperty(this.mode_name,"navigation-type")?(i.style.width="auto",c=r.drawPager(),v=l.getProperty(r.mode_name,"auto-scroll"),"undefined"!=typeof v&&"undefined"!=typeof c&&c!=null&&"none"!=v&&(r.auto_scroll=function(){var e=0;for(a=0;a<c.pages.length;a++)if(c.pages[a]==c.current&&a!=c.pages.length-1){e=++a;break}c.pages[e].page_switch()},null!=r.auto_scroll_interval&&TRC.Interval.clear(r.auto_scroll_interval),r.auto_scroll_interval=TRC.Interval.set(r.auto_scroll,parseInt(v)))):(i.style.width=x+"px",TRC.Browser.ieUpto(6)&&1.1*o.parentNode.parentNode.clientWidth<o.clientWidth&&(o.style.width="99%"),function(e){if(!(o["client"+e]+1>=o["scroll"+e])){if(TRC.Browser.ie&&TRC.Browser.ie<8)return o.style[e.toLowerCase()]=i["client"+e]+18+"px",0[0];t=Math.floor(Math.max(1,o["scroll"+e]-o["client"+e])),t-=Math.max(0,o["scroll"+e]-o.parentNode["scroll"+e]);var t,n=parseInt(o.style[e.toLowerCase()]),s=Math.max(o["scroll"+e],n!=n?0:n)+t+"px";o.style[e.toLowerCase()]=s,"Width"==e&&(this.element.style.width=s),this.postRenderQueue.pushFront("adapt to scrollbar",arguments.callee.trcBind(this,e))}}.call(this,"horizontal"==l.getProperty(this.mode_name,"orientation")?"Height":"Width"),l.getProperty(this.mode_name,"shade-scroll")&&this.postRenderQueue.pushBack("drawShade",function(e){this.drawShade(e)}.trcBind(this,p)),o.onscroll=function(){this.sendEvent("explore",{},null,!0),this.check_visibility()}.trcBind(this),this.check_visibility()),this.boxes[0].className+=" trc-first-recommendation trc-spotlight-first-recommendation",this.hasSyndicatedContent&&this.postRenderQueue.pushBack("syndication hint icon",this.addSyndicationHintIcon.trcBind(this,i)),"embed"===this.link_target&&this.postRenderQueue.pushBack("createEmbedThumb",this.createEmbedThumb.trcBind(this)),this.postRenderQueue.pushBack("list-suffix,publisher-end",function(e){this.trc.getFunction(this.mode_name,"list-suffix",e,this),this.trc["publisher-end"](this.id)}.trcBind(this,i)),this.postRenderQueue.pushBack("checkForBlocking",this.checkForBlocking.trcBind(this)),this.postRender(),this.trc.global["thumb-lazy-load-switch"]&&this.setLazyImageLoadMethod(),TRC.eventDelegator.dispatch("onrender",{name:this.mode_name,container:this.container}),u=0,this.visibleTimeoutId=null,"undefined"!=typeof this.trc.global&&(u=this.trc.global["visible-delay"]?this.trc.global["visible-delay"]:u),this.trc.global["enable-deferred-visible"]?TRC.Timeout.set(this.sendVisibility.trcBind(this,u,i),this.trc.global["visible-defer-timeout"]||"0"):this.sendVisibility(u,i),m=this.trc.getProperty(this.mode_name,"auto-advance"),-1!=m&&"undefined"!=typeof m&&(null==this.autoPlayer?this.autoPlayer=this.startAutoPlayManager(this.firstVideo,m):this.autoPlayer.getPlaylistItem("n"))}},s.prototype.postRender=function(e){if(e){var t=this.postRenderQueue.popFront();if(t==null)return void __trcDebug("TRCRBox.postRender: finished");try{t.func.call(this),TRC.pConsole(this.mode_name,"debug","executing postRender functions - see info",t.func.toString())}catch(e){__trcError("Error in TRCRBox.postRender while executing "+t.name,e)}}TRC.Timeout.set(this.postRender.trcBind(this,!0),0)},s.prototype.addSyndicationHintIcon=function(e){var n,s=this.trc.getProperty(this.mode_name,"syndicated-attribution"),o=this.trc.getProperty(this.mode_name,"syndicated-attribution-tooltip"),i=this.trc.getProperty(this.mode_name,"syndicated-attribution-position"),t=document.createElement("a"),a=/\btrc_rbox\b/;for(t.href=TRC.PROTOCOL+"//popup.taboola.com/"+(this.trc.language||"en")+"/?"+this.getAttributionLinkParams(),t.rel="nofollow",t.appendChild(document.createTextNode(s)),t.title=o,t.style.display="block",t.className="whatsThisSyndicated a-"+i,t.target="_blank";!a.test(e.className);)e=e.parentNode;n=t.cloneNode(!0),n.className+=" trc_mobile_attribution_link",t.className+=" trc_desktop_attribution_link",e.appendChild(t),e.appendChild(n),"absolute"!==e.style.position&&(e.style.position="relative"),TRC.dom.on(t,"click",function(e){return TRC.aboutUs.open(e||event)||!1})},s.prototype.drawShade=function(e){if(!(TRC.Browser.ie&&TRC.Browser.ie<=6)){var t,s=this.listContainer["client"+("vertical"==e?"Width":"Height")]+"px",o=this.listContainer["client"+("vertical"==e?"Height":"Width")]+this.listContainer["client"+("vertical"==e?"Top":"Left")]-10+"px",n=document.createElement("div");n.className=e+"-start-shade",n.style["vertical"==e?"width":"height"]=s,n.style["margin"+("vertical"==e?"Top":"Left")]=this.listContainer["client"+("vertical"==e?"Top":"Left")]+"px",t=document.createElement("div"),t.className=e+"-end-shade",t.style["vertical"==e?"width":"height"]=s,this.listContainer.parentNode.insertBefore(n,this.listContainer),this.listContainer.parentNode.insertBefore(t,this.listContainer),t.style["margin"+("vertical"==e?"Top":"Left")]=o,t.style.backgroundRepeat=n.style.backgroundRepeat="repeat-"+("vertical"==e?"x":"y")}},s.prototype.drawPager=function(){function P(){var n,s=[],o=0,e=0;if("none"==this.navigationType)return[{start_index:0,end_index:this.boxes.length}];for(t=0;t<this.boxes.length;t++)n=this.boxes[t],d.appendChild(n),n.fixTextOverflow(!0),"vertical"==H?d.offsetHeight-5>=i.clientHeight&&(d.removeChild(n),s[o++]={start_index:e,end_index:e>t-1?e:t-1},e=t-1>=e?t--:t,this.clearChilds(d)):1.1*i.clientHeight<i.scrollHeight&&(d.removeChild(n),s[o++]={start_index:e,end_index:e>=t-1?e:t-1},e=t-1>=e?t--:t,this.clearChilds(d));return s[o]={start_index:e,end_index:t-1},this.clearChilds(d),s}var e,t,n,s,a,c,l,u,m,p,v,b,j,y,_,w,C,k,A,S,T,z,r=this.trc,g=r.getProperty(this.mode_name,"pager-type-style"),O=r.getProperty(this.mode_name,"cyclical-paging"),R=r.getProperty(this.mode_name,"pager-position"),h=r.getProperty(this.mode_name,"pager-button-location"),L=r.getProperty(this.mode_name,"pager-button-style"),N=this.mode_name,i=this.listContainer,H=r.getProperty(N,"orientation"),d=i.firstChild;if(this.rows=r.getProperty(N,"rows"),this.clearChilds(d),i.style.overflowX="hidden",i.style.overflowY="hidden",l=P.call(this),v=document.createElement("div"),v.style.clear="both",!this.autoSize){for(;this.rows>1&&!(l.length>=this.rows);)this.rows--;if(this.rows>1)for(w=[],p=0;p<l.length;p++)this.boxes[l[p].start_index].className+=" trc-first-in-row",(p+1)%this.rows==0&&w.push({start_index:l[p+1-this.rows].start_index,end_index:l[p].end_index});w&&(i.style.height="auto",l=w)}for(t=l[0].start_index;t<=l[0].end_index;t++)if(!(t>=this.boxes.length)){c=this.boxes[t],d.appendChild(c);try{null!=c.img_src&&("undefined"==typeof c.image_div?c.thumb.appendChild(c.img):(c.thumb.appendChild(c.image_div),c.image_div.appendChild(c.img)),this.setImageLoad(c.img,c,c.img_src,100,c.thumb,this.trc.global["thumb-lazy-load-switch"]),c.img_src=null)}catch(e){__trcError("Pager thumbnail images fixing errors",e)}c.fixTextOverflow()}if(d.appendChild(v),y=this.pager,y!=null)try{y.parentNode.removeChild(y)}catch{}if(k=l.length,1>=k||"none"==this.navigationType)return this.check_visibility(),null;b=document.createElement("div"),b.style.position="absolute",b.style.width=i.clientWidth/2+"px",e=document.createElement("div"),b.appendChild(e),i.parentNode.appendChild(b),e.id="trc_pager_"+this.id,e.className="trc_pager",e.current=null,e.pages=[],e.curPage=0,S=i.clientWidth,s=document.createElement("div"),s.id="pager_prev_"+this.id,s.className="trc_pager_prev","sides"==h?(s.style.width="auto",s.style.paddingTop=(i.clientHeight-s.clientHeight)/2+"px",s.style.position="absolute",s.style["ltr"==r.direction?"left":"right"]="0px",i.parentNode.insertBefore(s,i)):e.appendChild(s),s.onclick=function(){e.curPage>0?e.pages[e.curPage-1].onclick():O&&e.pages[e.pages.length-1].onclick()},n=document.createElement("div"),n.id="pager_next_"+this.id,n.className="trc_pager_next",n.onclick=function(){e.curPage+1<e.pages.length?e.pages[e.curPage+1].onclick():O&&e.pages[0].onclick()};var f=TRC.URL.prototype.switchProtocol.call(r.getProperty(this.mode_name,"pager-button-inactive-image"),o),E=TRC.URL.prototype.switchProtocol.call(r.getProperty(this.mode_name,"pager-button-active-image"),o),x=TRC.URL.prototype.switchProtocol.call(r.getProperty(this.mode_name,"pager-button-hover-image"),o);"none"!=h?"image"==L?""!=f?(s.image=document.createElement("img"),"sides"==h&&(s.image.onload=function(){i.style.paddingLeft=i.style.paddingRight=this.clientWidth+"px"}),s.image.src=f,s.appendChild(s.image),n.image=document.createElement("img"),"sides"==h&&(n.image.onload=function(){i.style.paddingLeft=i.style.paddingRight=this.clientWidth+"px",this.style["ltr"==r.direction?"left":"right"]=S-this.clientWidth+"px"}),n.image.src=f,n.appendChild(n.image),s.onmouseover=function(){this.before_image=this.image.src,x!=this.image.src&&(this.image.src=x)},s.onmouseout=function(){"undefined"!=typeof this.before_image&&this.before_image!=this.image.src&&(this.image.src=this.before_image)},n.onmouseover=function(){this.before_image=this.image.src,x!=this.image.src&&(this.image.src=x)},n.onmouseout=function(){"undefined"!=typeof this.before_image&&this.before_image!=this.image.src&&(this.image.src=this.before_image)}):(s.innerHTML="&lt;",n.innerHTML="&gt;"):(A=L.split("|"),s.innerHTML=A[0],n.innerHTML=A[1]):(s.style.display="none",n.style.display="none"),u=document.createElement("div"),u.className="trc_pager_pages",e.appendChild(u);var M=r.getProperty(this.mode_name,"pager-style-active-image"),F=r.getProperty(this.mode_name,"pager-style-inactive-image"),D=r.getProperty(this.mode_name,"pager-style-hover-image");for(t=0;k>t;t++){switch(a=document.createElement("div"),g){case"none":a.innerHTML="",u.style.cssText="display:none !important;";break;case"numbers":a.innerHTML=""+(t+1);break;case"counter":C=document.createElement("span"),C.className="trc_pager_counter",C.innerHTML=Gettext.strargs(r.gt.gettext("%1 of %2"),[t+1,e.pages.length]),a.appendChild(C),u.className.search("trc_pager_counter")<0&&(u.className+=" trc_pager_counter");break;case"bullets":a.innerHTML='<span style="font-weight: bold;">&bull;</span>';break;case"image":""!=M?(a.inner_img=document.createElement("img"),a.inner_img.src=F,a.appendChild(a.inner_img)):a.innerHTML=""+(t+1)}a.className="trc_pager_unselected",u.appendChild(a),a.index=t,m=this,a.page_switch=function(){try{d.removeChild(v)}catch{}if(null!=e.current){for("image"==g&&""!=F&&(a.inner_img.src=F),e.current.className="trc_pager_unselected",t=l[e.curPage].start_index;t<=l[e.curPage].end_index;t++)t<m.boxes.length&&d.removeChild(m.boxes[t]);for(t=l[this.index].start_index;t<=l[this.index].end_index;t++)if(!(t>=m.boxes.length)){if(o=m.boxes[t],t===l[this.index].start_index&&(o.className+=" trc-spotlight-first-recommendation"),d.appendChild(o),"undefined"!=typeof o.img&&null!=o.img_src&&(o.video_data.ad_load_count=(new Date).getTime(),"undefined"==typeof o.image_div?o.thumb.appendChild(o.img):(o.thumb.appendChild(o.image_div),o.image_div.appendChild(o.img)),o.img.src=o.img_src,o.img_src=null),null!=o.spnoverlay){var o,b,c=o.spnoverlay,p=c.firstChild,i=c.lastChild,j=i[(i.clientHeight>0?"client":"scroll")+"Height"];p.style.width=i[(i.clientWidth>0?"client":"scroll")+"Width"]+"px",c.style.height=p.style.height=Math.max(j,parseInt(p.style.height))+"px",o.spnoverlay=null}o.fixTextOverflow(),m.postRender()}}if(d.appendChild(v),e.current=this,"image"==g&&""!=M&&(a.inner_img.src=M),this.className="trc_pager_selected",e.curPage=this.index,"undefined"!=typeof n&&(this.index+1>=e.pages.length&&!O?(""!=f&&"none"!=h&&(n.image.src=f),n.className="trc_pager_next pager_disabled"):(""!=E&&"none"!=h&&(n.image.src=E),n.className="trc_pager_next pager_enabled")),"undefined"!=typeof s&&(this.index<=0&&!O?(""!=f&&"none"!=h&&(s.image.src=f),s.className="trc_pager_prev pager_disabled"):(""!=E&&"none"!=h&&(s.image.src=E),s.className="trc_pager_prev pager_enabled")),"counter"==g){b=document.createElement("div");for(b.appendChild(document.createTextNode(Gettext.strargs(r.gt.gettext("%1 of %2"),[this.index+1,e.pages.length])));u.firstChild;)u.removeChild(u.firstChild);u.appendChild(b)}m.check_visibility(),TRC.dispatch("trc_afterRboxDraw")},a.onclick=function(){this.page_switch(),0!=this.index&&m.sendEvent("explore",{},null,!0)},a.onmouseover=function(){"image"==g&&""!=D&&(this.prev_img=this.inner_img.src,this.inner_img.src=D)},a.onmouseout=function(){"image"==g&&"undefined"!=typeof this.prev_img&&(this.inner_img.src=this.prev_img)},e.pages.push(a)}return"sides"==h?(n.style.width="auto",n.style.paddingTop=(i.clientHeight-n.clientHeight)/2+"px",n.style.position="absolute",i.parentNode.insertBefore(n,i),i.style.paddingLeft=i.style.paddingRight=n.clientWidth+"px",n.style["ltr"==this.trc.direction?"left":"right"]=S+n.clientWidth+"px"):e.appendChild(n),e.pages[0].onclick(),this.pager=e,"center"==R?(e.style.position="absolute",e.style.cssFloat="none",e.style.styleFloat="none",e.style.display="block",_=e.clientWidth,e.style.width=_+2+"px",e.style.position="relative",T=(i.clientWidth-_)/2,e.parentNode.style.width=_+2+T+"px",e.style.marginLeft=T+"px"):"header"==R&&this.header.ext&&(e.parentNode.removeChild(e),e.className+=" in_trc_header",j=document.createElement("div"),j.appendChild(e),j.id=e.id,e.id="",z=document.createElement("div"),z.style.clear="left",j.appendChild(z),this.header.titleBox.innerHTML||(this.header.titleBox.innerHTML="&nbsp;"),this.header.ext.appendChild(j)),e},s.prototype.check_visibility=function(){for(var t,e=0;e<this.boxes.length;e++)t=this.boxes[e],this.itemMaxHeight&&(t.style.height=this.itemMaxHeight+"px")},s.prototype.startAutoPlayManager=function(e,t){if("object"!=typeof this.autoplaybox)return null;var o,n=this.autoplaybox,s=document.createElement("div");return n.playerbox=s,n.appendChild(s),o=new TRC.AutoPlaylistController(this,this.publisher,null,n,e,this.listContainer.id,t),o.render(s),o},s.prototype.playInsideHostingContainer=function(t,n,s){var o,a,r,c,i=this.trc.getProperty(this.mode_name,"render-player-info"),l=this.trc.getProperty(this.mode_name,"player-detail-order");s.videoBlock?("A"===s.videoBlock.tagName.toUpperCase()&&(a=this.trc.getProperty(this.mode_name,"player-thumbnail-height")||300,s.videoBlock.parentNode.replaceChild(c=document.createElement("DIV"),s.videoBlock),s.videoBlock=c,s.videoBlock.style.height=i?a+"px":"",s.videoBlock.style.overflow="hidden",i&&(s.videoBlock.style.width=(this.trc.getProperty(this.mode_name,"player-thumbnail-width")||400)+"px",s.videoBlock.style.height=(this.trc.getProperty(this.mode_name,"player-thumbnail-height")||300)+"px")),__trcPurgeEventHandlers(s.videoBlock),s.videoBlock.innerHTML="",o=s.getElementsByTagName("A")[0],n.apply(null,[s.videoBlock,t]),i&&(r=this.drawVideoBox(t,s.hasDuration,l,"top"),__trcPurgeEventHandlers(o),o.parentNode.replaceChild(r.getElementsByTagName("A")[1],o)),this.sendEvent("click",{ii:t["item-id"],it:t.type},null)):__trcError("Error opening autoPlayContainer",e)},s.prototype.openPlayer=function(e,t,n){var s,i,a=this.publisher,r="",o=this.trc.global[r+"auto-advance"];"undefined"==typeof o&&(o=-1),i=this.trc.global["syndicator-affiliate-id"],"undefined"==typeof i&&(i=null),"function"==typeof window.trc_lightboxOpen&&window.trc_lightboxOpen();try{s=new TRC.LightBoxManager(this.trc.getProperty(this.mode_name,"lightbox-display-title"),n,this.listContainer.id,this.trc.direction),s.createHeader(e.title),s.addElements({bottom:new TRC.AutoPlaylistController(this,a,!0,s,e,"rbox-lightbox",o)}),s.open(),this.sendEvent("click",{ii:e["item-id"],it:e.type},null)}catch(e){__trcError("Error opening autoPlayContainer",e)}},s.prototype.findElement=function(e,t,n,s){"undefined"==typeof t&&(t=document),"undefined"==typeof n&&(n="*");for(var i=t.getElementsByTagName(n),o=0;o<i.length;o++)if(e(i[o]))return i[o];return s},s.prototype.findElements=function(e,t,n){for(var s,a,i=[],o=0;e&&o<e.length;o++)a=e[o],s=this.findElement(function(e){return e.className.search(a)>=0},t,"span"),s&&(n&&(s=s.cloneNode(!0)),i.push(s));return i},s.prototype.findFlash=function(e){var t=this.findElement(e,document,"embed");return t||this.findElement(e,document,"object")},s.prototype.pauseVideo=function(e){var t=this.findFlash(function(e){return"function"==typeof e.pauseVideo});try{t&&t.pauseVideo(e)}catch(e){__trcError("Error in pauseVideo",e)}"function"==typeof window.trc_pauseVideo&&window.trc_pauseVideo(e)},s.prototype.playVideoAd=function(e,t,n,s){var o=this.findFlash(function(e){return"function"==typeof e.playVideoAd});try{o&&o.playVideoAd(e.title,e["display-url"],e["landing-url"],e.url,t,n,e["item-id"],s)}catch(e){__trcError("Error in playVideoAd",e)}},s.prototype.getLinkTarget=function(e,t,n){var s;return s=t?t[e]||n[e]:n[e],s||(s="_blank"),s},s.prototype.addPiggyBackParams=function(e){return e?e+"&ppb="+this.response.trc.ppb+"&cpb="+this.response.trc.cpb:0[0]},s.prototype.addModeDebugData=function(e){return e+encodeURI(this.getModeDebugData("string"))},s.prototype.getModeDebugData=function(e,t){try{if(s=this.response.trc["test-variant"],"string"===e){var n,s,r="&cmn="+this.mode_name,c="&cpn="+this.placement,o="",i="",a="";return s!==t&&(o="&omn="+this.orig_name,i="&opn="+this.orig_placement,a="&vn="+s),r+c+o+i+a}return n={},n.cmn=this.mode_name,n.cpn=this.placement,s!==t&&(n.omn=this.orig_name,n.opn=this.orig_placement,n.vn=s),n}catch{}},s.prototype.createVideoLink=function(e,t){var o,n=document.createElement("a"),i=this.trc.global["publisher-onclick-nt-enabled"]&&e["is-in-network"],i=this.ntHandlerEnabled&&e["is-in-network"],s=this.sendClickPiggyBack?this.addPiggyBackParams(e.logger_url):e.logger_url;return this.sendModeDebugData&&(s=this.addModeDebugData(s)),i&&(e.hasNtClckHnadler=!0),n.title=TRC.util.getHtmlDecodeText(t),e.link_target=this.link_target,e.isSyndicated&&!i?(n.href=e.url,n.rel="nofollow",o=this.getLinkTarget(this.getProviderType(e),this.linkTargetConf,this.defaultLinkTarget),n.logger_url=s.replace("&url=","&redir=")+(e["is-in-network"]?"&prt=nt":"")+(e["is-native"]?"&prt=nav":""),n.target=o,this.trc.global["touchstart-enabled"]===!0&&TRC.dom.on(n,"touchstart",function(e){n.href=n.logger_url,n.isTouchPropagation=1,e.stopPropagation()}),n.onmousedown=function(e){return e=e||event,(e.target||e.srcElement).target=o,!!n.isTouchPropagation||void(n.href=n.logger_url)},n.onclick=function(){if(this.trc.clickFraud.reportClick(),this.trc.global["deep-linking-enabled"]&&TRC.DeepLinking.isAppStoreURL(e.url,this.trc.global["additional-deep-links-regex"]))try{return TRC.DeepLinking.openDeepLink(n.logger_url),!1}catch{}return!!n.isTouchPropagation||(this.shiftRedirOnclick&&(n.href=n.logger_url),this.pauseVideo("link"),!TRC.Browser.ieUpto(7)||(this.clickLink(n.href,n.target),!1))}.trcBind(this)):(n.href=e.url,"blank"!=this.link_target?n.target="_parent":(n.target="_blank",n.onmousedown=function(e){e=e||event,(e.target||e.srcElement).target="_blank"}),e["is-in-network"]&&(e.scParams.prt="nt"),this.organicRedirParam&&(s=s.replace("&url=","&"+this.organicRedirParam+"=")),this.useRedirect&&this.useRedirectOnLink&&(n.href=s),n.onmousedown=function(){n.href=s},n.onclick=this.videoLinkClickHandler.trcBind(this,e,n,s)),n},s.prototype.videoLinkClickHandler=function(){var e=2e3,n=function(e,n,s){var o=e.trc.global["syndication-embed-code"];return"function"!=typeof o||t.trc_testmode?t.open(n.logger_url):e.openPlayer(n,o,s),!1},s=function(e,n){var s=e.trc.getProperty(e.mode_name,"player-embed-code"),i=e["player-container-id"],o=e.billboard||document.getElementById(i);return"function"==typeof s&&o&&!t.trc_testmode?e.playInsideHostingContainer(n,s,o):t.open(n.logger_url),!1},o=function(e,t,n,s){return"video"==t.type&&e.pauseVideo("link"),n.target="_blank",TRC.Browser.ieUpto(7)||s?!!TRC.Browser.firefoxUpto(8)||(e.clickLink(n.href,n.target),!1):(n.href=t.url,e.sendEvent("click",{ii:t["item-id"],it:t.type},null,!1),!0)},i=function(e,t){switch(e){case"brightcove":return TRC.brightcove_playVideo(t);case"ooyala":return TRC.ooyala_playVideo(t);case"kaltura":return TRC.kaltura_playVideo(t)}return!1},a=function(e){var t=e.link_target;if("local"===t){if("function"==typeof window.trc_videoSelected)return void window.trc_videoSelected.call(window,e.id,e.url);t=this.trc.video_source}i(t,e.id)||this.clickLink(e.url)};return function(i,r,c,l){l=l||event;var h=i.link_target,d=!1,u=this.useRedirect;if("lightbox"===h&&this.trc.global)return n(this,i,l);switch(h){case"embed":d=s(this,i);break;case"blank":(l.target||l.srcElement).target="_blank",u&&(r.href=c),d=o(this,i,r,u);break;default:if(u&&"local"!=i.link_target&&"function"!=typeof this.onclick&&"function"!=typeof this.trc.onclick){if(TRC.Browser.ieUpto(7))return this.clickLink(r.href,r.target),!1;this.shiftRedirOnclick&&(r.href=c),d=!0}else this.sendEvent("click",i.hasNtClckHnadler?i.scParams:{ii:i["item-id"],it:i.type},null,!1,this.publisherClickHandler.trcBind(this,i,a.trcBind(this,i,!1)),e)}return i.url!=i.original_url&&__trcDebug("url:"+i.original_url+", changed to:"+i.url+", on page:"+t.location.href),d||(l.cancelBubble=!0,l.stopPropagation&&l.stopPropagation()),d}}(),s.prototype.clickLink=function(e,n){TRC.Browser.firefoxUpto(8)&&(t.location.href=e);var o,s=document.createElement("a");if(s.href=e,s.target=n||"_parent",s.style.visibility="hidden",document.body.appendChild(s),s.click)return void s.click();o=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,button:0}),s.dispatchEvent(o)},s.prototype.publisherClickHandler=function(e,t){var n=__trcCopyProps(e,{});delete n["item-id"],delete n.link;try{if("function"==typeof this.onclick&&!this.onclick.call(this.pubOpts,n))return!1;if("function"==typeof this.trc.onclick&&!this.trc.onclick.call(this.pubOpts,n))return!1}catch(e){__trcError("Publisher 'onclick' handler had an error",e)}return t(this)},s.prototype.add_span=function(e,t,n){var s=document.createElement("span");return e!=null&&(s.className=e),t!=null&&("object"==typeof t?s.appendChild(t):s.innerHTML=t),"undefined"!=typeof n&&n.appendChild(s),s},s.prototype.genBidiLabel=function(e,t,n){function a(e){var t,n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜︀-﹯﻽-￿",s="֑-߿יִ-﷿ﹰ-ﻼ",o=e.match(new RegExp("^[^"+n+s+"]*(?:(["+n+"]+)|(["+s+"]+))"));return o?o[2]?(t=document.createElement("bde"),t.dir="rtl",t.innerHTML=e,t):null:null}var s,i=!1,o=a(t);return o==null?o=t:i=!0,s=this.add_span("video-label "+n,o,e),s.isRTL=i,s},s.prototype.buildLabelBox=function(e,t,n){for(o=0;o<n.length;o++)switch(s=n[o]){case"title":this.genBidiLabel(e,t.title,"video-title");break;case"uploader":"undefined"!=typeof t.uploader&&this.add_span("video-label video-uploader",this.formatData("uploader",t.uploader),e);break;case"category":"undefined"!=typeof t.category&&this.add_span("video-label video-category",this.formatData("category",decodeURIComponent(t.category.split(";")[0].split("//")[0])),e);break;case"views":this.add_span("video-label video-views",this.formatData("views",t.views),e);break;case"rating":this.add_span("video-label video-rating",this.formatData("rating",t.rating),e);break;case"description":var s,o,i=this.genBidiLabel(e,t.description,"video-description");i.title='"Description: '+this.removeHtmlTags(t.description)+'"';break;case"duration":"undefined"!=typeof t.duration&&""!=t.duration&&this.add_span("video-label video-duration-detail",this.formatData("duration",t.duration),e);break;case"branding":t["branding-text"]?this.add_span("branding",this.formatData("syndicator",t["branding-text"]),e):t["branding-url"]&&this.add_span("branding","<img src='"+t["branding-url"]+"'>",e);break;case"url":break;default:"undefined"!=typeof t[s]&&t[s]&&this.add_span("video-label video-"+s,this.formatData(s,t[s]),e)}},s.prototype.FixVideoImage=function(e,t,n){if(s=TRC.css.utils,0==n.height||0==n.width||!n.complete||TRC.Browser.ieUpto(6))return s.setStyleProperty(n,"width",e+"px",this.isCssImportant),s.setStyleProperty(n,"height",t+"px",this.isCssImportant),void(n.style.visibility="visible");var s,o,i,r,c,l=e/t,a=n.width/n.height;l>a?(r=Math.floor(e/a),i=Math.floor((t-r)/2),s.setStyleProperty(n,"width",e+"px",this.isCssImportant),0!=i&&(TRC.Browser.ieAtleast(8)?(n.style.position="relative",s.setStyleProperty(n,"top",i+"px",this.isCssImportant)):s.setStyleProperty(n,"margin-top",i+"px",this.isCssImportant))):(c=Math.floor(t*a),o=Math.floor((e-c)/2),s.setStyleProperty(n,"height",t+"px",this.isCssImportant),0!=o&&(TRC.Browser.ieAtleast(8)?(n.style.position="relative","ltr"==this.trc.direction?s.setStyleProperty(n,"left",o+"px",this.isCssImportant):s.setStyleProperty(n,"left",-1*o+"px",this.isCssImportant)):"ltr"==this.trc.direction?s.setStyleProperty(n,"margin-left",o+"px",this.isCssImportant):s.setStyleProperty(n,"margin-right",o+"px",this.isCssImportant))),n.style.visibility="visible"},s.prototype.drawThumbnailLink=function(e,t,n,s,o){t||"video"==n.type&&"undefined"!=typeof n.duration&&""!=n.duration&&"0"!=n.duration&&(g=this.genDuration(n.duration)),u=this.createVideoLink(n,s),TRC.dom.addClass(u,"item-thumbnail-href"),"undefined"!=typeof n["thumbnail-clickable"]&&"false"==n["thumbnail-clickable"]&&(u.title="",u.style.cursor="default",u.onclick=function(){return!1});var r,l,d,u,h,m,f,p,g,v,c=this.trc.getProperty(this.mode_name,"thumbnail-height"),a=this.trc.getProperty(this.mode_name,"thumbnail-width"),i=document.createElement("span");if(i.className="thumbBlock","undefined"!=typeof c&&(i.style.height=c+"px"),"undefined"!=typeof a&&(i.style.width=a+"px"),d=document.createElement("img"),d.style.visibility="hidden",f=this.add_span("thumbnail-overlay",null,i),TRC.Browser.ieUpto(6)&&(f.style.display="none"),p=this.trc.getProperty(this.mode_name,"emblem"),l=null,p==null||"null"==p||TRC.Browser.ie&&!TRC.Browser.ieAtleast(7)||(l=this.add_span("thumbnail-emblem",null,i),l.style.backgroundImage="url("+p+")"),"undefined"!=typeof c&&(f.style.height=c+"px",l!=null&&(l.style.height=c+"px")),"undefined"!=typeof a&&(f.style.width=a+"px",l!=null&&(l.style.width=a+"px")),d.onerror=this.imageOnErrorHandler.trcBind(this,d,n),d.onload=function(e){e.complete?this.FixVideoImage(a,c,e):TRC.Timeout.set(arguments.callee.trcBind(this,e),1e3)}.trcBind(this,d),7===TRC.Browser.ie&&(e.image_div=document.createElement("div")),n.isSyndicated){h=document.createElement("span"),h.className="branding",n["branding-text"]?h.appendChild(document.createTextNode(this.formatData("syndicator",n["branding-text"]))):n["branding-url"]&&(v=document.createElement("img"),v.src=n["branding-url"],h.appendChild(v)),i.style.position="relative",i.appendChild(h);var b=document.createElement("span"),j=this.trc.getProperty(this.mode_name,"syndicated-static-text"),y=this.trc.getProperty(this.mode_name,"syndicated-static-text-position");b.className="static-text "+y,j&&b.appendChild(document.createTextNode(j)),i.appendChild(b)}switch((e.thumb=i,e.img=d,e.img_src=this.getThumbnailURL(n,a,c),g)&&(r=document.createElement("div"),r.className="video-duration video-duration-detail",r.style.left=0,"undefined"!=typeof a&&(TRC.Browser.ieUpto(6)?(r.style.marginLeft=a/2-3+"px",r.style.top=c/2-15+"px"):7===TRC.Browser.ie?(r.style.left=a-3+"px",r.style.top=c-15+"px"):(r.style.marginLeft=a-3+"px",r.style.top=c-15+"px")),r.appendChild(g),m=this.genDuration(n.duration),m.style.opacity=1,m.style.filter="alpha(opacity=100)",m.style.backgroundColor="transparent",r.appendChild(m),i.appendChild(r)),u.appendChild(i),o){case"bottom":i.style.cssFloat="none",i.style.styleFloat="none",i.style.display="block",i.style.width=a+"px";break;case"top":case"under":i.style.cssFloat="none",i.style.styleFloat="none",i.style.display="block",i.style.width=a+"px";break;case"end":i.style.cssFloat="right",i.style.styleFloat="right"}return u},s.prototype.imageOnErrorHandler=function(e,t){var i,n=e.src,a=this.trc.global["images-host"]?this.trc.global["images-host"]:"images.taboola.com",s=n.search(/\Shttp\S/),r=!!n.match(/\Staboola(\S+)?.com\/thumbnails\S/);s>5&&r?(n=TRC.URL.prototype.switchProtocol.call(unescape(n.indexOf(a)>-1?unescape(n.slice(s+1)):n.slice(s+1)),o),__trcWarn("Failed to load taboola CDN thumbnail "+e.src+" for item="+t["item-id"]+", loading direct thumbnail instead : "+n)):s>5&&n.indexOf(a)>-1?(n=TRC.URL.prototype.switchProtocol.call(unescape(n.slice(s+1)),o),__trcWarn("Failed to load thumbnail "+e.src+" for item="+t["item-id"]+", loading "+n+" thumbnail instead")):(i=TRC.URL.prototype.switchProtocol.call(this.trc.getProperty(this.mode_name,"default-thumbnail"),o),n="undefined"!=i?i:"",e.onerror=null,__trcWarn("Failed to load thumbnail "+e.src+" for item="+t["item-id"]+", loading default thumbnail instead")),e.src=n},s.prototype.drawVideoBox=function(e,t,n,s){if(m="",e=__trcCopyProps(e,{}),e.isSyndicated=e["is-syndicated"]||e["is-in-network"]||e["is-native"],e.isPhoto="photo"===e.type,e.isText="text"===e.type,e.tags="string"==typeof e.tags?TRC.text.parseCSV(e.tags):[],i=document.createElement("div"),i.rbox=this,h=i.thumbnail_position=s||this.trc.getProperty(this.mode_name,"thumbnail-position"),i.video_data=e,i.setAttribute("data-item-id",e["item-id"]),i.setAttribute("data-item-title",e.title),i.setAttribute("data-item-thumb",this.getThumbnailURL(e,100,80)),i.setAttribute("data-item-syndicated",!!e.isSyndicated),this.setVideoBoxClassName(i),this.autoSize&&this.setAutoDimantions(i),a=e.url,0==a.search(/\w{3,4}:\/\/(\w+)\.taboola(syndication)?.com/))for(var i,a,r,c,l,d,u,h,m,f,g,b,j,y,v=a.split(/[?&]/),p=0;p<v.length;p++)if("url"==v[p].split("=")[0]){a=decodeURIComponent(v[p].split("=")[1]);break}e.isSyndicated||((e.original_url=a,a=this.trc.getFunction(this.mode_name,"change-url",a,i,this.tracking),a==e.original_url&&this.tracking)&&(f=a.split("#"),a=f[0]+(f[0].search("\\?")>=0?"&":"?")+this.tracking+(f[1]?"#"+f[1]:"")),"function"==typeof TRC.pageManager&&(a=TRC.pageManager.fixRecommendationURL(a))),e.url=a,c={pi:this.trc.getItemId(),ri:this.response.trc.req,sd:TRC.pageManager.getPublisherValue(TRC.publisherId,"session-data"),ui:TRC.pageManager.getValue("user-id"),it:e.type,ii:e["item-id"],pt:this.getItemType(),li:this.listContainer.id,url:a,p:e.isSyndicated?e.publisher:"",vi:TRC.pageManager.getPageData(),r:Math.floor(100*Math.random())},e.scParams=c,j=[];for(d in c)c.hasOwnProperty(d)&&c[d]&&(this.trc["normalize-log-param"](d,c[d]),j.push(encodeURIComponent(d)+"="+encodeURIComponent(c[d])));e.logger_url=o+"//"+this.domain+"/"+encodeURIComponent(this.trc["normalize-log-param"]("publisher",TRC.publisherId))+"/log/3/click?"+j.join("&"),m+=e.title,r=this.createVideoLink(e,m),TRC.dom.addClass(r,"item-label-href"),e.link=r,l=document.createElement("span"),(l.style.display="block",l.className="video-label-box",r.appendChild(l),i.labelsBox=l,i.appendChild(r),"none"!=h)&&(u=this.drawThumbnailLink(i,t,e,m,h),"under"==h?(y=this.trc.getProperty(this.mode_name,"thumbnail-height"),u.title=r.title="",i.insertBefore(u,r),i.style.position="relative",i.style.height=y+"px",b=document.createElement("span"),b.className="label-box-overlay",r.className+="video-labels-anchor",m=this.findElement(function(e){return e.className.search("title")>=0},i.labelsBox,"span",null),TRC.Browser.ieUpto(8)&&!TRC.Browser.ieUpto(7)&&(r.className+=" ie8fix"),i.labelsBox.appendChild(b),e.thumbUnder=!0):"bottom"==h?i.appendChild(u):i.insertBefore(u,r)),g=n||this.trc.getProperty(this.mode_name,"detail-order"+(e.isSyndicated?"-syndicated":"")),g=g.split(","),this.buildLabelBox(l,e,g),i.fixTextOverflow=this.fixBoxTitleAndDesc.trcBind(this,e,l),TRC.Browser.ieUpto(6)&&(i.onmouseover=function(){this.className+=" videoCube_hover"},i.onmouseout=function(){this.className=this.className.replace(/\b\s+videoCube_hover\b/g,"")});try{this.trc.getFunction(this.mode_name,"item-renderer",i,i.video_data)}catch(e){__trcError("Error in itemRenderer",e)}return i},s.prototype.setAutoDimantions=function(e){if(this.AutoSizeRule){t=this.AutoSizeRule.Ws+"px",this.rows>1&&(e.style.marginBottom=t),this.boxes.length%this.AutoSizeRule.n==0&&(t=0),"rtl"==this.trc.direction?e.style.marginRight=t:e.style.marginLeft=t,e.style.width=this.AutoSizeRule.Wi+"px";var t,n=this.trc.getProperty(this.mode_name,"thumbnail-height"),s=this.trc.getProperty(this.mode_name,"thumbnail-width"),o=n/s;this.trc.modes[this.mode_name]["thumbnail-width"]=this.AutoSizeRule.Wi,this.trc.modes[this.mode_name]["thumbnail-height"]=Math.round(this.AutoSizeRule.Wi*o)}},s.prototype.getRuleAspectRatio=function(e,t){return!!(e.virtualThumbWidth&&e.virtualThumbHeight&&!isNaN(e.virtualThumbWidth)&&!isNaN(e.virtualThumbHeight))&&("ratio"==t?e.virtualThumbHeight/e.virtualThumbWidth:e.virtualThumbHeight/e.virtualThumbWidth*100)},s.prototype.getThumbAspectRatio=function(e,t){try{var n=e["thumbnail-height"]/e["thumbnail-width"];return"ratio"==t?n:Math.round(100*n)}catch(e){return __trcWarn("getThumbAspectRatio",e.message),null}},s.prototype.getThumbnailURL=function(e,t,n){if("undefined"==typeof e["thumb-size"])return e.thumbnail;for(var o,s=[{w:e["thumb-size"].split("x")[0],h:e["thumb-size"].split("x")[1],u:e.thumbnail}],i=1;"undefined"!=typeof e["thumb-size-"+i];i++)s.push({w:e["thumb-size-"+i].split("x")[0],h:e["thumb-size-"+i].split("x")[1],u:e["thumbnail-"+i]});for(s=s.sort(function(e,t){return e.w*e.h-t.w*t.h}),o=0;o<s.length;o++)if(t*n<=s[o].w*s[o].h)return s[o].u;return s.pop().u},s.prototype.addTaboolaLogoNoDisclosure=function(){var e,t,n,s,i,c,l,m=this.trc.attribution,a=this.trc.getProperty(this.mode_name,"attribution-text"),r=TRC.URL.prototype.switchProtocol.call(this.trc.getProperty(this.mode_name,"logo-image"),o),d=this.trc.getProperty(this.mode_name,"attribution-position"),h=["template=colorbox","taboola_utm_source="+this.publisher,"taboola_utm_medium=bytaboola","taboola_utm_content="+this.mode_name+":"+this.placement+":"+(this.trc["test-variant"]||"")],u="//www.taboola.com/popup?"+h.join("&");0!=m&&"none"!==d&&(e=document.createElement("div"),e.className="logoDiv",e.innerHTML="&nbsp;","rtl"==this.trc.direction?(e.style.cssFloat="left",e.style.styleFloat="left"):(e.style.cssFloat="right",e.style.styleFloat="right"),t=document.createElement("a"),t.href=u,t.rel="nofollow",t.target="_blank",e.appendChild(t),"top"==d?"object"==typeof this.header&&this.header.ext.appendChild(e):this.element.appendChild(e),s=document.createElement("div"),c="clear:both; _height:1px; _overflow:hidden;","string"==typeof s.style.cssText?s.style.cssText=c:s.setAttribute("style",c),this.element.appendChild(s),"string"!=typeof r||a!=null&&""!=a&&"null"!=a?(t.innerHTML+=a,l=t.cloneNode(!0),t.className+=" trc_desktop_attribution_link",l.className+=" trc_mobile_attribution_link",e.appendChild(l),t.onclick=function(e){return TRC.aboutUs.open(e||event)||!1}):TRC.Browser.ieUpto(6)?(n=document.createElement("span"),n.style.width="45px",n.style.height="11px",n.backgroundImage="none",n.style.display="block",n.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+r+'")',t.appendChild(n)):(i=document.createElement("img"),i.src=r,i.style.border="0",t.appendChild(i)))},s.prototype.addTaboolaLogo=function(){this.renderAdchoicesLink(this.getAdchoiceConfig(),this.itemsTypes,this.adcItemTypes),this.renderAttributionLink(),this.renderDisclosureLink(),this.addClearingDiv(),this.addWidgetContentType()},s.prototype.renderAttributionLink=function(){var e,t="<span>"+this.trc.getProperty(this.mode_name,"attribution-text")+"</span>",n=this.trc.getProperty(this.mode_name,"attribution-position"),s=this.trc.attribution&&"none"!=n,o=this.trc.getProperty(this.mode_name,"min-width-for-attribution"),i=this.trc.getProperty(this.mode_name,"hide-attribution-when-no-place");s&&("top"===n?(e=this.container.clientWidth||this.container.offsetWidth,!e||e>=o?this.generateLinksBox(this.header.ext,t,this.trc.direction,"attribution",null,"top"):i||this.generateLinksBox(this.getWidgetFooter(),t,this.trc.direction,"attribution",null,"bottom")):this.generateLinksBox(this.getWidgetFooter(),t,this.trc.direction,"attribution",null,"bottom"))},s.prototype.adcHoverHandler=function(e,t){var n=__trcGetElementsByClass("trc_adc_b_logo",null,e)[0];t?n.style.display="inline-block":n.style.display="none"},s.prototype.isAdchoicesEnabled=function(e,t,n){return!!e&&"off"!=e.status&&!!this.isAdchoiceItemTypes(t,n)},s.prototype.isAdchoiceItemTypes=function(e,t){for(var n in e)if(t[n])return!0;return!1},s.prototype.getAdchoiceConfig=function(){return{status:this.trc.global["has-adchoice"]&&this.trc.getProperty(this.mode_name,"mode-has-adchoice")?"on":"off",position:this.trc.getProperty(this.mode_name,"adchoice-position"),url:this.trc.getProperty(this.mode_name,"adchoice-target-url")||this.trc.global["adchoice-url"],enableBig:this.trc.getProperty(this.mode_name,"adchoice-large")}},s.prototype.getAdchoicesPosition=function(e,t){var n="top";return n="auto"===e?"none"===t?n:t:e},s.prototype.renderAdchoicesLink=function(e,t,n){if(this.hasAdChoicesLogo=this.isAdchoicesEnabled(e,t,n),this.hasAdChoicesLogo){var o,i,a='<span class="trc_adc_wrapper"><span class="trc_adc_s_logo"></span>'+(e.enableBig?'<span class="trc_adc_b_logo"></span>':"")+"&nbsp;</span>",c=this.getAdchoicesPosition(e.position,this.trc.getProperty(this.mode_name,"attribution-position")),l=this.trc.getProperty(this.mode_name,"min-width-for-attribution"),r=e.url||null;"top"===c?(i=this.container.clientWidth||this.container.offsetWidth,o=!i||i>=l?this.generateLinksBox(this.header.ext,a,this.trc.direction,"adc",null,"top",r):this.generateLinksBox(this.getWidgetFooter(),a,this.trc.direction,"adc",null,"bottom",r)):o=this.generateLinksBox(this.getWidgetFooter(),a,this.trc.direction,"adc",null,c,r),e.enableBig&&(o.onmouseover=function(){s.prototype.adcHoverHandler(this,!0)},o.onmouseout=function(){s.prototype.adcHoverHandler(this,!1)})}},s.prototype.generateLinksBox=function(e,t,n,s,o,i,a){var r,l,c=document.createElement("div"),d=["trc_desktop_"+s+"_link","trc_mobile_"+s+"_link"],u=TRC.PROTOCOL+"//popup.taboola.com/"+(this.trc.language||"en")+"/?"+this.getAttributionLinkParams(),h=a||u,m=function(e){return TRC.aboutUs.open(e)||!1};if(e){for(l=0;l<d.length;l++)r=document.createElement("a"),r.className=d[l]+" trc_attribution_position_"+(i||"bottom"),r.rel="nofollow",r.innerHTML=t,r.href=h,r.target="_blank",this.hasAdChoicesLogo&&(r.innerHTML+='<span class="trc_logos_v_align">&nbsp;</span>'),l||(r.onclick=m),c.appendChild(r);return"rtl"===n&&(c.style.cssFloat=c.style.styleFloat="left"),c.className="logoDiv link-"+s+" "+(o?" attribution-disclosure-link-"+o:""),e.appendChild(c),c}},s.prototype.getAttributionLinkParams=function(){var e=["template=colorbox","taboola_utm_source="+this.publisher,"taboola_utm_medium=bytaboola","taboola_utm_content="+this.mode_name+":"+this.placement+":"+(this.trc["test-variant"]||"")];return this.privacyId&&e.push("plink="+this.privacyId),e.join("&")},s.prototype.addWidgetContentType=function(){var e=this.getWidgetContentType(this.itemsTypes);this.element.className+=" "+("sponsored"===e&&TRC.blocker.blockedState>0&&this.trc.global["switch-abp-class"]?this.trc.global["switch-abp-class"]["trc-content-sponsored"]:"trc-content-"+e)+" "},s.prototype.getWidgetContentType=function(e){var t=e["is-syndicated"]||e["is-in-network"]||e["is-native"];return t&&e["is-organic"]?"hybrid":t?"sponsored":"organic"},s.prototype.getItemsTypesList=function(e){for(var n,t={},s=0;n=e[s];s++)n["is-syndicated"]?t["is-syndicated"]=!0:n["is-in-network"]?t["is-in-network"]=!0:n["is-native"]?t["is-native"]=!0:t["is-organic"]=!0,n["is-adc"]&&(t["is-adc"]=!0);return t},s.prototype.getPrivacyId=function(e){for(var t,n=0;t=e[n];n++)if(t.plink)return t.plink;return null},s.prototype.getWidgetFooter=function(){return this.footer||(this.footer=document.createElement("div"),this.footer.className="trc-widget-footer",this.element.appendChild(this.footer)),this.footer},s.prototype.renderDisclosureLink=function(){var e,o=this.trc.getProperty(this.mode_name,"min-width-for-disclosure"),i=this.trc.getProperty(this.mode_name,"hide-disclosure-when-no-place"),t="<span>"+this.trc.getProperty(this.mode_name,"disclosure-link-text-sponsored")+"</span>",n="<span>"+this.trc.getProperty(this.mode_name,"disclosure-link-text-hybrid")+"</span>",s=this.trc.getProperty(this.mode_name,"disclosure-position");"none"!=s&&(e=this.container.clientWidth||this.container.offsetWidth,"bottom"!=s&&this.header.ext&&"No Header"!=this.trc.getProperty(this.mode_name,"header")&&(!e||e>=o)?(this.generateLinksBox(this.header.ext,t,this.trc.direction,"disclosure","sponsored","top"),this.generateLinksBox(this.header.ext,n,this.trc.direction,"disclosure","hybrid","top")):i||(this.generateLinksBox(this.getWidgetFooter(),t,this.trc.direction,"disclosure","sponsored","bottom"),this.generateLinksBox(this.getWidgetFooter(),n,this.trc.direction,"disclosure","hybrid","bottom")))},s.prototype.addClearingDiv=function(){this.element.appendChild(document.createElement("div")).className="trc_clearer"},s.prototype.genDuration=function(e){var n,s=this.formatDuration(e),t=document.createElement("dt");return t.style.position="absolute",t.style.overflow="hidden",t.style.height="auto",t.style.width="auto",t.style.zIndex=48,t.style.right=0,n=document.createElement("div"),n.style.zIndex=50,n.style.paddingLeft="4px",n.style.paddingRight="4px",n.innerHTML=s,t.appendChild(n),t},s.prototype.fixBoxTitleAndDesc=function(e,t,n){if(!n)return void this.postRenderQueue.pushBack("fixBoxTitleAndDesc",this.fixBoxTitleAndDesc.trcBind(this,e,t,!0));try{var i=this.trc.getProperty(this.mode_name,"details-inline-with-title"),s=i?i.split(","):[],o=this.findElement(function(e){return e.className.search("title")>=0},t,"span",null);s&&s.length&&o&&"inline"==document.trcGetCurrentStyle(o,"display")&&(o.style.display="inline-block"),o.inlineDetailsElements=this.setupInlineDetails(s,t),this.fixBoxOverflow(o,e.title,!1,"false"!=e["truncate-title"],s,t),e.thumbUnder&&(e.link.style.fontSize=t.font+"px"),s&&s.length&&(o.style.display="inline"),this.fixBoxOverflow(this.findElement(function(e){return e.className.search("description")>=0},t,"span",null),e.description,!0,!0,null,null)}catch(e){__trcError("Problem in fixBoxTitleAndDesc",e)}},s.prototype.fixBoxOverflow=function(e,t,n,s,o,i){if(e!=null&&!(this.useNativeLineClamp&&this.setupBoxLineClamp(e)||e.clientHeight<=0||e.clientWidth<=0)){"undefined"==typeof s&&(s=!0),a=!1,e.parentNode.font=this.getFontSize(e),r=e.innerHTML,e.innerHTML="";var a,r,l,c=this.add_span(null,"H",e),d=Math.max(c.offsetHeight,c.clientHeight),u=Math.max(0,e.scrollHeight-e.clientHeight);for(e.removeChild(c),e.innerHTML=r,this.addInlineElementsForMeasure(e.inlineDetailsElements,e,!0),e.inlineDetailsElementsHTML=e.innerHTML.replace(r,""),t=t.replace(/^\s+|\s+$/g,"");e.clientHeight+u+d/2<e.scrollHeight&&t.length;)if(a=!0,s)t=this.truncateOverflowingText(e,t,n),e.innerHTML+=e.inlineDetailsElementsHTML;else if(l=this.decreaseOverflowingTextFontSize(e),!l)break;this.hideClonedElementsAfterMeasure(o,i),TRC.Browser.ie&&!a&&(e.style.height="auto")}},s.prototype.setupBoxLineClamp=function(e){TRC.dom.removeClass(e,"trc_ellipsis");var t=parseInt(document.trcGetCurrentStyle(e,"line-height"),10),n=parseInt(document.trcGetCurrentStyle(e,"height"),10),s=t&&n?Math.round(n/t).toString():null;return!(!s||e.isRTL||"rtl"==document.trcGetCurrentStyle(e,"direction"))&&(TRC.dom.addClass(e,"trc_ellipsis"),TRC.css.utils.setStyleProperty(e,"-webkit-line-clamp",s,!1),e.parentNode.font=this.getFontSize(e),!0)},s.prototype.setupInlineDetails=function(e,t){for(var s,i,a,n=this.findElements(e,t),r=!1,o=0;e&&o<e.length;o++)"branding"==e[o]&&(r=!0);e.length&&!r&&(i=this.findElement(function(e){return e.className.search("branding")>=0},t,"span",null),i&&(i.style.display="block"));for(s=0;n&&s<n.length;s++)a=n[s],a.style.display="inline-block",a.style.verticalAlign=TRC.Browser.ieUpto(7)?"baseline":"middle";return n},s.prototype.truncateOverflowingText=function(e,t,n){t=n&&t.search(/\s/)>=0?t.replace(/\s+\S+$/,""):t.substr(0,t.length-1);var s=e.getElementsByTagName("bde");return e.inlineDetailsElementsHTML&&s.length&&(e.innerHTML=e.innerHTML.replace(e.inlineDetailsElementsHTML,"")),e.getElementsByTagName("span").length>0&&e.removeChild(e.getElementsByTagName("span")[0]),(s.length>0?s[0]:e).innerHTML=t,this.add_span(null,"&hellip;",e),t},s.prototype.decreaseOverflowingTextFontSize=function(e){var n,t=this.getFontSize(e);return!(parseInt(t)<=9)&&(t=parseInt(t)-1,n="font-size: "+t+"px!important; line-height: "+1.25*t+"px!important;","string"==typeof e.style.cssText?e.style.cssText=n:e.setAttribute("style",n),!0)},s.prototype.addInlineElementsForMeasure=function(e,t,n){for(var s,o,a,i=0;e&&i<e.length;i++)s=e[i],a=this.findElement(function(e){return e.className.search(s)>=0&&e.parentNode===t},t),!a&&s&&(o=document.createElement("span"),o.className="trc_inline_detail_spacer",o.innerHTML=TRC.Browser.ieUpto(8)?"&nbsp;":" ",t.appendChild(o),t.appendChild(n?s.cloneNode(!0):s))},s.prototype.hideClonedElementsAfterMeasure=function(e,t){for(var n,o,s=0;e&&s<e.length;s++)o=e[s],n=this.findElement(function(e){return e.className.search(o)>=0&&e.parentNode===t},t,"span"),n&&(n.style.display="none")},s.prototype.removeTagsEntities=function(e){var t=new RegExp("<[^>]*>$");return t.test(e)||(t=new RegExp("&w+;$"),t.test(e))?e.replace(t,""):e},s.prototype.removeHtmlTags=function(e){return e.replace(new RegExp("<[^>]+>","g"),"")},s.prototype.formatData=function(e,t){var n=this.trc.getProperty(this.mode_name,"format-"+e);return n=n||"%s","function"==typeof n?n.call(this,t):((e.search("duration")>=0||e.search("Duration")>=0)&&(t=this.formatDuration(t)),"undefined"==typeof t&&(t=""),n.replace(new RegExp("%\\w"),'<dt style="display:inline">'+t+"</dt>"))},s.prototype.formatDuration=function(e){t=parseInt(e/3600),t>=1?e%=3600:t=0;var t,n=parseInt(e/60),s=parseInt(e%60);return"number"!=typeof t||"number"!=typeof n||"number"!=typeof s||t!=t||n!=n||s!=s||1>e?"":(t>=1?t+":":"")+(10>n?"0":"")+n+":"+(10>s?"0":"")+s},s.prototype.formatNumber=function(e){return"undefined"==typeof e?"":this.trc.getFunction(this.mode_name,"format-number",e)},s.prototype.dateFormatISO=function(e){var s=new Date(1e3*parseInt(e)),o=s.getFullYear(),t=s.getMonth()+1,n=s.getDate();return 10>n&&(n="0"+n),10>t&&(t="0"+t),o+"-"+t+"-"+n},s.prototype.dateFormatAmerican=function(e){var t=new Date(1e3*parseInt(e)),n=t.getFullYear(),s=t.getMonth()+1,o=t.getDate();return s+"/"+o+"/"+n},s.prototype.dateFormatEuropean=function(e){var t=new Date(1e3*parseInt(e)),n=t.getFullYear(),s=t.getMonth()+1,o=t.getDate();return o+"/"+s+"/"+n},s.prototype.dateFormatDays=function(e){var i,a,s=new Date,o=" months ago",r=s.getFullYear(),c=s.getMonth(),n=new Date;("undefined"!=typeof e||0!=parseInt(e))&&(n=new Date(1e3*parseInt(e)));var l=n.getFullYear(),d=n.getMonth(),t=12*r+c-(12*l+d);return 0==t?(i=s.getDate(),a=n.getDate(),t=i-a,o=1>=t?" day ago":" days ago"):1==t&&(o=" month ago"),t+o},s.prototype.ratingStars=function(e,t){if(t>5&&(t=Math.floor(t/2)),"undefined"==typeof e)return"";for(var n,a,r,i=document.createElement("span"),s=0;t>s;s++)n=document.createElement("img"),n.style.width="16px",n.style.height="16px",n.style.display="inline",a=o+"//cdn.taboola.com/taboola/star-on.png",r=o+"//cdn.taboola.com/taboola/star-off.png",s<parseInt(e)?n.src=a:n.src=r,i.appendChild(n);return i},s.prototype.getFontSize=function(e){for(var n=0,o=!1,t=document.trcGetCurrentStyle(e,"font-size"),s=["px","pt","em","ch"];!o&&n<s.length;){if(t.indexOf(s[n])){switch(t=parseInt(t),s[n]){case"px":break;case"pt":t/=.75;break;case"em":case"ch":t=10*t}o=!0}n++}return t},s.prototype.sendExploreEvent=function(){this.exploreTimeoutId&&(TRC.Timeout.clear(this.exploreTimeoutId),this.exploreTimeoutId=null),this.sendEvent("explore",{},null,!0)},s.prototype.onMouseOverExploreTrackerHandler=function(e,n){n=n||t.event;var s=n.target||n.srcElement;s!=this.container&&null!=this.exploreTimeoutId||s==this.container&&null!=this.exploreTimeoutId||(this.exploreTimeoutId=TRC.Timeout.set(this.sendExploreEvent.trcBind(this),e))},s.prototype.setExploreTracker=function(){var e=0;this.exploreTimeoutId=null,"undefined"!=typeof this.trc.global&&(e=this.trc.global["explore-delay"]?this.trc.global["explore-delay"]:e),this.container.onmouseover=this.onMouseOverExploreTrackerHandler.trcBind(this,e),0!=e&&(this.container.onmouseout=this.onMouseOutExploreTrackerHandler.trcBind(this))},s.prototype.onMouseOutExploreTrackerHandler=function(e){e=e||t.event;var n=this.container.getBoundingClientRect();e.clientX>=n.left&&e.clientX<n.right&&e.clientY>=n.top&&e.clientY<n.bottom||this.exploreTimeoutId&&(TRC.Timeout.clear(this.exploreTimeoutId),this.exploreTimeoutId=null)},s.prototype.resetBoxes=function(){this.boxes=[]},s.prototype.setResponsiveRules=function(e,t){var n=this.trc.getProperty(this.mode_name,"responsive-rules");n?this.setOnStandardResponsiveRules(e,t,n):this.setOnAutoSizeResponsiveRules(e,t,this.trc.getProperty(this.mode_name,"auto-size-rules"))},s.prototype.setOnStandardResponsiveRules=function(e,t,n){var s,o,i,a=this.trc.getProperty(this.mode_name,"rows"),r=1;try{o=this.responsiveRules=[];for(s=0,i=n.length;i>s;s++)o[s]={rows:n[s].rows||a||r,cells:n[s].cells,min:n[s].minWidth,max:n[s].maxWidth,margin:n[s].margin.h,ratio:this.getRuleAspectRatio(n[s])||this.getThumbAspectRatio(this.trc.modes[this.mode_name])||100*this.DEFAULT_THUMB_RATIO},this.isClassFilter&&this.pushResponsiveIERules(e+"_rule"+s,o[s].min);TRC.css.utils.setStyleElements(TRC.css.responsive.rulesToCssText(e,this.responsiveRules,t,this.trc.cssReset,this.isWCTextLinks)),this.isClassFilter&&this.setResponsiveIEClassShift(e)}catch(e){__trcError("Error in setOnStandardResponsiveRules : ",e.message)}},s.prototype.setOnAutoSizeResponsiveRules=function(e,t,n){var s,o,a,r=TRC.dom.getWindowWidth(),i=this.container.clientWidth>0?this.container.clientWidth:this.container.offsetWidth,c=r/i,l=this.trc.getProperty(this.mode_name,"rows"),d=1;try{o=this.responsiveRules=[];for(s=0,a=n.length;a>s;s++)o[s]={rows:n[s].rows||l||d,cells:n[s].n,min:c*n[s].minWc,margin:Math.round((n[s].maxWsRange+n[s].minWsRange)/2)/i*100,ratio:this.getThumbAspectRatio(this.trc.modes[this.mode_name])||n[s].ratio||100*this.DEFAULT_THUMB_RATIO},this.isClassFilter&&this.pushResponsiveIERules(e+"_rule"+s,o[s].min);TRC.css.utils.setStyleElements(TRC.css.responsive.rulesToCssText(e,this.responsiveRules,t,this.trc.cssReset)),this.isClassFilter&&this.setResponsiveIEClassShift(e)}catch(e){__trcError("Error in setOnAutoSizeResponsiveRules : ",e.message)}},s.prototype.setResponsiveIEClassShift=function(e){var n=this.getResponsiveIEClassShift(e).trcBind(this);n(),TRC.dom.on(t,"resize",n.trcThrottle(50))},s.prototype.getResponsiveIEClassShift=function(e){var t=e,o="IE_ClassShift",n=TRC.dom.getWindowWidth,s=n();return function(){var e,i,a="",c=-1,r=n();for(e in this.responsiveIERules)this.responsiveIERules.hasOwnProperty(e)&&(i=parseInt(e),i>c&&r>=i&&(a=this.responsiveIERules[e],c=i));t!==a&&(this.container.className=this.container.className.replace(t,a),t=a),Math.abs(s-r)>1&&(TRC.dispatch(o),s=r)}},s.prototype.pushResponsiveIERules=function(e,t){TRC.util.isType(this.responsiveIERules,"Array")||(this.responsiveIERules={},this.pushResponsiveIERules=function(e,t){this.responsiveIERules[t]=e},this.pushResponsiveIERules(e,t))},s.prototype.setMetaAttribute=function(e){e.meta={},__trcCopyProps(this.trc,e.meta),delete e.meta["video-list"]},s.prototype.drawResponsiveList=function(){var a=this.listContainer,s=document.createElement("div"),r=this.recommendationList.length,o=0,c=n.trcGetParentByClassName(this.getContainer(),"trc_related_container"),i="trc_elastic";TRC.pConsole(this.mode_name,"debug","start drawing responsive mode - see info",this.trc.getProperty(this.mode_name,"responsive-rules"),"object"),this.isClassFilter=TRC.Browser.ieUpto(8),this.orientation=this.trc.getProperty(this.mode_name,"orientation"),TRC.dom.addClass(c,i+" "+i+"_"+this.id),this.resetBoxes(),s.id="internal_"+this.id,TRC.dom.clearInnerElements(a),a.appendChild(s),this.setExploreTracker(),this.setMetaAttribute(s),this.firstVideo=null,this.setResponsiveRules(i+"_"+this.id,r),this.pasreRecommendationList(r,this.hasDuration(),s),this.isClassFilter?TRC.listen("IE_ClassShift",this.fixResponsiveVideoBoxes.trcBind(this)):(TRC.dom.on(t,"resize",this.fixResponsiveVideoBoxes.trcBind(this).trcThrottle(500)),TRC.listen("videoCubeChange",this.fixResponsiveVideoBoxes.trcBind(this))),TRC.dom.addClass(this.boxes[0],"trc-first-recommendation trc-spotlight-first-recommendation"),"embed"===this.link_target&&this.postRenderQueue.pushBack("createEmbedThumb",this.createEmbedThumb.trcBind(this)),this.postRenderQueue.pushBack("list-suffix,publisher-end",function(e){this.trc.getFunction(this.mode_name,"list-suffix",e,this),this.trc["publisher-end"](this.id)}.trcBind(this,s)),this.postRenderQueue.pushBack("checkForBlocking",this.checkForBlocking.trcBind(this)),this.postRender(),this.trc.global["thumb-lazy-load-switch"]&&this.setLazyImageLoadMethod(),TRC.eventDelegator.dispatch("onrender",{name:this.mode_name,container:this.container}),this.visibleTimeoutId=null,"undefined"!=typeof this.trc.global&&(o=this.trc.global["visible-delay"]?this.trc.global["visible-delay"]:o),this.trc.global["enable-deferred-visible"]?TRC.Timeout.set(this.sendVisibility.trcBind(this,o,s),this.trc.global["visible-defer-timeout"]||"0"):this.sendVisibility(o,s)},s.prototype.getRecomDirectURL=function(e){if(0==e.search(/\w{3,4}:\/\/(\w+)\.taboola(syndication)?.com/))for(var n=e.split(/[?&]/),t=0,s=n.length;s>t;t++)if("url"==n[t].split("=")[0])return decodeURIComponent(n[t].split("=")[1]);return e},s.prototype.getURLHashParts=function(e){return e[0]+(e[0].search("\\?")>=0?"&":"?")+this.tracking+(e[1]?"#"+e[1]:"")},s.prototype.createVideoBoxDirectURL=function(e){var s,n=e.video_data,t=n.url;try{t=this.getRecomDirectURL(t),n.isSyndicated||(n.original_url=t,t=this.trc.getFunction(this.mode_name,"change-url",t,e,this.tracking),t==n.original_url&&this.tracking&&(s=t.split("#"),t=this.getURLHashParts(s)),"function"==typeof TRC.pageManager&&(t=TRC.pageManager.fixRecommendationURL(t))),n.url=t,e.directURL=t}catch(e){__trcError("Error in createVideoBoxDirectURL",e)}},s.prototype.createVideoBoxClickUrl=function(e,t){var n,s={pi:this.trc.getItemId(),ri:this.response.trc.req,sd:TRC.pageManager.getPublisherValue(TRC.publisherId,"session-data"),ui:TRC.pageManager.getValue("user-id"),it:e.type,ii:e["item-id"],pt:this.getItemType(),li:this.listContainer.id,url:t,vi:TRC.pageManager.getPageData(),p:e.isSyndicated?e.publisher:"",r:Math.floor(100*Math.random())},i=[];for(n in s)s.hasOwnProperty(n)&&s[n]&&(this.trc["normalize-log-param"](n,s[n]),i.push(encodeURIComponent(n)+"="+encodeURIComponent(s[n])));return o+"//"+this.domain+"/"+encodeURIComponent(this.trc["normalize-log-param"]("publisher",TRC.publisherId))+"/log/3/click?"+i.join("&")},s.prototype.fixResponsiveBoxTitleAndDesc=function(e){var t=e.labelsBox,n=e.video_data,a=e.link,o=this.findElement(function(e){return e.className.search("title")>=0},t,"span",null),i=this.findElement(function(e){return e.className.search("description")>=0},t,"span",null),s=this.findElement(function(e){return e.className.search("label-box-overlay")>=0},t,"span",null),r=function(){n.thumbUnder&&t.font&&(a.style.fontSize=t.font+"px")};try{o.innerHTML=e.getAttribute("data-item-title"),setTimeout(function(){this.fixBoxOverflow(o,e.getAttribute("data-item-title"),!1,"false"!=n["truncate-title"]),TRC.Browser.ieUpto(8)&&s&&(s.style.height="99%",s.style.height="100%"),r()}.trcBind(this),0),i&&setTimeout(function(){this.fixBoxOverflow(i,n.description,!0,!0)}.trcBind(this),0)}catch(e){__trcError("Problem in fixResponsiveBoxTitleAndDesc",e)}},s.prototype.createVideoBoxLabels=function(e){var t=document.createElement("span");return this.setVideoBoxLabelsClass(t),e.appendChild(t),t},s.prototype.setVideoBoxLabelsClass=function(e){e.className="video-label-box"},s.prototype.createThumbBlockHolder=function(e,t,s){var o=n.createElement("div");o.className="thumbBlock_holder",t.appendChild(o),this.createVideoBoxThumbBlock(e,o,s),this.createVideoBoxAspect(o,e)},s.prototype.createVideoBoxAspect=function(e,t){var n=document.createElement("div");n.className="videoCube_aspect",e.appendChild(n),t.thumbnail_aspect=n},s.prototype.drawVideoBoxThumbnailLink=function(e,t,n,s){var o;return e.img_src=this.getThumbnailURL(n,this.trc.getProperty(this.mode_name,"thumbnail-width"),this.trc.getProperty(this.mode_name,"thumbnail-height")),o=this.createVideoLink(n,s),TRC.dom.addClass(o,"item-thumbnail-href"),this.createThumbBlockHolder(e,o,t),o},s.prototype.createVideoBoxThumbBlock=function(e,t,n){var o=document.createElement("span"),i="",s=e.video_data;n||"video"!=s.type||"undefined"==typeof s.duration||""==s.duration||"0"==s.duration||(i=this.genDuration(s.duration)),o.className="thumbBlock",e.thumbBlock=o,""!=i&&this.createDurationBlock(o,i,s.duration),t.appendChild(o)},s.prototype.setVideoBoxImageHandlers=function(e,t,n){e.onerror=this.responsiveImageOnErrorHandler.trcBind(this,e,t,n),e.onload=this.responsiveImageOnLoadHandler.trcBind(this,e,t,n)},s.prototype.responsiveImageOnErrorHandler=function(e,t,n){var a,s=e.src,r=this.trc.global["images-host"]?this.trc.global["images-host"]:"images.taboola.com",i=s.search(/\Shttp\S/),c=!!s.match(/\Staboola(\S+)?.com\/thumbnails\S/);return i>5&&c&&!TRC.Browser.ie?(s=TRC.URL.prototype.switchProtocol.call(unescape(s.indexOf(r)>-1?unescape(s.slice(i+1)):s.slice(i+1)),o),__trcWarn("Failed to load taboola CDN thumbnail "+e.src+" for item="+n["item-id"]+", loading direct thumbnail instead : "+s),void(t.img_src=e.src=s)):(i>5&&s.indexOf(r)>-1?(s=TRC.URL.prototype.switchProtocol.call(unescape(s.slice(i+1)),o),__trcWarn("Failed to load thumbnail "+e.src+" for item="+n["item-id"]+", loading "+s+" thumbnail instead")):(a=this.trc.getProperty(this.mode_name,"default-thumbnail"),s=TRC.URL.prototype.switchProtocol.call("undefined"!=a?a:"",o),e.onerror=null,__trcWarn("Failed to load thumbnail "+e.src+" for item="+n["item-id"]+", loading default thumbnail instead")),void(TRC.Browser.ieUpto(8)?(e.src=s,null==e.onerror&&TRC.Timeout.set(this.fixResponsiveVideoImage.trcBind(this,t,e,!0),500)):t.thumbBlock.style.backgroundImage="URL("+s+")"))},s.prototype.responsiveImageOnLoadHandler=function(e,t){e&&e.complete?this.appendVideoBoxImage(t):TRC.Browser.ieUpto(8)?(this.appendVideoBoxImage(t),this.fixResponsiveVideoImage(t,e,!1),TRC.listen("IE_ClassShift",this.fixResponsiveVideoImage.trcBind(this,t,e).trcBind(this))):TRC.Timeout.set(arguments.callee.trcBind(this,t.thumbBlock,e),50)},s.prototype.fixResponsiveVideoImage=function(e,t,n){if(this.imageOptimizePrefix)return t.style.visibility="visible",t.style.width="100%",void(t.style.height="100%");var i,l,d,u,h,m,a=7==TRC.Browser.ie?e.thumbBlock.getBoundingClientRect():null,f=e.thumbBlock,r=a?a.right-a.left:f.clientWidth,c=a?a.bottom-a.top:f.clientHeight,s=this.isCssImportant,o=TRC.css.utils;if(0==c||0==r||0==t.height)return 0[0];try{h=r/c,l=this.getImageAspectRatio(t),h>l?(m=Math.floor(r/l),d=Math.floor((c-m)/2),o.setStyleProperty(t,"width",r+"px",s),0!=d&&(TRC.Browser.ieAtleast(8)?(t.style.position="relative",o.setStyleProperty(t,"top",d+"px",s)):o.setStyleProperty(t,"margin-top",d+"px",s))):(u=Math.floor(c*l),i=Math.floor((r-u)/2),o.setStyleProperty(t,"height",c+"px",s),0!=i&&(TRC.Browser.ieAtleast(8)?(t.style.position="relative","ltr"==this.trc.direction?o.setStyleProperty(t,"left",i+"px",s):o.setStyleProperty(t,"left",-1*i+"px",s)):"ltr"==this.trc.direction?o.setStyleProperty(t,"margin-left",i+"px",s):o.setStyleProperty(t,"margin-right",i+"px",s))),t.style.visibility="visible"}catch(e){alert(e.message),__trcError("Error in fixResponsiveVideoImage : ",e.message)}},s.prototype.getImageAspectRatio=function(e){return e.trcRatio||(e.trcRatio=e.width/e.height),e.trcRatio},s.prototype.createVideoBoxImageLoader=function(e){var o,a,r,t=TRC.Browser.ieUpto(8)?n.createElement("img"):new Image,i=e.video_data,s=e.thumbBlock;this.trc.global["thumb-lazy-load-switch"]&&this.updateThumbnailStack(t),t.style.visibility="hidden",7===TRC.Browser.ie&&(e.image_div=document.createElement("div")),TRC.Browser.ieUpto(8)&&(e.img=t),this.setVideoBoxImageHandlers(t,e,i),this.trc.global["use-delay-image-load"]?TRC.Timeout.set(this.setImageLoad.trcBind(this,t,e,e.img_src,100,s,this.trc.global["thumb-lazy-load-switch"]),10):this.setImageLoad(t,e,e.img_src,100,s,this.trc.global["thumb-lazy-load-switch"]),TRC.Browser.ieUpto(6)||(r=this.add_span("thumbnail-overlay",null,s)),o=this.trc.getProperty(this.mode_name,"emblem"),o==null||"null"==o||TRC.Browser.ie&&!TRC.Browser.ieUpto(7)||(a=this.add_span("thumbnail-emblem",null,s),a.style.backgroundImage="url("+o+")"),i.isSyndicated&&this.addVideoBoxBranding(s,i)},s.prototype.updateThumbnailStack=function(e){this.thumbnailImageStack=this.thumbnailImageStack||[],this.thumbnailImageStack.push(e)},s.prototype.addVideoBoxBranding=function(e,t){var n=document.createElement("span"),s=document.createElement("span"),o=this.trc.getProperty(this.mode_name,"syndicated-static-text"),i=this.trc.getProperty(this.mode_name,"syndicated-static-text-position");n.className="branding",t["branding-text"]?n.appendChild(document.createTextNode(this.formatData("syndicator",t["branding-text"]))):t["branding-url"]&&this.createBrandingImage(n,t["branding-url"]),e.appendChild(n),s.className="static-text "+i,o&&s.appendChild(document.createTextNode(o)),e.appendChild(s)},s.prototype.createBrandingImage=function(e,t){var s=n.createElement("img");s.src=t,e.appendChild(s)},s.prototype.createDurationBlock=function(e,t,n){var s=document.createElement("div"),o=this.genDuration(n);s.className="video-duration video-duration-detail",s.appendChild(t),o.style.opacity=1,o.style.filter="alpha(opacity=100)",o.style.backgroundColor="transparent",s.appendChild(o),e.appendChild(s)},s.prototype.createVideoBoxLabelOverlay=function(e){var t=document.createElement("span");t.className="label-box-overlay",e.appendChild(t)},s.prototype.createVideoBoxThumbLink=function(e,t){try{var s=e.video_data,o=e.thumbnail_position,n=this.drawVideoBoxThumbnailLink(e,t,s,e.getAttribute("data-item-title"));"under"===o?(n.title=e.link.title="",e.insertBefore(n,e.link),TRC.dom.addClass(e.link,"video-labels-anchor"),this.findElement(function(e){return e.className.search("title")>=0},e.labelsBox,"span",null),8==TRC.Browser.ie&&TRC.dom.addClass(e.link,"ie8fix"),this.createVideoBoxLabelOverlay(e.labelsBox),s.thumbUnder=!0):"bottom"===o?e.appendChild(n):e.insertBefore(n,e.link)}catch(e){__trcError("Error in createVideoBoxThumbLink",e)}},s.prototype.setVideoBoxDataAttr=function(e,t){e.setAttribute("data-item-id",t["item-id"]),e.setAttribute("data-item-title",t.title),e.setAttribute("data-item-thumb",this.getThumbnailURL(t,100,80)),e.setAttribute("data-item-syndicated",!!t.isSyndicated)},s.prototype.getThumbnailPosition=function(e,t){return t||this.trc.getProperty(this.mode_name,"thumbnail-position")},s.prototype.drawResponsiveVideoBox=function(e,t,n,s,o,i){var a=document.createElement("div");try{return t=__trcCopyProps(t,{},{isSyndicated:t["is-syndicated"]||t["is-in-network"]||t["is-native"],isPhoto:"photo"===t.type,isText:"text"===t.type,tags:"string"==typeof t.tags?TRC.text.parseCSV(t.tags):[]}),this.createResponsiveVideoBox(a,t,o,i),"none"!==a.thumbnail_position&&this.createVideoBoxThumbLink(a,n),this.createResponsiveLabelBox(a),TRC.Browser.ieUpto(6)&&this.setOmouseEffects_IE6(a),this.trc.getFunction(this.mode_name,"item-renderer",a,a.video_data),e.appendChild(a),this.fixResponsiveBoxTitleAndDesc(a),this.boxes.push(a),this.createVideoBoxImageLoader(a),a}catch(e){__trcError("Error in drawResponsiveVideoBox",e)}return null},s.prototype.createResponsiveLabelBox=function(e){this.buildLabelBox(e.labelsBox,e.video_data,e.detail_order)},s.prototype.createResponsiveVideoBox=function(e,t,n,s){e.rbox=this,e.video_data=t,e.thumbnail_position=this.getThumbnailPosition(t,s||null),this.setVideoBoxDataAttr(e,t),this.setVideoBoxClassName(e),this.createVideoBoxDirectURL(e),t.logger_url=this.createVideoBoxClickUrl(e.video_data,e.directURL),e.setAttribute("data-item-title",t.title),this.createVideoBoxVideoLink(e),this.setVideoBoxDetailOrder(e,n||null)},s.prototype.setVideoBoxClassName=function(e){var t=0,n=this.isResponsive,s=this.trc.getProperty(this.mode_name,"orientation"),o=TRC.blocker.blockedState>0&&this.trc.global["switch-abp-class"]?this.trc.global["switch-abp-class"].syndicatedItem:TRC.SYNDICATED_CLASS_NAME;this.setVideoBoxClassName=function(e){var i=e.video_data;e.className="videoCube trc_spotlight_item origin-"+i.origin+" thumbnail_"+e.thumbnail_position+(i.isSyndicated?" "+o:"")+(i["is-in-network"]?" inNetworkItem":"")+(i["is-native"]?" tabNativeItem":"")+(i.isPhoto?" photoItem":"")+(i.isText?" textItem":"")+" "+(n?"videoCube_"+(t+=1)+"_child":s)},this.setVideoBoxClassName(e)},s.prototype.setVideoBoxDetailOrder=function(e,t){var n=t||this.trc.getProperty(this.mode_name,"detail-order"+(e.video_data.isSyndicated?"-syndicated":""));e.detail_order=n.split(",")},s.prototype.setOmouseEffects_IE6=function(e){e.onmouseover=function(){TRC.dom.addClass(this," videoCube_hover")},e.onmouseout=function(){this.className=this.className.replace(/\b\s+videoCube_hover\b/g,"")}},s.prototype.createVideoBoxVideoLink=function(e){var n=e.video_data,s=e.getAttribute("data-item-title"),t=this.createVideoLink(n,s);e.labelsBox=this.createVideoBoxLabels(t),e.appendChild(t),e.link=t,TRC.dom.addClass(t,"item-label-href")},s.prototype.appendVideoBoxImage=function(e){try{(null!=e.img_src||this.trc.global["thumb-lazy-load-switch"])&&("undefined"==typeof e.image_div?TRC.Browser.ieUpto(8)?(e.thumbBlock.appendChild(e.img),e.img.style.visibility="visible"):e.thumbBlock.style.backgroundImage="URL("+e.img_src+")":(e.thumbBlock.appendChild(e.image_div),e.image_div.appendChild(e.img),e.img.style.visibility="visible"))}catch(e){__trcError("Pager thumbnail images fixing errors",e)}},s.prototype.pasreRecommendationList=function(e,t,n){this.stopBoxRendering=!1;for(var s,i,o=0;e>o;o++){s=this.recommendationList[o],s.itemIndex=o,null==this.firstVideo&&"video"==s.type&&(this.firstVideo=s);try{this.trc.getFunction(this.mode_name,"item-data-filter",s),this.fixHeight&&!this.stopBoxRendering?(i=this.drawResponsiveVideoBox(n,s,t,this.orientation),this.stopBoxRendering=this.hasMaxHeightExploitation(parseInt(document.trcGetCurrentStyle(this.container,"height"),10),this.fixHeight),this.stopBoxRendering&&this.safeRemoveItem(i)):this.fixHeight||this.drawResponsiveVideoBox(n,s,t,this.orientation,null,null)}catch(e){__trcError("Error in pasreRecommendationList",e)}}},s.prototype.safeRemoveItem=function(e){var t=e.parentNode;TRC.dom.clearInnerElements(e),t.removeChild(e)},s.prototype.hasMaxHeightExploitation=function(e,t){return e>=t},s.prototype.fixResponsiveVideoBoxes=function(){for(var t=this.boxes,e=0,n=t.length;n>e;e++)this.fixResponsiveBoxTitleAndDesc(t[e])},s.prototype.fixWCTextLinksVideoBoxes=function(){for(var t=this.boxes,e=0,n=t.length;n>e;e++)t[e].labelsBox.firstChild.innerHTML=t[e].video_data.title,t[e].fixTextOverflow(!0)},s.prototype.createSponsoredOverlay=function(e){var t=n.createElement("span");t.className="trc_sponsored_overlay",e.appendChild(t)},s.prototype.setSponsoredOverlayClass=function(e,t){t.className="thumbnail"==e?"trc_sponsored_overlay_base":"trc_sponsored_overlay_base round"},s.prototype.genrateResponsiveSponsoredLabel=function(e,t){var n,s=this.trc.getProperty(this.mode_name,"sponsored-location");if(s.match(/^thumbnail/)){n=document.createElement("span");try{this.setSponsoredOverlayClass(s,n),this.createSponsoredOverlay(n),t.appendChild(n),e.spnoverlay=n}catch(e){__trcError("Error while generating sponsored label",e)}}},s.prototype.generateResponsiveOuters=function(e){if(null==this.listContainer){this.header=this.generateHeader(e);var t=n.createElement("div");t.id=this.id.replace("trc_","outer_"),t.className="trc_rbox_outer",this.generateResponsiveRBoxDiv(t),e.appendChild(t),this.trc.global["disclosure-enabled"]===!0?this.addTaboolaLogo():this.addTaboolaLogoNoDisclosure(),e.style.display="block"}},s.prototype.generateResponsiveRBoxDiv=function(e){var t=n.createElement("div");t.id=this.getListId(),t.className="trc_rbox_div trc_rbox_border_elm",e.appendChild(t),this.listContainer=t},s.prototype.sendVisibility=function(e,t){var n,s,o,i,a,r,c,l,d,u,h,m,p,f=null;this.visible_boxes={},this.synd_visible_boxes={},this.network_visible_boxes={},this.native_visible_boxes={},this.visible_items_collection()>=2||this.isVisible()?(p=arguments.callee,this.visibleTimeoutId=TRC.Timeout.set(function(){if(this.visibleTimeoutId&&(TRC.Timeout.clear(this.visibleTimeoutId),this.visibleTimeoutId=null),this.visible_items_collection()>=2||this.isVisible()){{s=[],o=[],m=[],d=[],a=[],c=[],r=[],l=[],i=[],u=[],h=[];for(n in this.visible_boxes)this.visible_boxes.hasOwnProperty(n)&&(s.push(this.visible_boxes[n].id),m.push(this.visible_boxes[n].type));for(n in this.synd_visible_boxes)this.synd_visible_boxes.hasOwnProperty(n)&&(o.push(this.synd_visible_boxes[n].id),d.push(this.synd_visible_boxes[n].type),r.push(this.synd_visible_boxes[n].publisher));for(n in this.network_visible_boxes)this.network_visible_boxes.hasOwnProperty(n)&&(a.push(this.network_visible_boxes[n].id),c.push(this.network_visible_boxes[n].type),l.push(this.network_visible_boxes[n].publisher));for(n in this.native_visible_boxes)this.native_visible_boxes.hasOwnProperty(n)&&(i.push(this.native_visible_boxes[n].id),u.push(this.native_visible_boxes[n].type),h.push(this.native_visible_boxes[n].publisher));if(s.length>0||o.length>0||a.length>0||i.length>0)return TRC.pConsole(this.mode_name,"info","sending visible event",""),this.sendModeDebugData&&(f=this.getModeDebugData("object")),this.sendEvent("visible",{il:s.join(","),sil:o.join(","),ilt:m.join(","),navil:i.join(","),silt:d.join(","),ntil:a.join(","),ntilt:c.join(","),navilt:u.join(","),niltp:l.join(","),siltp:r.join(","),naviltp:h.join(",")},this.util.merge(this.getJsonTargetItemsList(this.fullEventItemsHash),f),!0),this.sendExternalTracking(this.getExternalTrackingURLsList().vi),void this.trc.getFunction(this.mode_name,"after-visible",t,this)}}else TRC.Timeout.set(p.trcBind(this),1e3)}.trcBind(this),e)):TRC.Timeout.set(arguments.callee.trcBind(this),1e3)},s.prototype.sendExternalTracking=function(e){var t,s=this.generatePixelsMarkup(e),o=!TRC.Browser.ieUpto(8);s&&(o&&(o=this.appendPixelsToIFrame(s)),o||(t=n.createElement("span"),t.innerHTML=s,n.body.appendChild(t)))},s.prototype.appendPixelsToIFrame=function(e){var t,s,o,i="trc-pixel-iframe-"+parseInt(1e4*Math.random(),10),a=!1;if(e){try{s=n.createElement("span"),s.innerHTML='<iframe class="trc-hidden" id="'+i+'" name="'+i+'" width="0" height="0" style="display:none"></iframe>',n.body.appendChild(s),t=n.getElementById(i),o=t.contentDocument?t.contentDocument:t.contentWindow.document,o.body.innerHTML=e,a=!0,o.close()}catch{__trcDebug("Failed to create IFrame for external tracking")}return a}},s.prototype.generatePixelsMarkup=function(e){for(var t,s="",n=0;e&&n<e.length;n++)t=TRC.text.encodeHTML(e[n]),t&&(s+='<img width="0" height="0" src="'+TRC.URL.prototype.switchProtocol.call(t,o)+'">');return s},s.prototype.getExternalTrackingURLsList=function(){var e,t,n,s,o=this.recommendationList;if(!this.externalTrackingItemsList){this.externalTrackingItemsList={};for(n=0;o&&n<o.length;n++){t=o[n].itp;for(s=0;t&&s<t.length;s++)e=t[s],e.t&&e.u&&(this.externalTrackingItemsList[e.t]||(this.externalTrackingItemsList[e.t]=[]),this.externalTrackingItemsList[e.t].push(e.u))}}return this.externalTrackingItemsList}}(window,document),function(){var n=TRC.URL=function(e){var t,n=TRC.text.lsplit;if(!e)throw new Error("Invalid URL!");return this.href=e,t=n(e,"#",2),this.hash=t.length>1?"#"+t.pop():"",e=t[0],t=n(e,"?",2),this.search=t.length>1?"?"+t.pop():"",e=t[0],t=n(e,"://",2),this.protocol=t.length>1?t.shift()+":":"",e=t[0],t=n(e,"/",2),this.pathname=t.length>1?"/"+t.pop():"/",e=t[0],t=n(e,"@",2),this.auth=t.length>1?t.shift():"",e=t[0],t=n(e,":",2),this.port=t.length>1?parseInt(t.pop()):0,this.host=t[0],this},s={"http:":1,"https:":1};n.prototype.toString=function(e){return(this.host?this.protocol+"//"+(this.auth?this.auth+"@":"")+this.host+(this.port?":"+this.port:""):"")+this.pathname+this.search+(e?"":this.hash||"")},n.prototype.switchProtocol=function(e){var t,n=this instanceof TRC.URL?this:new TRC.URL(this);return s[e]&&(n.protocol=e),t=n.toString(!1),t.length>1?t:""},n.prototype.getParameter=function(e){var t,n,s=this instanceof TRC.URL?this:new TRC.URL(this);params=s.search.substr(1).split(/&/);for(t=0;t<params.length;t++)if(n=params[t].split(new RegExp("="),2),unescape(n[0])==e)return unescape(n[1]);return null}}(window,document),function(e,t,n){"use strict";var s,o,l={en:{popover:{title:{removed:"Removed!",scRemoved:"Sponsored link removed",thankYou:"Thank You!"},content:{questionnaire:{tellUsWhy:"Tell us why?",options:{uninteresting:"Uninteresting",misleading:"Misleading",offensive:"Offensive",repetitive:"Repetitive",other:"Other"}},approval:"We will try not to show you this content anymore."}},removeBtn:{title:"Remove this item"},undoBtn:{label:"Undo"}},de:{popover:{title:{removed:"Beitrag entfernt",scRemoved:"Gesponserter Beitrag entfernt",thankYou:"Vielen Dank"},content:{questionnaire:{tellUsWhy:"Warum wollten Sie das nicht sehen?",options:{uninteresting:"Interessiert mich nicht",misleading:"Finde ich irreführend",offensive:"Der Inhalt ist anstößig",repetitive:"Ich kenne den Beitrag schon",other:"Andere Gründe"}},approval:"Wir bemühen uns, Ihnen diesen Inhalt nicht noch einmal anzuzeigen."}},removeBtn:{title:"Ich möchte das nicht sehen"},undoBtn:{label:"Beitrag nicht entfernen"}},fr:{popover:{title:{removed:"Supprimé!",scRemoved:"Lien sponsorisé supprimé",thankYou:"Merci!"},content:{questionnaire:{tellUsWhy:"Quelle est la raison?",options:{uninteresting:"Inintéressant",misleading:"Trompeur",offensive:"Offusquant",repetitive:"Répétitif",other:"Autre"}},approval:"Nous essaierons de ne plus vous montrer ce type de contenu à l'avenir."}},removeBtn:{title:"Supprimer ce contenu"},undoBtn:{label:"Annuler"}},it:{popover:{title:{removed:"Rimosso!",scRemoved:"Link sponsorizzato rimosso",thankYou:"Grazie!"},content:{questionnaire:{tellUsWhy:"Ci puoi dire il motivo?",options:{uninteresting:"Non mi interessa",misleading:"Non è coerente",offensive:"E’ offensivo",repetitive:"E’ ripetuto",other:"Altro"}},approval:"Cercheremo di non mostrarti più questo contenuto"}},removeBtn:{title:"Rimuovi questo elemento"},undoBtn:{label:"Annulla"}},jp:{popover:{title:{removed:"削除されました!",scRemoved:"このコンテンツを非表示に設定しました。",thankYou:"ありがとうございました。"},content:{questionnaire:{tellUsWhy:"非表示にされた理由をお聞かせください。",options:{uninteresting:"興味がない",misleading:"紛らわしい",offensive:"不快",repetitive:"繰り返し表示される",other:"その他"}},approval:"いただいたご意見は今後のサービス改善の参考にさせていただきます。"}},removeBtn:{title:"この項目を削除する"},undoBtn:{label:"元に戻す"}}},R=8e3,F=4e3,u=-1,A=function(e){var t=e.which||e.keyCode;27===t&&i()},C=function(e){var t=e.target||e.srcElement;n.dom.isAncestor(n.userX.popover,t,!0)||i()},O=function(e){var t=[];return t.push(".trc_popover_aug_container { position: static;}"),t.push(e+".trc_popover {position: absolute; font-family: Arial, Helvetica, sans-serif; font-size: 12px; line-height: 16px; color: #000000; cursor: default; position: absolute; top: 0; right: 0; z-index: 12000; width: 180px; padding: 1px; text-align: left; white-space: normal; background-color: #ffffff; border: 1px solid #ccc; border: 1px solid rgba(0, 0, 0, 0.2); -webkit-border-radius: 6px; -moz-border-radius: 6px; border-radius: 6px; -webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2); -moz-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2); box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2); -webkit-background-clip: padding-box; -moz-background-clip: padding; background-clip: padding-box;-moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box;}"),t.push(e+".trc_popover iframe{width: 100%;}"),t.push(e+".trc_popover .trc_popover_arrow, .trc_popover .trc_popover_arrow:after { position: absolute; display: block; width: 0; height: 0; border-color: transparent; border-style: solid; }"),t.push(e+".trc_popover .trc_popover_arrow { border-width: 11px; }"),t.push(e+'.trc_popover .trc_popover_arrow:after { border-width: 10px; content: "";}'),t.push(e+".trc_popover.trc_bottom { margin-top: 10px; }"),t.push(e+".trc_popover.trc_bottom .trc_popover_arrow { top: -11px; right: 11px; margin-left: -11px; border-bottom-color: #999; border-bottom-color: rgba(0, 0, 0, 0.25); border-top-width: 0; }"),t.push(e+".trc_popover.trc_bottom .trc_popover_arrow:after { top: 1px; margin-left: -10px; border-bottom-color: #ffffff; border-top-width: 0; }"),n.Browser.ieUpto(8)?(t.push(e+".trc_popover_fade.trc_in { visibility: visible;}"),t.push(e+".trc_popover_fade { visibility: hidden;}"),t.push(e+'.trc_popover_fade.trc_in .trc_popover_arrow:after { content: " ";}')):(t.push(e+".trc_popover_fade.trc_in { visibility: visible; opacity: 1; filter: alpha(opacity=100); transition-delay: 0s, 0s; -moz-transition-delay: 0s, 0s; -webkit-transition-delay: 0s, 0s; -o-transition-delay: 0s, 0s; -ms-transition-delay: 0s, 0s;}"),t.push(e+".trc_popover_fade { visibility: hidden; opacity: 0; filter: alpha(opacity=0); transition: opacity 500ms 0s, visibility 0s 500ms; -webkit-transition: opacity 500ms 0s, visibility 0s 500ms;  -moz-transition: opacity 500ms 0s, visibility 0s 500ms; -o-transition: opacity 500ms 0s, visibility 0s 500ms; -ms-transition: opacity 500ms 0s, visibility 0s 500ms;}")),t.join("")},w=function(){var e=[];return e.push("html {overflow: hidden;}"),e.push("body {display: inline-block; width: 100%; margin: 0; padding: 0; font-family: Arial, Helvetica, sans-serif; font-weight: normal; font-size: 12px; color: #000000;}"),e.push(".trc_popover_title_wrapper {padding: 8px 14px; margin: 0; font-weight: bold; background-color: #f7f7f7; border-bottom: 1px solid #ebebeb; -webkit-border-radius: 5px 5px 0 0; -moz-border-radius: 5px 5px 0 0; border-radius: 5px 5px 0 0; }"),e.push(".trc_popover_title { width: 100%; display: inline-block; vertical-align: middle;}"),e.push(".trc_popover_title_text { float: left;}"),e.push(".trc_popover_content_wrapper { display: inline-block; float: left; padding: 9px 14px; }"),e.push(".trc_popover_content { width: 100%; }"),e.push(".trc_question_container .trc_question_title { margin: 0 0 3px;}"),e.push(".trc_question_container input[type=radio] { float: left; cursor: pointer; margin: 3px 4px 0 5px;}"),e.push(".trc_popover_content_wrapper .trc_question_container label{ float: left; clear: left; width: 100%; cursor: pointer; line-height: 20px; text-align: left;}"),n.Browser.ie&&(e.push("div.trc_question_container input[type=radio] { margin: 0 2px 0 0;}"),8==n.Browser.ie&&e.push("div.trc_question_container input[type=radio] { margin-top: 1px;}")),e.join("")},_=function(o){for(var i=n.dom.createAugmentingContainers(3,null),r=n.dom.generateAugmentationPrefix(i),a=0;a<i.length;a++)i[a].className="trc_popover_aug_container";t.body.appendChild(i[0]),n.dom.injectStyle(O(r)),n.userX.popover=b(i[2]),TRC.dom.on(e,"resize",g),s=l[o||"en"]||l.en,n.userX.isInitialized=!0},y=function(e){for(var t=0;t<e.boxes.length;t++)j(e.boxes[t])},j=function(e){var a=t.trcGetCurrentStyle(e,"position"),o=t.createElement("div"),i=t.createElement("div"),r=t.createElement("div");a&&"static"!==a||(e.style.position="relative"),n.dom.addClass(o,"trc_user_exclude_btn"),o.setAttribute("title",s.removeBtn.title),o.onclick=function(t){T(t,e)}.trcBind(e.rbox),e.appendChild(o),n.dom.addClass(r,"trc_exclude_overlay trc_fade"),e.appendChild(r),n.dom.addClass(i,"trc_undo_btn"),i.innerHTML=s.undoBtn.label,i.onclick=function(t){D(t,e)}.trcBind(this),e.appendChild(i),n.dom.addClass(e,"trc_excludable")},E=function(e){var t=document.createElement("iframe");return t.frameBorder=t.border="0",t.scrolling="no",t.src="javascript:void(0)",t.style.width="100%",e.appendChild(t)},v=function(e,t,n){var s=e.contentDocument?e.contentDocument:e.contentWindow.document;s.write(t),setTimeout(function(){try{s.close(),n&&n()}catch{}},0)},b=function(e){var o,s=t.createElement("div"),i=t.createElement("div");return n.dom.addClass(s,"trc_popover trc_popover_fade trc_bottom"),n.dom.addClass(i,"trc_popover_arrow"),s.appendChild(i),e.appendChild(s),s.trcContentIFrame=o=E(s),n.dom.on(t,"keyup",A),n.dom.on(t,"click",C),n.dom.on(s,"mouseover",a),n.dom.on(s,"mouseout",S),v(o,p(),function(){var e=o.contentDocument||o.contentWindow.document;e.TRC=n,n.dom.injectStyle(w(),e)}),s},p=function(){var t={open:"<script>",close:"<\/script>"},e=[];return e.push("<!doctype html>"),e.push("<body>"),document.domain!==location.hostname&&(e.push(t.open),e.push("document.domain='"+document.domain+"';"),e.push(t.close)),e.push(t.open),e.push("document.head = document.head || document.getElementsByTagName('head')[0];"),e.push(t.close),e.push('<div class=" trc_popover_title_wrapper ">'),e.push('<div class=" trc_popover_title " id="title">'),e.push('<span class=" trc_popover_title_text "></span>'),e.push("</div>"),e.push("</div>"),e.push('<div class=" trc_popover_content_wrapper ">'),e.push('<div id="content" class=" trc_popover_content "></div>'),e.push("</div>"),e.push("</body>"),e.join(`
`)},f=function(e,t,s){var r=n.userX.popover,l=r.trcContentIFrame,d=l.contentDocument||l.contentWindow.document,u=d.getElementById("content"),h=n.Browser.ieUpto(8);e=e||r.videoCube,r.anchor&&n.dom.removeClass(r.anchor,"trc_anchor"),r.videoCube=e,l.style.height=(h?d.body.scrollHeight:d.body.offsetHeight)+"px",n.dom.addClass(r,"trc_in"),t=t||e,r.anchor=t,9==n.Browser.ie&&(r.style.display="block"),c(),a(),s&&(o=new k(i,s)),h&&(u.className=u.className),r.isVisible=!0},i=function(){var e=n.userX.popover,t=e.trcContentIFrame,s=(t.contentDocument||t.contentWindow.document).getElementById("content");n.dom.removeClass(e,"trc_in"),e.anchor&&n.dom.removeClass(e.anchor,"trc_anchor"),n.Browser.ieUpto(8)&&(s.className=s.className),9==n.Browser.ie&&(e.style.display="none"),e.isVisible=!1,a()},m=function(e){var o=n.userX.popover,s=o.trcContentIFrame,t=(s.contentDocument||s.contentWindow.document).getElementById("content");if(t.innerHTML="","string"==typeof e)return void(t.innerHTML=e);try{t.appendChild(e)}catch{t.innerHTML=e.outerHTML}},h=function(e){var s=n.userX.popover,t=s.trcContentIFrame,o=(t.contentDocument||t.contentWindow.document).getElementById("title");o.innerHTML=e},x=function(e){var t={},a=function(e){var t,n=0;return"string"==typeof e&&e!=null&&""!=e&&(t=e.indexOf("px"),n=t>=0?parseInt(e.substring(0,t),10):1),n},l=function(e){var n,t={};return t.left=0,t.top=0,t.right=0,t.bottom=0,window.getComputedStyle?(n=window.getComputedStyle(e,null),t.left=parseInt(n.borderLeftWidth.slice(0,-2),10),t.top=parseInt(n.borderTopWidth.slice(0,-2),10),t.right=parseInt(n.borderRightWidth.slice(0,-2),10),t.bottom=parseInt(n.borderBottomWidth.slice(0,-2),10)):(t.left=a(e.style.borderLeftWidth),t.top=a(e.style.borderTopWidth),t.right=a(e.style.borderRightWidth),t.bottom=a(e.style.borderBottomWidth)),t};if(t.x=0,t.y=0,null!==e)if(e.getBoundingClientRect){var c,r=document.documentElement,d=e.getBoundingClientRect(),u=n.Browser.ie,h=u||window.scrollX==r.scrollLeft||"undefined"==typeof window.scrollX?r.scrollLeft:window.scrollX,m=u||window.scrollY==r.scrollTop||"undefined"==typeof window.scrollY?r.scrollTop:window.scrollY;t.x=d.left+h,t.y=d.top+m}else{t.x=e.offsetLeft,t.y=e.offsetTop;for(var o=e.parentNode,s=e.offsetParent,i=null;s!=null;){if(t.x+=s.offsetLeft,t.y+=s.offsetTop,c=s.tagName.toLowerCase(),(n.Browser.ieUpto(8)&&"table"!=c||(n.Browser.firefoxAtleast(3)||n.Browser.chrome)&&"td"==c)&&(i=l(s),t.x+=i.left,t.y+=i.top),s!=document.body&&s!=document.documentElement&&(t.x-=s.scrollLeft,t.y-=s.scrollTop),!n.Browser.ie&&!n.Browser.opera||n.Browser.ieAtleast(8))for(;s!=o&&null!==o;)t.x-=o.scrollLeft,t.y-=o.scrollTop,(n.Browser.firefoxUpto(3)||n.Browser.webkit)&&(i=l(o),t.x+=i.left,t.y+=i.top),o=o.parentNode;o=s.parentNode,s=s.offsetParent}}return t},c=function(){var o,i,a,e=n.userX.popover,t=e&&e.videoCube&&e.videoCube.rbox.findElement(function(e){return e.className.search("trc_popover_arrow")>=0},e,"div"),s=e&&e.anchor;s&&t&&(n.dom.addClass(s,"trc_anchor"),o=x(s),i=o.x-e.offsetWidth+s.offsetWidth/2+t.clientLeft+t.offsetWidth/2+1,a=o.y+s.offsetHeight,0>i?(t.style.right=e.offsetWidth-o.x-t.offsetWidth/2-s.offsetWidth/2+"px",i=0):t.style.right=null,e.style.left=i+"px",e.style.top=a+"px")},g=function(){var e=n.userX&&n.userX.popover;e&&e.isVisible&&(TRC.Browser.ieUpto(8)?n.dom.getWindowWidth()!=u&&setTimeout(function(){c(),u=n.dom.getWindowWidth()},0):c())},k=function(e,t){var n,s,o=t;this.pause=function(){clearTimeout(n),o-=new Date-s},this.resume=function(){s=new Date,n=setTimeout(e,o)},this.resume()},a=function(){o&&o.pause&&o.pause()},S=function(){o&&o.resume&&o.resume()},M=function(){var e,o,c,i=t.createElement("div"),a=t.createElement("div"),r=s.popover.content.questionnaire.options,l=n.Browser.ieUpto(8)?"onclick":"onchange";n.dom.addClass(i,"trc_question_container"),a.innerHTML=s.popover.content.questionnaire.tellUsWhy,n.dom.addClass(a,"trc_question_title"),i.appendChild(a);for(c in r)r.hasOwnProperty(c)&&(o=t.createElement("label"),e=t.createElement("input"),e.setAttribute("type","radio"),e.setAttribute("name","excludeReason"),e.setAttribute("value",c),e.setAttribute(l,"this.checked = true; TRC.userX.explainExclude(event, TRC.userX.popover.videoCube, 400); "),o.appendChild(e),o.innerHTML+=r[c],i.appendChild(o));return i},r=function(e){var n=e&&e.video_data,t={};return n?(t.ii=n&&n["item-id"],t.prt="rc",n["is-syndicated"]&&(t.prt="sc"),n["is-in-network"]&&(t.prt="nt"),n["is-native"]&&(t.prt="nav"),t.p=n.publisher||"",TRC.pageManager.getValue("past-exclusions")&&(t.px=TRC.pageManager.getValue("past-exclusions")),t):(__trcWarn("No video data have been found for user exclude event request params. aborting."),!1)},T=function(e,t){e=e||event;var s=r(t);return t&&"true"==t.getAttribute("data-excluded")||!s?(__trcDebug("No recommendation to exclude. Not sending exclude event."),n.dom.stopEvent(e)):(t.rbox.sendEvent("exclude",s,null,!1),z(t),n.dom.stopEvent(e))},z=function(e){var t=e.rbox.findElement(function(e){return e.className.search("trc_undo_btn")>=0},e,"div"),o=e&&e.video_data["is-syndicated"]?s.popover.title.scRemoved:s.popover.title.removed;n.userX.popover.videoCube=e,n.pageManager.storeValue("past-exclusions",1),h(o),m(M()),f(e,t,R),e.setAttribute("data-excluded","true"),n.dom.addClass(e,"trc_user_excluded")},D=function(e,t){e=e||event;var s=r(t);return t&&t.getAttribute("data-excluded")&&s?(t.rbox.sendEvent("excludeundo",s,null,!1),N(t),n.dom.stopEvent(e)):(__trcDebug("No recommendation to unexclude. Not sending exclude-undo event."),n.dom.stopEvent(e))},N=function(e){e.removeAttribute("data-excluded"),n.dom.removeClass(e,"trc_user_excluded"),i()},L=function(e,t,n){e=e||event;var o=e.target||e.srcElement,s=r(t);a(),t&&t.getAttribute("data-excluded")&&s?(s.xr=o.getAttribute("value"),t.rbox.sendEvent("excludeexplain",s,null,!1)):__trcDebug("No recommendation exclude to explain. Not sending exclude-explain event."),n?setTimeout(function(){d()},n):d()},d=function(){var e=n.userX.popover,t=n.Browser.ieUpto(9)?0:250;i(),n.dom.addClass(e.anchor,"trc_anchor"),setTimeout(function(){h(s.popover.title.thankYou),m(s.popover.content.approval),f(e.videoCube,e.anchor,F)},t)};n.userX={init:_,initForMode:y,explainExclude:L,locale:"en",isInitialized:!1}}(window,document,TRC),TRC.visibility=TRC.visibility||{},TRC.visibility=function(e){function n(e){var n=TRC.dom.getViewportVerticalRange(),t=TRC.dom.getElementRect(e);return t.top<0?Math.max(t.top,t.bottom):n.max-t.top-n.min}function s(e){var n=TRC.dom.getViewportHorizontalRange(),t=TRC.dom.getElementRect(e);return t.left<0?Math.max(t.left,t.right):n.max-t.left-n.min}return modObject={getViewPortOffsets:function(e){var t=n(e),o=s(e);return{verticalOffset:t,horizontalOffset:o}}},e._trcIsUTactive&&(modObject.getVerticalVPShift=n,modObject.getHorizontalVPShift=s),modObject}(window,document),function(e,t){var s=TRC.PROTOCOL,n=TRC.URL.prototype.getParameter.call(location.href,"trc_console");e.trc_debug_level=TRC.URL.prototype.getParameter.call(location.href,"taboola-debug"),n&&"yes"===n.toLowerCase()&&TRC.Manager.prototype.loadExternal("http://c2.taboola.com/console/console_loader.js","js"),isNaN(parseInt(e.trc_debug_level))&&(trc_debug_level=1),TRC.callbacks={cdnRecommendations:function(e){TRC.dispatch("staticRecommendationsReceived",{response:e})},mute:function(){var t,e=TRCImpl.boxes;if(TRCImpl.preloadRequestLoader=null,TRC.Timeout.reset(),e)for(t in e)e[t].request=null;TRC.pConsole("warning - mute!","warn","server returned mute","")}},TRC.trc_drawRBox=!1,TRC.listOrigin=new TRC.ListOriginBuilder,TRC.baseDomain=TRC.baseDomain||s+"//cdn.taboola.com/libtrc/"+TRC.publisherId+"/",TRC.prototype=TRC.prototype||{},TRC.Interval=function(){var t={};return{set:function(n,s){var i=Array.prototype.slice.call(arguments,2),o=e.setInterval(function(){n instanceof Function?n.apply(null,i):eval(n)},s);return t[o.toString()]=1,o},clear:function(n){n&&(e.clearInterval(n),delete t[n.toString()])},reset:function(){for(intervalId in t)e.clearInterval(intervalId),delete t[intervalId.toString()]}}}(),TRC.Timeout=function(){var t={};return{set:function(n,s){var o=e.setTimeout(function(){delete t[o.toString()],n()},s);return t[o.toString()]=1,o},clear:function(n){n&&(e.clearTimeout(n),delete t[n.toString()])},reset:function(){var n;for(n in t)e.clearTimeout(n),delete t[n.toString()]}}}(),TRC.trcReady=function(){var e;return function(){try{TRC.pConsole("page","debug","libtrc : calling TRC.ready",""),TRC.implLoaded=!0;var n=TRC.ready({style:`.trc_rbox_container{direction:ltr;text-align:left}.trc_rbox_header{border-style:solid;border-width:0}.in_trc_header{position:relative!important;float:right;margin:0}#trc_rbox_css_loaded{overflow:hidden;width:0;height:0}.trc_rbox{margin-top:0}.trc_rbox_div{margin:0 0 3px;direction:ltr;padding:0;box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-webkit-box-sizing:border-box;overflow:auto;position:relative;width:auto;*width:auto;border:solid #CCC 1px}.loading-animation span{display:block}.videoCube{zoom:1;cursor:pointer;float:none;overflow:hidden;box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-webkit-box-sizing:border-box}div.videoCube:hover,.videoCube_hover{cursor:pointer}.videoCube span.video-title:hover,.videoCube_hover span.video-title{text-decoration:underline}.videoCube a{text-decoration:none;border:0;color:#000;cursor:pointer}.videoCube a:hover,.videoCube_hover a,.videoCube a:link,.videoCube a{text-decoration:none!important;outline:0}.videoCube a .thumbBlock{float:left;display:block;overflow:hidden!important}.videoCube a img,.videoCube img{border:0;_border:0;display:block;margin:0;height:auto;width:auto}.videoCube .video-label{display:block;overflow:hidden}.videoCube .video-title{width:auto!important;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.videoCube .video-duration a{}.videoCube .video-duration{height:0;float:left;position:relative;color:#fff;font-size:11px}.videoCube .video-duration dt{border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;background-color:#000;opacity:.6;filter:alpha(opacity=60)}.videoCube span.video-label.trc_ellipsis{position:relative;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical}.sponsored-default .video-description{font-weight:400;color:#000;font-size:9px;max-height:22px;*height:22px;overflow:hidden;line-height:9px}.video-duration.video-duration-detail div{color:#fff}.sponsored-default{background-color:#f7f6c6;padding-bottom:0!important}.trc_rbox .sponsored{position:relative;display:block;overflow:visible;height:auto;width:auto;padding-right:0;text-align:right;font-size:9px}.sponsored-url{white-space:nowrap;float:left;overflow:hidden;width:98%;height:auto;margin-top:0;margin-left:1px;padding-bottom:2px;color:green;font-size:9px;text-decoration:underline}.sponsored-default .video-title{height:26px;font-size:11px;line-height:13px;max-height:26px;*height:26px}.sponsored-default .thumbBlock img{}.sponsored-default .thumbBlock{text-align:center;background-color:transparent}.trc_rbox_div{height:410px}.videoCube{direction:ltr;font-size:11px;margin:0;color:#000;border-width:0}.videoCube.vertical:first-child{border-top:0;margin-top:0}.videoCube.horizontal:first-child{border-left:0;margin-left:0}.trc_rbox .trc_rbox_div .videoCube.vertical{_margin-top:expression(this.previousSibling==null?'0':'default')}.trc_rbox .trc_rbox_div .videoCube.horizontal{_margin-left:expression(this.previousSibling==null?'0':'default')}div.videoCube:hover,.videoCube_hover{background-color:#EBF0FF;color:#000}.videoCube .thumbBlock{margin-right:5px;margin-left:1px;border-style:solid}.videoCube a img,.videoCube img{border-color:#ececec}.videoCube .overlayImg{}.videoCube .video-label-box{margin-left:81px}.videoCube .video-label dt{font-weight:700}.videoCube .video-title{height:auto;margin-bottom:3px;white-space:normal}.videoCube .trc_inline_detail_spacer{display:inline-block;white-space:pre}.sponsored-default{padding-bottom:0}.loading-animation{font-family:sans;font-size:1.5em;text-align:center;color:gray;height:100%}.trc_rbox_header{font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:700;text-decoration:none;color:#000}.trc_header_right_part{position:absolute;left:50%;top:0}.branding_div{overflow:visible;float:right}.branding_div img{height:20px}.trc_pager div{float:left;font-family:sans;cursor:pointer;margin-left:2px;margin-right:2px}.trc_pager_prev,.trc_pager_next{}.trc_pager{font-weight:400}.trc_pager_pages{display:block!important}.trc_related_container div.horizontal{float:left;box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-webkit-box-sizing:border-box}.trc_related_container div.vertical{}.trc_related_container DIV.videoCube.thumbnail_top .thumbBlock,.trc_related_container DIV.videoCube.thumbnail_bottom .thumbBlock{float:none}@media screen and (-webkit-min-device-pixel-ratio:0){.sponsored-url{margin-top:2px}}.vidiscovery-note{display:none}.pager_disabled{cursor:auto}.videoCube .thumbBlock .trc_sponsored_overlay_base{display:block;width:auto;margin-left:0;position:absolute;color:#fff!important}.videoCube .thumbBlock .trc_sponsored_overlay{filter:alpha(opacity=60);opacity:.6;display:block;position:absolute;*left:0}.videoCube .thumbBlock .trc_sponsored_overlay_base .sponsored{position:relative;display:block;overflow:visible;width:auto;text-align:center;padding:0 5px;margin-top:0}.videoCube .thumbBlock .trc_sponsored_overlay_base.round .trc_sponsored_overlay{border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px}.videoCube .thumbBlock .trc_sponsored_overlay_base.round{margin-left:4px}.thumbnail-emblem{background-color:transparent;background-repeat:no-repeat;position:absolute;z-index:50}.playerCube .thumbnail-overlay,.videoCube .thumbnail-overlay{position:absolute;background-color:transparent;background-repeat:no-repeat;z-index:50}.videoCube:hover .thumbnail-overlay,.videoCube_hover .thumbnail-overlay{position:absolute;background-color:transparent;background-repeat:no-repeat;z-index:50}.thumbnail_bottom{padding-bottom:8px}.trc_pager_next img,trc_pager_next pager_disabled img,trc_pager_next:hover img{-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1);filter:FlipH;-ms-filter:"FlipH"}.trc_cover_iframe{position:absolute;z-index:100000;top:0;left:0;background:#000;opacity:.4;filter:alpha(opacity=40);border:0}.trc_lightbox_base{z-index:100001;position:fixed}.trc_lightbox_overlay{background-color:transparent;position:absolute;z-index:100002}.trc_lightbox_transparent{position:absolute;z-index:100003}#trc_lightbox_header{font-family:"Trebuchet MS",Helvetica,sans-serif}.trc_whitebox{background-color:#fff;position:relative;z-index:100004;padding:0 20px 20px;margin:0 auto;border:2px solid #000;-moz-box-shadow:3px 3px 20px #000;-webkit-box-shadow:3px 3px 20px #000;box-shadow:3px 3px 20px #000;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}.trc_whiteboxCloseButton{width:32px;height:32px;border:0;position:absolute;right:-16px;top:-14px;cursor:pointer;background:url(//cdn.taboola.com/taboola-generic/close.png) no-repeat top left transparent;color:#fff;color:transparent;font-size:0}.trc_related_container .logoDiv{font-family:Arial,Helvetica,sans-serif;white-space:nowrap;font-size:9px}.trc_related_container .logoDiv a{font-size:9px;text-decoration:none!important;color:#000;margin-right:1px;vertical-align:text-bottom}.logoDiv a span:hover{text-decoration:underline}.trc_rbox_header .logoDiv{font-size:1em}.trc_related_container .vertical-start-shade{background-image:url(//cdn.taboola.com/taboola-generic/shade-down.png);height:10px;width:auto;position:absolute;z-index:5}.trc_related_container .vertical-end-shade{background-image:url(//cdn.taboola.com/taboola-generic/shade-up.png);height:10px;width:auto;position:absolute;z-index:5}.trc_related_container .horizontal-start-shade{background-image:url(//cdn.taboola.com/taboola-generic/shade-right.png);height:auto;width:10px;position:absolute;z-index:5}.trc_related_container .horizontal-end-shade{background-image:url(//cdn.taboola.com/taboola-generic/shade-left.png);height:auto;width:10px;position:absolute;z-index:5}.trc_rbox_container.trc_expandable{overflow:hidden;max-height:0;transition-property:max-height;-webkit-transition-property:max-height;-moz-transition-property:max-height;-o-transition-property:max-height;-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-ms-transform:translateZ(0);-o-transform:translateZ(0);transform:translateZ(0)}DIV.trc_autoplaylist-box{margin:6px auto 0;border:0;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;padding:4px;font-family:"Trebuchet MS",Helvetica,sans-serif;width:320px;background:#191919;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#191919', endColorstr='#393939');-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#191919, endColorstr=#393939)";background:-webkit-gradient(linear,left top,left bottom,from(#191919),to(#393939));background:-moz-linear-gradient(top,#191919,#393939);background:linear-gradient(top,#191919,#393939)}DIV.trc_autoplaylist-box .trc-next-up-header{font-size:14px;color:#CCC;float:left;line-height:31px;margin:0 4px 0 6px;overflow:hidden;white-space:nowrap}DIV.trc_autoplaylist-box .trc-next-up-countdown{color:#fff;font-weight:700;font-size:15px;padding-left:4px}DIV.trc_autoplaylist-box .nextup{cursor:pointer}DIV.trc_autoplaylist-box .nextup .thumbblock{border:solid #FEFEFE 1px;margin-right:10px}DIV.trc_autoplaylist-box:hover .nextup .thumbblock SPAN.thumbnail-overlay{background-image:url(//cdn.taboola.com/taboola-generic/lightbox-overlay.png)}DIV.trc_autoplaylist-box .nextup .video-label-box{color:#fff;font-weight:700;font-size:12px;line-height:14px}.trc-syndication-link{text-decoration:none;color:inherit}.playerCube{width:100%;height:100%;position:relative;cursor:pointer}.playerCube .thumbnail-overlay{width:100%;height:100%;top:0;left:0;position:absolute}.trc_related_container .whatsThisSyndicated{position:absolute;cursor:pointer}.trc_related_container .whatsThisSyndicated.a-bottom-right,.trc_related_container .static-text.bottom-right{bottom:0;right:0}.trc_related_container .whatsThisSyndicated.a-top-right,.trc_related_container .static-text.top-right{top:0;right:0}.trc_related_container .whatsThisSyndicated.a-bottom-left,.trc_related_container .static-text.bottom-left{bottom:0;left:0}.trc_related_container .whatsThisSyndicated.a-top-left,.trc_related_container .static-text.top-left{top:0;left:0}.trc_related_container .videoCube .thumbBlock .branding{position:absolute;bottom:0;z-index:1;width:100%;margin:0;padding:5px 0;text-align:center}.syndicatedItem .branding{margin:0}.trc_related_container .videoCube .thumbBlock .static-text{position:absolute;z-index:1;margin:0;padding:5px;background-color:#000;color:#fff;display:block;font-family:Arial,Helvetica,sans-serif;font-size:10px;font-weight:400;text-align:left;text-decoration:none;opacity:.7}.trc_related_container .static-text.top{width:100%;top:0;padding:5px 0}.trc_related_container .static-text.bottom{width:100%;bottom:0;padding:2px 0}.trc-inplayer-rbox{background:#333;background:rgba(30,30,30,.9);*background:#333;bottom:0;position:absolute;height:300px;text-align:center}.trc-inplayer-rbox .trc_rbox_container{margin:50px auto 0;width:640px}.trc_rbox.trc-auto-size{width:100%;height:100%}.videoCube.thumbnail_under .thumbBlock{margin-left:0;margin-right:0}.videoCube.thumbnail_under .label-box-overlay{width:100%;height:100%;position:absolute;background:#000;opacity:.75;filter:alpha(opacity=75);top:0;_display:none}.videoCube.thumbnail_under .video-labels-anchor{width:100%;height:auto;position:absolute;z-index:1;left:0;bottom:0;min-height:2.58em;max-height:2.58em;padding-top:2px;padding-bottom:2px;_background-color:#CECECE;-webkit-transition:all .2s linear;-moz-transition:all .2s linear;-ms-transition:all .2s linear;-o-transition:all .2s linear;transition:all .2s linear;line-height:1.25em}.videoCube.thumbnail_under .video-labels-anchor span.video-title,.videoCube.thumbnail_under .video-labels-anchor span.branding{position:relative;z-index:1;padding:0 3px;margin:0}.videoCube.thumbnail_under .video-title{min-height:2.58em}.videoCube.thumbnail_under:hover .video-labels-anchor{opacity:1;max-height:6.45em}.trc-auto-size .trc_rbox_outer .trc_rbox_div{height:auto;width:auto}.trc-auto-size .trc_rbox_div .videoCube{height:auto}.trc-auto-size .trc_rbox_div .videoCube.trc-first-recommendation{margin-top:0}.trc_rbox .trc_rbox_outer .trc_rbox_div .videoCube.trc-first-in-row{margin-left:0}.trc_related_container .trc_elastic{font-size:13px;line-height:18px;color:#333;background-color:#fff;box-shadow:#666 0 0 0 4px;margin:20px}.trc_elastic .trc_rbox{width:auto}.trc_elastic .videoCube{overflow:hidden}.trc_elastic .videoCube .thumbBlock{display:block;background-color:transparent;background-position:center center;background-repeat:no-repeat;background-size:cover;position:absolute;display:inline-block;top:0;right:0;bottom:0;left:0;margin-left:0;margin-right:0}.trc_elastic .thumbBlock_holder{position:relative;width:100%}.trc_elastic .thumbnail_start .thumbBlock_holder{float:left;margin-right:10px}.trc_elastic .videoCube_aspect{width:1px}.trc_elastic .trc_rbox .trc_rbox_div{height:auto}.trc_elastic .video-label-box{display:block}.trc_user_exclude_btn{background:url(//cdn.taboola.com/libtrc/static/thumbnails/f539211219b796ffbb49949997c764f0.png) no-repeat scroll 0 0 transparent;width:12px;height:12px;position:absolute;right:2px;top:2px;z-index:9000;cursor:pointer;visibility:hidden}.trc_undo_btn{font-family:Arial,Helvetica,sans-serif;font-size:11px;line-height:14px;font-weight:400;color:#36C;text-decoration:underline;cursor:pointer;position:absolute;right:2px;top:2px;padding:0 1px;z-index:11000;visibility:hidden}.videoCube:hover .trc_user_exclude_btn,.videoCube_hover .trc_user_exclude_btn,.trc_user_excluded.videoCube:hover .trc_undo_btn,.trc_user_excluded.videoCube_hover .trc_undo_btn,.trc_undo_btn.trc_anchor{visibility:visible}.videoCube.trc_user_excluded .trc_user_exclude_btn{visibility:hidden}.trc_fade{opacity:0;filter:alpha(opacity=0);visibility:hidden;transition:opacity 500ms 0s,visibility 0s 500ms;-webkit-transition:opacity 500ms 0s,visibility 0s 500ms;-moz-transition:opacity 500ms 0s,visibility 0s 500ms;-o-transition:opacity 500ms 0s,visibility 0s 500ms;-ms-transition:opacity 500ms 0s,visibility 0s 500ms}.trc_fade.trc_in,.trc_user_excluded .trc_exclude_overlay{visibility:visible;opacity:1;filter:alpha(opacity=100);transition-delay:0s,0s;-moz-transition-delay:0s,0s;-webkit-transition-delay:0s,0s;-o-transition-delay:0s,0s;-ms-transition-delay:0s,0s}.trc_excludable .trc_exclude_overlay{position:absolute;z-index:10000;top:0;left:0;width:100%;height:100%;cursor:default;background-color:#fff}.videoCube.trc_excludable .trc_exclude_overlay.trc_fade{filter:alpha(opacity=80)\\9}.videoCube.trc_user_excluded .trc_exclude_overlay{visibility:visible;opacity:.8;filter:alpha(opacity=80)}.videoCube.trc_user_excluded .thumbBlock{filter:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0' /></filter></svg>#grayscale");filter:gray;-webkit-filter:grayscale(100%)}.videoCube.trc_user_excluded:hover a .video-label-box .video-title,.videoCube_hover.trc_user_excluded a .video-label-box .video-title{text-decoration:none}.videoCube.trc_user_excluded a .video-label-box *,.videoCube.trc_user_excluded:hover a .video-label-box *,.videoCube_hover.trc_user_excluded a .video-label-box *{color:#000;overflow:hidden;-webkit-transition:color 500ms 0s;-moz-transition:color 500ms 0s;-ms-transition:color 500ms 0s;-o-transition:color 500ms 0s;transition:color 500ms 0s}.videoCube.trc_user_excluded a .video-label-box .label-box-overlay{background-color:#BBB;-webkit-transition:background-color 500ms 0s;-moz-transition:background-color 500ms 0s;-ms-transition:background-color 500ms 0s;-o-transition:background-color 500ms 0s;transition:background-color 500ms 0s}.videoCube.thumbnail_under.trc_user_excluded .video-labels-anchor,.videoCube.thumbnail_under.trc_user_excluded:hover .video-labels-anchor{max-height:none;-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none;transition:none}.trc_related_container .trc_clearer{clear:both;height:0;overflow:hidden;font-size:0;line-height:0;visibility:hidden}.link-adc{float:right!important}.trc-widget-footer .link-adc a .trc_adc_wrapper,.trc_header_ext .link-adc a .trc_adc_wrapper{vertical-align:baseline;height:15px;width:19px;display:inline-block;position:relative}.trc-widget-footer .link-adc a .trc_adc_s_logo,.trc_header_ext .link-adc a .trc_adc_s_logo,.trc-widget-footer .link-adc a .trc_adc_b_logo,.trc_header_ext .link-adc a .trc_adc_b_logo{vertical-align:middle;height:15px;display:inline-block;margin-top:-1px}.trc-widget-footer .link-adc a .trc_adc_s_logo,.trc_header_ext .link-adc a .trc_adc_s_logo{width:19px;background:url(//cdn.taboola.com/libtrc/static/thumbnails/3aadbb71016ecd7a194bbe2791777e9a.png) no-repeat!important}.trc-widget-footer .link-adc a .trc_adc_b_logo,.trc_header_ext .link-adc a .trc_adc_b_logo{width:77px;background:#fff url(//cdn.taboola.com/libtrc/static/thumbnails/0781f9c5a8637d1e162874f157460048.png) no-repeat!important;right:-1px;display:none;position:absolute}.trc_mobile_disclosure_link,.trc_mobile_attribution_link,.trc_mobile_adc_link{display:none}.trc_desktop_disclosure_link,.trc_desktop_attribution_link,.trc_desktop_adc_link{display:inline}@media screen and (max-width:767px){.trc_mobile_disclosure_link{display:inline}.trc_mobile_attribution_link{display:inline}.trc_mobile_adc_link{display:inline}.trc_desktop_disclosure_link{display:none}.trc_desktop_attribution_link{display:none}.trc_desktop_adc_link{display:none}}.trc_in_iframe .trc_mobile_attribution_link,.trc_in_iframe .trc_mobile_disclosure_link{display:inline}.trc_in_iframe .trc_desktop_attribution_link,.trc_in_iframe .trc_desktop_disclosure_link{display:none}.trc_related_container .logoDiv,.trc_related_container .trc_header_ext .logoDiv{float:right}.trc_related_container .logoDiv+.logoDiv{margin-right:2px}.trc_related_container .attribution-disclosure-link-sponsored,.trc_related_container .attribution-disclosure-link-hybrid{display:none}.trc_related_container .trc-content-sponsored .attribution-disclosure-link-sponsored{display:block}.trc_related_container .trc-content-hybrid .attribution-disclosure-link-hybrid{display:block}.trc_related_container .trc-widget-footer:hover a span,.trc_related_container .trc_header_ext:hover a span{text-decoration:underline!important}.logoDiv a span.trc_logos_v_align{display:inline-block!important;font-size:15px!important;line-height:1em!important;width:0!important}.trc_related_container .trc_header_ext:hover a span.trc_logos_v_align,.trc_related_container .trc_header_ext:hover a span.trc_adc_wrapper,.trc_related_container .trc-widget-footer:hover a span.trc_logos_v_align,.trc_related_container .trc-widget-footer:hover a span.trc_adc_wrapper{text-decoration:none!important}.trc_related_container{clear:both}`});if(!n.invisible)return;TRC.dom.onReady(function(){e?(e.innerHTML="",e.style.display="none"):(e=t.createElement("div"),t.body.appendChild(e).style.display="none"),n.internalDrawRBox({mode:"rbox-tracking",container:e})})}catch(e){__trcError("Error in libtrc initialization",e)}}}(),TRC.pConsole("","time","impl file loaded",""),TRC.utm.push((new Date).getTime()-TRC.utm.start),TRC.trcReady()}(window,document)