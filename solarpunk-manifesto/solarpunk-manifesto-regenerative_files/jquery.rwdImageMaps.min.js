(function(e){e.fn.rwdImageMaps=function(){var t=this,n=function(){t.each(function(){if(typeof e(this).attr("usemap")=="undefined")return;var n=this,t=e(n);e("<img />").load(function(){var o,a="width",r="height",i=t.attr(a),s=t.attr(r);(!i||!s)&&(o=new Image,o.src=t.attr("src"),i||(i=o.width),s||(s=o.height));var c=t.width()/100,l=t.height()/100,d=t.attr("usemap").replace("#",""),n="coords";e('map[name="'+d+'"]').find("area").each(function(){o=e(this),o.data(n)||o.data(n,o.attr(n));for(var o,r=o.data(n).split(","),a=new Array(r.length),t=0;t<a.length;++t)t%2===0?a[t]=parseInt(r[t]/i*100*c):a[t]=parseInt(r[t]/s*100*l);o.attr(n,a.toString())})}).attr("src",t.attr("src"))})};return e(window).resize(n).trigger("resize"),this}})(jQuery)