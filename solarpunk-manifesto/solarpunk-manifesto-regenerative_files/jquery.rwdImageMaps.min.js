(function(e){e.fn.rwdImageMaps=function(){var t=this,n=function(){t.each(function(){if(typeof e(this).attr("usemap")=="undefined")return;var n=this,t=e(n);e("<img />").load(function(){var i,a="width",r="height",s=t.attr(a),o=t.attr(r);(!s||!o)&&(i=new Image,i.src=t.attr("src"),s||(s=i.width),o||(o=i.height));var c=t.width()/100,l=t.height()/100,d=t.attr("usemap").replace("#",""),n="coords";e('map[name="'+d+'"]').find("area").each(function(){i=e(this),i.data(n)||i.data(n,i.attr(n));for(var i,r=i.data(n).split(","),a=new Array(r.length),t=0;t<a.length;++t)t%2===0?a[t]=parseInt(r[t]/s*100*c):a[t]=parseInt(r[t]/o*100*l);i.attr(n,a.toString())})}).attr("src",t.attr("src"))})};return e(window).resize(n).trigger("resize"),this}})(jQuery)